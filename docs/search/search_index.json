{"config":{"lang":["de"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Serverseitige Softwareentwicklung Hinweis Dieses Skriptum enth\u00e4lt einen Teil der Inhalte der Lehrveranstaltung Serverseitige Softwareentwicklung . Erg\u00e4nzend zu diesem Skriptum gibt es Videos zur Lehrveranstaltung, welche sich auf Youtube befinden. Alle \u00dcbungsaufgaben befinden sich auf Gitlab . PHP Grundlagen Arrays Superglobals Funktionen Objektorientierte Programmierung Sessions und Cookies Errors und Exceptions Arbeiten mit Datenbanken Quellcode organisieren Arbeiten mit Projektabh\u00e4ngigkeiten Regex Einf\u00fchrung Zeichenklassen Wiederholungen Gruppierungen Alternative Anker und Wortgrenzen Modifikationen Beispiele Nutzung mit PHP Web-Server Einf\u00fchrung Wichtige Funktionen Nginx Nutzung Nginx Konfiguration WebSockets Tutorials PHP Installation PHP Webserver PHP Konfiguration Arbeiten mit SQLite \u00dcbungsblatt 1 - \u00dcbung 0 Mitwirkung Das gesamte Skriptum inkl. \u00dcbungen findet sich innerhalb eines GIT-Repositories auf der Plattform Github. \u00dcber sog. Pull-Requests k\u00f6nnen \u00c4nderungen am Inhalt durchgef\u00fchrt werden. Etwaige Rechtschreibfehler oder Grammatikfehler k\u00f6nnen nat\u00fcrlich gerne ausgebessert werden. \u00c4nderungsvorschl\u00e4ge und Erg\u00e4nzungen k\u00f6nnen auch gerne als Issue angegeben werden.","title":"Home"},{"location":"#serverseitige-softwareentwicklung","text":"Hinweis Dieses Skriptum enth\u00e4lt einen Teil der Inhalte der Lehrveranstaltung Serverseitige Softwareentwicklung . Erg\u00e4nzend zu diesem Skriptum gibt es Videos zur Lehrveranstaltung, welche sich auf Youtube befinden. Alle \u00dcbungsaufgaben befinden sich auf Gitlab .","title":"Serverseitige Softwareentwicklung"},{"location":"#php","text":"Grundlagen Arrays Superglobals Funktionen Objektorientierte Programmierung Sessions und Cookies Errors und Exceptions Arbeiten mit Datenbanken Quellcode organisieren Arbeiten mit Projektabh\u00e4ngigkeiten","title":"PHP"},{"location":"#regex","text":"Einf\u00fchrung Zeichenklassen Wiederholungen Gruppierungen Alternative Anker und Wortgrenzen Modifikationen Beispiele Nutzung mit PHP","title":"Regex"},{"location":"#web-server","text":"Einf\u00fchrung Wichtige Funktionen Nginx Nutzung Nginx Konfiguration WebSockets","title":"Web-Server"},{"location":"#tutorials","text":"PHP Installation PHP Webserver PHP Konfiguration Arbeiten mit SQLite \u00dcbungsblatt 1 - \u00dcbung 0","title":"Tutorials"},{"location":"#mitwirkung","text":"Das gesamte Skriptum inkl. \u00dcbungen findet sich innerhalb eines GIT-Repositories auf der Plattform Github. \u00dcber sog. Pull-Requests k\u00f6nnen \u00c4nderungen am Inhalt durchgef\u00fchrt werden. Etwaige Rechtschreibfehler oder Grammatikfehler k\u00f6nnen nat\u00fcrlich gerne ausgebessert werden. \u00c4nderungsvorschl\u00e4ge und Erg\u00e4nzungen k\u00f6nnen auch gerne als Issue angegeben werden.","title":"Mitwirkung"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/","text":"Arbeiten mit Projekt-Abh\u00e4ngigkeiten Projekt Abh\u00e4ngigkeiten Web-Applikationen werden meist nicht komplett \"from scratch\" programmiert. Bestehende externe Bibliotheken oder Frameworks werden innerhalb der Applikation genutzt. Diese externen Bibliotheken nennt man Projekt-Abh\u00e4ngigkeiten und m\u00fcssen im Projekt verwaltet werden. F\u00fcr alle Programmiersprachen gibt es entsprechende Programme, welche die Verwaltung der Abh\u00e4ngigkeiten bewerkstelligen. Bekannt sind unter anderem npm f\u00fcr javascript , gradle f\u00fcr java oder pip f\u00fcr python . F\u00fcr PHP gibt es composer . Bezeichnung von Abh\u00e4ngigkeiten EntwicklerInnen oder Firmen k\u00f6nnen PHP-Bibliotheken als Open Source Software ver\u00f6ffentlichen und zur Installation \u00fcber Composer bereitstellen. Die entsprechenden Bibliotheken k\u00f6nnen auf Packagist ver\u00f6ffentlicht werden und somit in eigene Projekte integriert werden. Den Statistiken ist zu entnehmen das ca. 260.000 Bibliotheken auf Packagist ver\u00f6ffentlicht sind. Damit Bibliotheken eindeutig identifizierbar sind und damit es zu keinen Namenskonflikten kommt, wird ein Bezeichnungsschema ben\u00f6tigt. Composer Projekte werden mit einem Vendorname und einem Projektname eindeutig bezeichnet. ZB hat Facebook eine PHP-Bibliothek ver\u00f6ffentlicht um mit PHP-Anwendungen die Facebook Graph API abzufragen: facebook/graph-sdk . Dabei ist facebook als Vendorname und graph-sdk als Projektname zu verstehen. Versionierung von Abh\u00e4ngigkeiten Software Bibliotheken werden kontinuierlich neu ver\u00f6ffentlicht. Der Grund daf\u00fcr k\u00f6nnen zum Beispiel neue Features oder aber auch Bugfixes sein. F\u00fcr Nutzer einer Bibliothek ist es wichtig zu wissen, ob neue Ver\u00f6ffentlichungen einer Bibliothek einfach einzubinden sind oder ob diese langwierige API-\u00c4nderungen zur Folge haben. Semantic Versioning Software sollte nach dem Prinzip des Semantic Versioning versioniert werden. Dies geschieht auch f\u00fcr viele Projekte, welche \u00fcber Composer bereitgestellt werden. Im Folgenden sollen die Konzepte des Semantic Versioning kurz zusammengefasst werden: Eine Versionsnummer besteht aus 3 Bestandteilen X.Y.Z , dabei ist X die Major-Version, Y die Minor-Version und Z die Patch-Version. Eine Major-Version definiert eine \u00f6ffentliche API der Bibliothek, welche bei \u00c4nderungen der Minor- oder Patch-Version keine Breaking Changes erf\u00e4hrt. Zum Beispiel w\u00fcrde der Release 2.1.0 als Nachfolger von 2.0.21 f\u00fcr Nutzer der Bibliothek keine \u00c4nderung bedeuten. Eine Minor-Version wird erh\u00f6ht, wenn neue Funktionen zur Bibliothek hinzukommen. Die \u00f6ffentliche API der Bibliothek erf\u00e4hrt keine \u00c4nderungen, welche die R\u00fcckw\u00e4rtskompatibilit\u00e4t beeintr\u00e4chtigen. Es werden nur neue Funktionen hinzugef\u00fcgt, die bestehende API bleibt identisch. Eine Patch-Version wird erh\u00f6ht, falls Bugfixes oder interne \u00c4nderungen an der Bibliothek durchgef\u00fchrt wurden. Die \u00f6ffentliche API wird in keinster Weise abge\u00e4ndert. Es gibt die M\u00f6glichkeit sog. Pre-Releases durchzuf\u00fchren, diese werden \u00fcber einen mit Bindestrich angegebenen Bezeichner angegeben. Zum Beispiel kann eine Alpha- oder Beta-Version einer Bibliothek ver\u00f6ffentlicht werden: 1.0.0-alpha oder 1.0.0-beta . Versionsangabe Die Version einer Abh\u00e4ngigkeit kann \u00fcber unterschiedliche Varianten angegeben werden. Um nach M\u00f6glichkeit auch g\u00fcltige zuk\u00fcnftige Versionen von Bibliotheken zu spezifizieren, k\u00f6nnen Range-Angaben verwendet werden. Exakte Versionsionsangabe Eine exakte Versionsangabe bedeutet, dass nur genau diese Version verwendet werden soll und keine andere. Beispiele: 1.0.5 : Bedeutet exakt diese Version und keine andere 2.2.2 : Bedeutet exakt diese Version und keine andere Angabe einer Range Durch Vergleichsoperatoren ( < , > , <= , >= , != ) k\u00f6nnen Ranges definiert werden. Zus\u00e4tzlich k\u00f6nnen auch logische Operationen verwendet werden um mehrere Range Definitionen zu verkn\u00fcpfen. Dabei ist mit Leerraum oder Beistrich ( oder , ) ein logisches UND definiert und mit || ein logisches ODER definiert. Beispiele: >=1.0 <2.0 : Ein Range innerhalb der Version mit mindestens 1.0 und kleiner 2.0 . Zum Beispiel also 1.0.8 , 1.11.45 oder 1.0.0 . >1.1 <=2.1 || >=3 : Der Range ab 1.2.0 bis 2.1.0 oder ab Version 3.0.0 . Wildcard oder Von-Bis Angabe Zur Vereinfachung von Versionrange Angaben kann der Wildcard-Operator oder eine Von-Bis Angabe durchgef\u00fchrt werden. Beispiele: 2.1.* : Gleichbedeutend zu >=2.1 <2.2 1.* : Gleichbedeutend zu >=1 <2 1.0 - 2.0 : Gleichbedeutend zu >=1.0.0 <2.1 1.0.0 - 2.1.0 : Gleichbedeutend zu >=1.0.0 <=2.1.0 \u00c4hnliche Versionen Mit ~ k\u00f6nnen \u00e4hnliche Versionen ohne die Minor-Version zu erh\u00f6hen angegeben werden. Beispiele: ~1.2.3 : Gleichbedeutend zu >=1.2.3 <1.3.0 ~2.1.1 : Gleichbedeutend zu >=2.1.1 <2.2.0 Kompatible Versionen Mit ^ k\u00f6nnen kompatible Versionen angegeben werden (Major-Version bleibt gleich). Beispiele: ^1.2.3 : Gleichbedeutend zu >=1.2.3 <2 ^2.1.1 : Gleichbedeutend zu >=2.1.1 <3 Funktionsweise von Composer Composer ist ein Kommandozeilenprogramm, dass es erm\u00f6glicht Projekt-Abh\u00e4ngigkeiten aufzul\u00f6sen und entsprechende Bibliotheken lokal im Projekt zu installieren. Entsprechende Bibliotheken werden innerhalb des Ordners vendor im Hauptverzeichnis des Projektes hinterlegt. F\u00fcr alle Klassen der installierten Bibliotheken wird ein Autoloader definiert (siehe Class-Autoloader ). Nur dieser generierte Autoloader muss eingebunden werden um die installierten Bibliotheken zu nutzen. Dieser befindet sich in der Datei vendor/autoload.php : Alle Abh\u00e4ngigkeiten werden in der Datei composer.json , \u00fcber Name und Version, abgelegt. Dabei wird zwischen Projekt-Abh\u00e4ngigkeiten ( require ) und Abh\u00e4ngigkeiten f\u00fcr die Entwicklungszeit ( require-dev ) unterschieden. Composer Konfigurationsdatei Ein Projekt, welches \u00fcber Composer verwaltet wird, hat eine composer.json Datei im Hauptverzeichnis des Projektes. Diese JSON-Datei enth\u00e4lt unter anderem eine Aufschl\u00fcsselung \u00fcber alle Abh\u00e4ngigkeiten des Projektes. Im der unten angef\u00fchrten Datei composer.json , werden zwei Projekt-Abh\u00e4ngigkeiten und eine Entwicklungsabh\u00e4ngigkeit definiert: { \"require\" : { \"monolog/monolog\" : \"^2.0.2\" , \"facebook/graph-sdk\" : \"^5.7.0\" }, \"require-dev\" : { \"phpunit/phpunit\" : \"^9.0.1\" } } Um die Replizierbarkeit des Verhaltens eines Software-Projektes zu gew\u00e4hrleisten, m\u00fcssen die exakten Versionen der installierten Bibliotheken dokumentiert werden. Dies geschieht \u00fcber die Datei composer.lock . Diese Datei wird ausschlie\u00dflich von der Composer erzeugt und sollte in keinem Fall manuell editiert werden. Innerhalb der Datei composer.json k\u00f6nnen viele weitere Projekteigenschaften definiert werden. Eine umfassende Dokumentation dar\u00fcber befindet sich in der Dokumentation \u00fcber das JSON-Schema . Danger Innerhalb eines Version-Control Systems (VCS) wie zB Git sollen ausschlie\u00dflich die Dateien composer.json bzw. composer.lock verwaltet werden. In keinem Fall soll der vendor Ordner mit dem Quellcode der Abh\u00e4ngigkeiten im VCS getrackt werden. Alle EntwicklerInnen k\u00f6nnen \u00fcber Composer alle Abh\u00e4ngigkeiten jederzeit installieren, deshalb gibt es keinen Grund diese ins VCS zu integrieren. Installation von Composer Composer kann \u00fcber einen Windows-Installer installiert werden. Dieser kann \u00fcber die Composer Website heruntergeladen werden. F\u00fcr MacOS oder Linux gibt es entsprechende Installationsanleitungen . Nutzung von Composer Composer ist ein Kommandozeilenprogramm und bietet unterschiedliche Kommandos zum Arbeiten mit Abh\u00e4ngigkeiten. Eine umfassende Beschreibung der Kommandos findet sich in der Dokumentation oder \u00fcber das Command composer help . Abh\u00e4ngigkeiten hinzuf\u00fcgen Mit dem Command require werden Abh\u00e4ngigkeiten in die Datei composer.json hinzugef\u00fcgt und installiert. Dabei kann \u00fcber die Option --dev angezeigt werden, dass es sich um eine Entwicklungsabh\u00e4ngigkeit handelt. Abh\u00e4ngigkeiten k\u00f6nnen ohne Version angegeben werden, somit wird die neueste Version installiert und in die composer.json wird diese Version mit ^ gesetzt, um die Updatef\u00e4higkeit auf zuk\u00fcnftige kompatible Versionen anzugeben: composer require facebook/graph-sdk Es k\u00f6nnen Abh\u00e4ngigkeiten nat\u00fcrlich auch mit einer entsprechenden Versionsangabe installiert werden: composer require \"facebook/graph-sdk:>=5.7 <6\" Abh\u00e4ngigkeiten installieren Mit dem Command install werden alle Abh\u00e4ngigkeiten, welche innerhalb der composer.json definiert sind aufgel\u00f6st und lokal im Ordner vendor installiert. Dabei wird auch eine composer.lock Datei erzeugt, welche eine exakte Dokumentation \u00fcber die installierten Versionen der Abh\u00e4ngigkeiten f\u00fchrt. composer install Update der Abh\u00e4ngigkeiten Mit dem Command update wird versucht alle Abh\u00e4ngigkeiten, unter Ber\u00fccksichtigung der Range Angabe der Versionen, auf den neuesten Stand zu bringen. Dabei wird auch die Datei composer.lock entsprechend angepasst. composer update","title":"Arbeiten mit Projektabh\u00e4ngigkeiten"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#arbeiten-mit-projekt-abhangigkeiten","text":"","title":"Arbeiten mit Projekt-Abh\u00e4ngigkeiten"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#projekt-abhangigkeiten","text":"Web-Applikationen werden meist nicht komplett \"from scratch\" programmiert. Bestehende externe Bibliotheken oder Frameworks werden innerhalb der Applikation genutzt. Diese externen Bibliotheken nennt man Projekt-Abh\u00e4ngigkeiten und m\u00fcssen im Projekt verwaltet werden. F\u00fcr alle Programmiersprachen gibt es entsprechende Programme, welche die Verwaltung der Abh\u00e4ngigkeiten bewerkstelligen. Bekannt sind unter anderem npm f\u00fcr javascript , gradle f\u00fcr java oder pip f\u00fcr python . F\u00fcr PHP gibt es composer .","title":"Projekt Abh\u00e4ngigkeiten"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#bezeichnung-von-abhangigkeiten","text":"EntwicklerInnen oder Firmen k\u00f6nnen PHP-Bibliotheken als Open Source Software ver\u00f6ffentlichen und zur Installation \u00fcber Composer bereitstellen. Die entsprechenden Bibliotheken k\u00f6nnen auf Packagist ver\u00f6ffentlicht werden und somit in eigene Projekte integriert werden. Den Statistiken ist zu entnehmen das ca. 260.000 Bibliotheken auf Packagist ver\u00f6ffentlicht sind. Damit Bibliotheken eindeutig identifizierbar sind und damit es zu keinen Namenskonflikten kommt, wird ein Bezeichnungsschema ben\u00f6tigt. Composer Projekte werden mit einem Vendorname und einem Projektname eindeutig bezeichnet. ZB hat Facebook eine PHP-Bibliothek ver\u00f6ffentlicht um mit PHP-Anwendungen die Facebook Graph API abzufragen: facebook/graph-sdk . Dabei ist facebook als Vendorname und graph-sdk als Projektname zu verstehen.","title":"Bezeichnung von Abh\u00e4ngigkeiten"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#versionierung-von-abhangigkeiten","text":"Software Bibliotheken werden kontinuierlich neu ver\u00f6ffentlicht. Der Grund daf\u00fcr k\u00f6nnen zum Beispiel neue Features oder aber auch Bugfixes sein. F\u00fcr Nutzer einer Bibliothek ist es wichtig zu wissen, ob neue Ver\u00f6ffentlichungen einer Bibliothek einfach einzubinden sind oder ob diese langwierige API-\u00c4nderungen zur Folge haben.","title":"Versionierung von Abh\u00e4ngigkeiten"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#semantic-versioning","text":"Software sollte nach dem Prinzip des Semantic Versioning versioniert werden. Dies geschieht auch f\u00fcr viele Projekte, welche \u00fcber Composer bereitgestellt werden. Im Folgenden sollen die Konzepte des Semantic Versioning kurz zusammengefasst werden: Eine Versionsnummer besteht aus 3 Bestandteilen X.Y.Z , dabei ist X die Major-Version, Y die Minor-Version und Z die Patch-Version. Eine Major-Version definiert eine \u00f6ffentliche API der Bibliothek, welche bei \u00c4nderungen der Minor- oder Patch-Version keine Breaking Changes erf\u00e4hrt. Zum Beispiel w\u00fcrde der Release 2.1.0 als Nachfolger von 2.0.21 f\u00fcr Nutzer der Bibliothek keine \u00c4nderung bedeuten. Eine Minor-Version wird erh\u00f6ht, wenn neue Funktionen zur Bibliothek hinzukommen. Die \u00f6ffentliche API der Bibliothek erf\u00e4hrt keine \u00c4nderungen, welche die R\u00fcckw\u00e4rtskompatibilit\u00e4t beeintr\u00e4chtigen. Es werden nur neue Funktionen hinzugef\u00fcgt, die bestehende API bleibt identisch. Eine Patch-Version wird erh\u00f6ht, falls Bugfixes oder interne \u00c4nderungen an der Bibliothek durchgef\u00fchrt wurden. Die \u00f6ffentliche API wird in keinster Weise abge\u00e4ndert. Es gibt die M\u00f6glichkeit sog. Pre-Releases durchzuf\u00fchren, diese werden \u00fcber einen mit Bindestrich angegebenen Bezeichner angegeben. Zum Beispiel kann eine Alpha- oder Beta-Version einer Bibliothek ver\u00f6ffentlicht werden: 1.0.0-alpha oder 1.0.0-beta .","title":"Semantic Versioning"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#versionsangabe","text":"Die Version einer Abh\u00e4ngigkeit kann \u00fcber unterschiedliche Varianten angegeben werden. Um nach M\u00f6glichkeit auch g\u00fcltige zuk\u00fcnftige Versionen von Bibliotheken zu spezifizieren, k\u00f6nnen Range-Angaben verwendet werden.","title":"Versionsangabe"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#exakte-versionsionsangabe","text":"Eine exakte Versionsangabe bedeutet, dass nur genau diese Version verwendet werden soll und keine andere. Beispiele: 1.0.5 : Bedeutet exakt diese Version und keine andere 2.2.2 : Bedeutet exakt diese Version und keine andere","title":"Exakte Versionsionsangabe"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#angabe-einer-range","text":"Durch Vergleichsoperatoren ( < , > , <= , >= , != ) k\u00f6nnen Ranges definiert werden. Zus\u00e4tzlich k\u00f6nnen auch logische Operationen verwendet werden um mehrere Range Definitionen zu verkn\u00fcpfen. Dabei ist mit Leerraum oder Beistrich ( oder , ) ein logisches UND definiert und mit || ein logisches ODER definiert. Beispiele: >=1.0 <2.0 : Ein Range innerhalb der Version mit mindestens 1.0 und kleiner 2.0 . Zum Beispiel also 1.0.8 , 1.11.45 oder 1.0.0 . >1.1 <=2.1 || >=3 : Der Range ab 1.2.0 bis 2.1.0 oder ab Version 3.0.0 .","title":"Angabe einer Range"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#wildcard-oder-von-bis-angabe","text":"Zur Vereinfachung von Versionrange Angaben kann der Wildcard-Operator oder eine Von-Bis Angabe durchgef\u00fchrt werden. Beispiele: 2.1.* : Gleichbedeutend zu >=2.1 <2.2 1.* : Gleichbedeutend zu >=1 <2 1.0 - 2.0 : Gleichbedeutend zu >=1.0.0 <2.1 1.0.0 - 2.1.0 : Gleichbedeutend zu >=1.0.0 <=2.1.0","title":"Wildcard oder Von-Bis Angabe"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#ahnliche-versionen","text":"Mit ~ k\u00f6nnen \u00e4hnliche Versionen ohne die Minor-Version zu erh\u00f6hen angegeben werden. Beispiele: ~1.2.3 : Gleichbedeutend zu >=1.2.3 <1.3.0 ~2.1.1 : Gleichbedeutend zu >=2.1.1 <2.2.0","title":"\u00c4hnliche Versionen"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#kompatible-versionen","text":"Mit ^ k\u00f6nnen kompatible Versionen angegeben werden (Major-Version bleibt gleich). Beispiele: ^1.2.3 : Gleichbedeutend zu >=1.2.3 <2 ^2.1.1 : Gleichbedeutend zu >=2.1.1 <3","title":"Kompatible Versionen"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#funktionsweise-von-composer","text":"Composer ist ein Kommandozeilenprogramm, dass es erm\u00f6glicht Projekt-Abh\u00e4ngigkeiten aufzul\u00f6sen und entsprechende Bibliotheken lokal im Projekt zu installieren. Entsprechende Bibliotheken werden innerhalb des Ordners vendor im Hauptverzeichnis des Projektes hinterlegt. F\u00fcr alle Klassen der installierten Bibliotheken wird ein Autoloader definiert (siehe Class-Autoloader ). Nur dieser generierte Autoloader muss eingebunden werden um die installierten Bibliotheken zu nutzen. Dieser befindet sich in der Datei vendor/autoload.php : Alle Abh\u00e4ngigkeiten werden in der Datei composer.json , \u00fcber Name und Version, abgelegt. Dabei wird zwischen Projekt-Abh\u00e4ngigkeiten ( require ) und Abh\u00e4ngigkeiten f\u00fcr die Entwicklungszeit ( require-dev ) unterschieden.","title":"Funktionsweise von Composer"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#composer-konfigurationsdatei","text":"Ein Projekt, welches \u00fcber Composer verwaltet wird, hat eine composer.json Datei im Hauptverzeichnis des Projektes. Diese JSON-Datei enth\u00e4lt unter anderem eine Aufschl\u00fcsselung \u00fcber alle Abh\u00e4ngigkeiten des Projektes. Im der unten angef\u00fchrten Datei composer.json , werden zwei Projekt-Abh\u00e4ngigkeiten und eine Entwicklungsabh\u00e4ngigkeit definiert: { \"require\" : { \"monolog/monolog\" : \"^2.0.2\" , \"facebook/graph-sdk\" : \"^5.7.0\" }, \"require-dev\" : { \"phpunit/phpunit\" : \"^9.0.1\" } } Um die Replizierbarkeit des Verhaltens eines Software-Projektes zu gew\u00e4hrleisten, m\u00fcssen die exakten Versionen der installierten Bibliotheken dokumentiert werden. Dies geschieht \u00fcber die Datei composer.lock . Diese Datei wird ausschlie\u00dflich von der Composer erzeugt und sollte in keinem Fall manuell editiert werden. Innerhalb der Datei composer.json k\u00f6nnen viele weitere Projekteigenschaften definiert werden. Eine umfassende Dokumentation dar\u00fcber befindet sich in der Dokumentation \u00fcber das JSON-Schema . Danger Innerhalb eines Version-Control Systems (VCS) wie zB Git sollen ausschlie\u00dflich die Dateien composer.json bzw. composer.lock verwaltet werden. In keinem Fall soll der vendor Ordner mit dem Quellcode der Abh\u00e4ngigkeiten im VCS getrackt werden. Alle EntwicklerInnen k\u00f6nnen \u00fcber Composer alle Abh\u00e4ngigkeiten jederzeit installieren, deshalb gibt es keinen Grund diese ins VCS zu integrieren.","title":"Composer Konfigurationsdatei"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#installation-von-composer","text":"Composer kann \u00fcber einen Windows-Installer installiert werden. Dieser kann \u00fcber die Composer Website heruntergeladen werden. F\u00fcr MacOS oder Linux gibt es entsprechende Installationsanleitungen .","title":"Installation von Composer"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#nutzung-von-composer","text":"Composer ist ein Kommandozeilenprogramm und bietet unterschiedliche Kommandos zum Arbeiten mit Abh\u00e4ngigkeiten. Eine umfassende Beschreibung der Kommandos findet sich in der Dokumentation oder \u00fcber das Command composer help .","title":"Nutzung von Composer"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#abhangigkeiten-hinzufugen","text":"Mit dem Command require werden Abh\u00e4ngigkeiten in die Datei composer.json hinzugef\u00fcgt und installiert. Dabei kann \u00fcber die Option --dev angezeigt werden, dass es sich um eine Entwicklungsabh\u00e4ngigkeit handelt. Abh\u00e4ngigkeiten k\u00f6nnen ohne Version angegeben werden, somit wird die neueste Version installiert und in die composer.json wird diese Version mit ^ gesetzt, um die Updatef\u00e4higkeit auf zuk\u00fcnftige kompatible Versionen anzugeben: composer require facebook/graph-sdk Es k\u00f6nnen Abh\u00e4ngigkeiten nat\u00fcrlich auch mit einer entsprechenden Versionsangabe installiert werden: composer require \"facebook/graph-sdk:>=5.7 <6\"","title":"Abh\u00e4ngigkeiten hinzuf\u00fcgen"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#abhangigkeiten-installieren","text":"Mit dem Command install werden alle Abh\u00e4ngigkeiten, welche innerhalb der composer.json definiert sind aufgel\u00f6st und lokal im Ordner vendor installiert. Dabei wird auch eine composer.lock Datei erzeugt, welche eine exakte Dokumentation \u00fcber die installierten Versionen der Abh\u00e4ngigkeiten f\u00fchrt. composer install","title":"Abh\u00e4ngigkeiten installieren"},{"location":"php/arbeiten-mit-projektabhaengigkeiten/#update-der-abhangigkeiten","text":"Mit dem Command update wird versucht alle Abh\u00e4ngigkeiten, unter Ber\u00fccksichtigung der Range Angabe der Versionen, auf den neuesten Stand zu bringen. Dabei wird auch die Datei composer.lock entsprechend angepasst. composer update","title":"Update der Abh\u00e4ngigkeiten"},{"location":"php/arrays/","text":"Arbeiten mit Arrays Arrays sind ein wichtiger Bestandteil von Programmiersprachen. Erst mit Arrays k\u00f6nnen wichtige Algorithmen sinnvoll implementiert werden. PHP erm\u00f6glicht einen sehr flexiblen Umgang mit Arrays. Generell werden 2 Arten von Arrays unterschieden: Index-basierte Arrays und assoziative Arrays . Diese beiden Arten k\u00f6nnen in der Verwendung auch gemischt werden (Vorsicht) und jeweils auch als mehrdimensionale Arrays verwendet werden. Im Folgenden sollen die wichtigsten Aspekte zum Arbeiten mit Arrays in PHP eingef\u00fchrt werden. Erzeugung eines leeren Arrays <?php $mein_array_1 = []; $mein_array_2 = array (); // alte Syntax kann noch verwendet werden Erzeugung von Arrays mit Inhalten Wird kein Schl\u00fcssel angegeben werden Inhalte indexiert. Auch mehrdimensionale Inhalte k\u00f6nnen hinzugef\u00fcgt werden: <?php $index_array = [ 'index 0' , 123 , [ 'mehr' , 'dimensional' ] ]; Assoziative Arrays werden \u00fcber Schl\u00fcssel/Wert Paare erzeugt: <?php $assoziatives_array = [ 'ein_schl\u00fcssel' => 123 , 'anderer_key' => 456 ]; Es k\u00f6nnen ohne weiters Index-basierte und assoziative Arrays gemischt werden: <?php $array = [ 'ein_schl\u00fcssel' => 123 , 123 , 'anderer wert' ]; Zugriff auf Array-Elemente <?php $array = [ 'ein_schl\u00fcssel' => 123 , 456 , 'anderer wert' ]; echo $array [ 0 ] . \" \\n \" ; echo $array [ 1 ] . \" \\n \" ; echo $array [ 'ein_schl\u00fcssel' ] . \" \\n \" ; echo count ( $array ); Bei einer Mischung von Index-basierten und assoziativen Elementen, z\u00e4hlen die assoziativen Elemente nicht zu den Indizes jedoch zur L\u00e4nge des Arrays. Dies ist gerade bei Schleifen zu beachten . Die Ausgabe des oben angef\u00fchrten Programms sieht wie folgt aus: 456 anderer wert 123 3 Arrays ver\u00e4ndern Neue Elemente k\u00f6nnen mittels einer leicht abgewandelten Zuweisungsoperation am Ende hinzugef\u00fcgt werden. Dazu muss die Variable mit dem Suffix [] ausgestattet werden. <?php $array = []; $array [] = 'index 0' ; $array [] = 'n\u00e4chster Eintrag' ; Ebenfalls kann eine Array-Position mittels Index bzw. Schl\u00fcssel angesprochen werden. Falls ein Index oder Schl\u00fcssel noch nicht besteht wird dieser neu hinzugef\u00fcgt ansonsten abge\u00e4ndert: <?php $array = []; $array [ 0 ] = 'index 0' ; $array [ 'next key' ] = 'n\u00e4chster Eintrag' ; Iteration durch Arrays (Foreach-Schleife) F\u00fcr die Iteration k\u00f6nnen Schleifen verwendet werden. Dazu k\u00f6nnen bekannte For-Schleifen, While-Schleifen oder Do-While-Schleifen verwendet werden. Neben diesen Varianten gibt es f\u00fcr PHP auch eine eigene Foreach-Schleife . <?php $array = []; $array [ 0 ] = 'index 0' ; $array [ 'next key' ] = 'n\u00e4chster Eintrag' ; foreach ( $array as $value ) { echo $value . \" \\n \" ; } foreach ( $array as $key => $value ) { echo $key . \": \" . $value . \" \\n \" ; } Die Foreach-Schleife iteriert durch jedes Element aus dem Array (Index-basierte Arrays sowie assoziative Arrays). Durch das syntaktische Konstrukt $key => $value kann zu jedem Element auch der Index bzw. Schl\u00fcssel abgefragt werden. Die Ausgabe des oben angef\u00fchrten Programms sieht wie folgt aus: index 0 n\u00e4chster Eintrag 0: index 0 next key: n\u00e4chster Eintrag Wichtige Array Funktionen Elemente z\u00e4hlen Mit der Funktion count oder sizeof (als Alias) kann die Anzahl der Elemente in einem Array gez\u00e4hlt werden: <?php $arr = [ \"hello\" , \"array\" , \"count\" ]; echo count ( $arr ); // 3 echo sizeof ( $arr ); // 3 Existenz pr\u00fcfen Mit der Funktion isset kann gepr\u00fcft werden, ob ein Index oder Schl\u00fcssel eines Arrays gesetzt ist (bzw. existiert). Vorsicht Ein Zugriff auf einen undefinierten Schl\u00fcssel oder Index w\u00fcrde zu einem Fehler f\u00fchren. <?php $arr = [ 'key1' => 'value1' , 'key2' => 'value2' ]; if ( isset ( $arr [ 'key1' ])) { echo \"key1 ist gesetzt\" ; } else { echo \"key1 ist nicht gesetzt\" ; } if ( isset ( $arr [ 'key_xyz' ])) { echo \"key_xyz ist gesetzt\" ; } else { echo \"key_xyz ist nicht gesetzt\" ; } Das oben angef\u00fchrte Programm f\u00fchrt zu folgender Ausgabe: key1 ist gesetzt key_xyz ist nicht gesetzt Element l\u00f6schen Die Funktion unset kann verwendet werden um einzelne Elemente eines Arrays zu l\u00f6schen. <?php $arr = [ \"a\" => \"a value\" , \"b\" => \"b value\" ]; echo count ( $arr ) . \" \\n \" ; // 2 unset ( $arr [ \"a\" ]); echo count ( $arr ) . \" \\n \" ; // 1 Dokumentation PHP verf\u00fcgt \u00fcber eine gro\u00dfe Menge von Array Funktionen. Diese Funktionen sind ausf\u00fchrlich mit Beispielen innerhalb der PHP-Dokumentation zu finden.","title":"Arrays"},{"location":"php/arrays/#arbeiten-mit-arrays","text":"Arrays sind ein wichtiger Bestandteil von Programmiersprachen. Erst mit Arrays k\u00f6nnen wichtige Algorithmen sinnvoll implementiert werden. PHP erm\u00f6glicht einen sehr flexiblen Umgang mit Arrays. Generell werden 2 Arten von Arrays unterschieden: Index-basierte Arrays und assoziative Arrays . Diese beiden Arten k\u00f6nnen in der Verwendung auch gemischt werden (Vorsicht) und jeweils auch als mehrdimensionale Arrays verwendet werden. Im Folgenden sollen die wichtigsten Aspekte zum Arbeiten mit Arrays in PHP eingef\u00fchrt werden.","title":"Arbeiten mit Arrays"},{"location":"php/arrays/#erzeugung-eines-leeren-arrays","text":"<?php $mein_array_1 = []; $mein_array_2 = array (); // alte Syntax kann noch verwendet werden","title":"Erzeugung eines leeren Arrays"},{"location":"php/arrays/#erzeugung-von-arrays-mit-inhalten","text":"Wird kein Schl\u00fcssel angegeben werden Inhalte indexiert. Auch mehrdimensionale Inhalte k\u00f6nnen hinzugef\u00fcgt werden: <?php $index_array = [ 'index 0' , 123 , [ 'mehr' , 'dimensional' ] ]; Assoziative Arrays werden \u00fcber Schl\u00fcssel/Wert Paare erzeugt: <?php $assoziatives_array = [ 'ein_schl\u00fcssel' => 123 , 'anderer_key' => 456 ]; Es k\u00f6nnen ohne weiters Index-basierte und assoziative Arrays gemischt werden: <?php $array = [ 'ein_schl\u00fcssel' => 123 , 123 , 'anderer wert' ];","title":"Erzeugung von Arrays mit Inhalten"},{"location":"php/arrays/#zugriff-auf-array-elemente","text":"<?php $array = [ 'ein_schl\u00fcssel' => 123 , 456 , 'anderer wert' ]; echo $array [ 0 ] . \" \\n \" ; echo $array [ 1 ] . \" \\n \" ; echo $array [ 'ein_schl\u00fcssel' ] . \" \\n \" ; echo count ( $array ); Bei einer Mischung von Index-basierten und assoziativen Elementen, z\u00e4hlen die assoziativen Elemente nicht zu den Indizes jedoch zur L\u00e4nge des Arrays. Dies ist gerade bei Schleifen zu beachten . Die Ausgabe des oben angef\u00fchrten Programms sieht wie folgt aus: 456 anderer wert 123 3","title":"Zugriff auf Array-Elemente"},{"location":"php/arrays/#arrays-verandern","text":"Neue Elemente k\u00f6nnen mittels einer leicht abgewandelten Zuweisungsoperation am Ende hinzugef\u00fcgt werden. Dazu muss die Variable mit dem Suffix [] ausgestattet werden. <?php $array = []; $array [] = 'index 0' ; $array [] = 'n\u00e4chster Eintrag' ; Ebenfalls kann eine Array-Position mittels Index bzw. Schl\u00fcssel angesprochen werden. Falls ein Index oder Schl\u00fcssel noch nicht besteht wird dieser neu hinzugef\u00fcgt ansonsten abge\u00e4ndert: <?php $array = []; $array [ 0 ] = 'index 0' ; $array [ 'next key' ] = 'n\u00e4chster Eintrag' ;","title":"Arrays ver\u00e4ndern"},{"location":"php/arrays/#iteration-durch-arrays-foreach-schleife","text":"F\u00fcr die Iteration k\u00f6nnen Schleifen verwendet werden. Dazu k\u00f6nnen bekannte For-Schleifen, While-Schleifen oder Do-While-Schleifen verwendet werden. Neben diesen Varianten gibt es f\u00fcr PHP auch eine eigene Foreach-Schleife . <?php $array = []; $array [ 0 ] = 'index 0' ; $array [ 'next key' ] = 'n\u00e4chster Eintrag' ; foreach ( $array as $value ) { echo $value . \" \\n \" ; } foreach ( $array as $key => $value ) { echo $key . \": \" . $value . \" \\n \" ; } Die Foreach-Schleife iteriert durch jedes Element aus dem Array (Index-basierte Arrays sowie assoziative Arrays). Durch das syntaktische Konstrukt $key => $value kann zu jedem Element auch der Index bzw. Schl\u00fcssel abgefragt werden. Die Ausgabe des oben angef\u00fchrten Programms sieht wie folgt aus: index 0 n\u00e4chster Eintrag 0: index 0 next key: n\u00e4chster Eintrag","title":"Iteration durch Arrays (Foreach-Schleife)"},{"location":"php/arrays/#wichtige-array-funktionen","text":"","title":"Wichtige Array Funktionen"},{"location":"php/arrays/#elemente-zahlen","text":"Mit der Funktion count oder sizeof (als Alias) kann die Anzahl der Elemente in einem Array gez\u00e4hlt werden: <?php $arr = [ \"hello\" , \"array\" , \"count\" ]; echo count ( $arr ); // 3 echo sizeof ( $arr ); // 3","title":"Elemente z\u00e4hlen"},{"location":"php/arrays/#existenz-prufen","text":"Mit der Funktion isset kann gepr\u00fcft werden, ob ein Index oder Schl\u00fcssel eines Arrays gesetzt ist (bzw. existiert). Vorsicht Ein Zugriff auf einen undefinierten Schl\u00fcssel oder Index w\u00fcrde zu einem Fehler f\u00fchren. <?php $arr = [ 'key1' => 'value1' , 'key2' => 'value2' ]; if ( isset ( $arr [ 'key1' ])) { echo \"key1 ist gesetzt\" ; } else { echo \"key1 ist nicht gesetzt\" ; } if ( isset ( $arr [ 'key_xyz' ])) { echo \"key_xyz ist gesetzt\" ; } else { echo \"key_xyz ist nicht gesetzt\" ; } Das oben angef\u00fchrte Programm f\u00fchrt zu folgender Ausgabe: key1 ist gesetzt key_xyz ist nicht gesetzt","title":"Existenz pr\u00fcfen"},{"location":"php/arrays/#element-loschen","text":"Die Funktion unset kann verwendet werden um einzelne Elemente eines Arrays zu l\u00f6schen. <?php $arr = [ \"a\" => \"a value\" , \"b\" => \"b value\" ]; echo count ( $arr ) . \" \\n \" ; // 2 unset ( $arr [ \"a\" ]); echo count ( $arr ) . \" \\n \" ; // 1","title":"Element l\u00f6schen"},{"location":"php/arrays/#dokumentation","text":"PHP verf\u00fcgt \u00fcber eine gro\u00dfe Menge von Array Funktionen. Diese Funktionen sind ausf\u00fchrlich mit Beispielen innerhalb der PHP-Dokumentation zu finden.","title":"Dokumentation"},{"location":"php/datenbanken/","text":"Arbeiten mit Datenbanken PHP Data Objects (PDO) ist eine Datenbankabstraktionsschicht, welche einen einheitlichen Zugriff auf unterschiedliche DBMS \u00fcber eine Schnittstelle erm\u00f6glicht. Somit kann zB zur Entwicklungszeit SQLite verwendet werden und in der Produktivumgebung auf Oracle gesetzt werden. PDO bietet folgende Vorteile: Sicherheit: Escaping von Queryparameter \u00fcber Prepared Statements Usability: Viele n\u00fctzliche Funktionen um einen unproblematischen Zugriff auf das DBMS zu realisieren Wiederverwendbarkeit: Einheitliche API f\u00fcr den Zugriff auf unterschiedliche DBMS F\u00fcr die Arbeit mit PDO werden generell 2 Klassen ben\u00f6tigt. Die Klasse PDO als Einstiegspunkt und die Klasse PDOStatement , welche einzelne SQL-Statements repr\u00e4sentiert. Verbindung mit DSN Um die Verbindung zu einem DBMS aufzubauen wird ein g\u00fcltiger Data Source Name (DSN) ben\u00f6tigt. DSNs sind generell nach einem einfachen Schema aufgebaut. Dannach folgen unterschiedliche Verbindungsparameter als Schl\u00fcssel/Wert Paare mit ; getrennt. Als wichtige Verbindungsparameter sind dabei host , dbname , port und charset zu nennen. Im Folgenden findet sich ein Beispiel eines DSN f\u00fcr eine MySQL-Datenbank mit dem Namen test auf Port 3306 und einem utf-8 Charset: mysql:host=localhost;dbname=test;port=3306;charset=utf-8 Mit der Klasse PDO kann die tats\u00e4chliche Verbindung zu einem DBMS \u00fcber den DSN aufgebaut werden. Je nach verwendetem DBMS sind ein g\u00fcltiger Username bzw. Passwort wichtige Erg\u00e4nzungen zum DSN. Im Folgenden Code-Abschnitt wird die Verbindung zu einer Mysql-Datenbank aufgebaut: <?php $dsn = \"mysql:host=localhost;dbname=test;port=3306;charset=utf-8\" ; $username = \"root\" ; $password = \"geheim\" ; try { $pdo = new PDO ( $dsn , $username , $password ); } catch ( Exception $e ) { echo \"ERROR: \" . $e -> getMessage (); } Die oben erzeugte Variable $pdo wird in den weiteren Quellcode-Abschnitten dieses Textes wiederverwendet. Exec und Query Die Klasse PDO bietet zwei generische Methoden ( exec und query ) um mit einer Datenbank zu arbeiten. Die Methode exec kann genutzt werden um ein SQL-Statement auszuf\u00fchren. Als Ergebnis liefert die Methode \"nur\" die Anzahl der Zeilen, welche durch das SQL-Statement betroffen worden sind. Im folgenden Beispiel wird ein DELETE-Statement mit exec ausgef\u00fchrt. Als Ergebnis wird die Anzahl der gel\u00f6schten Zeilen an die Variable $count zur\u00fcckgegeben: <?php $count = $pdo -> exec ( \"DELETE FROM products WHERE price > 10\" ); Die Methode query erzeugt eine Instanz der Klasse PDOStatement . Ein PDOStatement stellt unter anderem eine Ergebnismenge dar und kann iteriert werden: <?php $sql = \"SELECT * FROM products ORDER BY price\" ; foreach ( $pdo -> query ( $sql ) as $row ) { echo $row [ 'name' ] . \" \" . $row [ 'price' ] . \" \\n \" ; } Warning Die Methoden exec und query sollten nur f\u00fcr statische SQL-Statements verwendet werden. Variable Parameter werden nicht escaped und sind daher offen f\u00fcr SQL-Injections. Prepared Statements SQL-Queries ben\u00f6tigen h\u00e4ufig Parameter aus dem PHP-Programm. Unter anderem aus Sicherheitsgr\u00fcnden sollten dazu Prepared Statements genutzt werden. Im Beispiel sollen alle Attribute eines Produktes anhand der ID des Produktes abgefragt werden. Die ID des Produktes k\u00f6nnte zB \u00fcber den Querystring der URI an das PHP Programm \u00fcbergeben werden. Die Variable $pdo stellt eine g\u00fcltige Datenbankverbindung dar (siehe oben). Folgende Schritte werden im Skript durchgef\u00fchrt: Es wird ein Prepared Statement erzeugt (Methode prepare ). Mit ? werden Platzhalter f\u00fcr variable Bestandteile der SQL-Query definiert. Das erzeugte Prepared Statement kann \u00fcber die Methode execute ausgef\u00fchrt werden. Dabei wird ein Array \u00fcbergeben, dass alle definierten Platzhalter der Reihe nach ersetzt. Alle \u00fcbergebenen Werte werden escaped, sodass es zu keiner SQL-Injection kommen kann. Die Methode fetch kann genutzt werden um das Query-Resultat zeilenweise abzufragen. fetch gibt false zur\u00fcck, falls das Ergebnis leer ist. <?php $statement = $pdo -> prepare ( 'SELECT * FROM products WHERE id = ?' ); $statement -> execute ([ $_GET [ 'id' ]]); $product = $statement -> fetch (); INSERT Statement <?php $statement = $pdo -> prepare ( \"INSERT INTO products (name, description, price) VALUES (?, ?, ?)\" ); $statement -> execute ([ \"Tolles Produkt\" , \"Ein sch\u00f6nes Produkt mit vielen Extras...\" , 5.99 ]); UPDATE Statement <?php $statement = $pdo -> prepare ( \"UPDATE products SET name = ? WHERE id = ?\" ); $statement -> execute ([ \"Neuer Produktname\" , 13 ]); DELETE Statement <?php $statement = $pdo -> prepare ( \"DELETE FROM products WHERE id = ?\" ); $statement -> execute ([ 13 ]); CREATE Statement <?php $create = \"CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, description TEXT NOT NULL, image TEXT NOT NULL, price REAL )\" ; $pdo -> exec ( $create ); Details zu Fetch Zeilenweises Auslesen Die Methode fetch liefert immer nur eine Ergebniszeile je Aufruf. Die Methode fungiert dabei wie ein Cursor und springt die Ergebnismenge zeilenweise durch. Mit einer Schleife kann somit durch die Ergebnismenge iteriert werden. Falls die Ergenbismenge leer ist oder der Cursor am Ende angekommen ist, liefert die Methode fetch false als R\u00fcckgabewert. <?php $stmt = $pdo -> prepare ( 'SELECT name, price FROM products' ); $stmt -> execute (); while ( $product = $stmt -> fetch ()) { echo $product [ 'name' ] . \": \u20ac \" . $product [ 'price' ] . \" \\n \" ; } Fetch Ergebniszeile Die Repr\u00e4sentation einer Ergebniszeile kann \u00fcber den sog. Fetch-Style angepasst werden. PDO bietet 11 verschiedene Fetch-Styles. Die wichtigsten sollen kurz zusammengefasst werden: FETCH_ASSOC : Das Ergebnis wird als assoziatives Array repr\u00e4sentiert. FETCH_NUM : Das Ergebnis wird als indexiertes Array repr\u00e4sentiert. FETCH_BOTH : Dies ist die default Einstellung. Eine Kombination aus FETCH_ASSOC und FETCH_NUM . FETCH_OBJ : Das Ergebnis wird als \"anonymes\" Objekt (der Klasse stdClass ) repr\u00e4sentiert. Die Spalten werden auf Objekteigenschaften gemappt. FETCH_LAZY : \u00c4hnlich zu FETCH_OBJ , die Attribute des Objektes werden jedoch erst zugewiesen, wenn sie abgefragt werden. FETCH_CLASS : Das Ergebnis wird innerhalb eines Objektes der entsprechenden Klasse repr\u00e4sentiert. Die Methode fetchObject kann komfortabel anstelle der Angabe des FETCH_OBJ oder FETCH_CLASS Style verwendet werden. Beispiel fetchObject <?php class Product { protected $id ; protected $name ; protected $price ; // ... getter/setter } $statement = $pdo -> prepare ( \"SELECT id, name, price FROM products\" ); $statement -> execute (); // $product ist eine Instanz der Klasse Product: $product = $statement -> fetchObject ( Product :: class ); Weitere Ressourcen Die PHP-Dokumentation bietet zu PDO und allen Klassen und Methoden eine ausf\u00fchrliche Beschreibung. Die Website phpdelusions.net bietet ein umfangreiches Tutorial zu PDO .","title":"Datenbanken"},{"location":"php/datenbanken/#arbeiten-mit-datenbanken","text":"PHP Data Objects (PDO) ist eine Datenbankabstraktionsschicht, welche einen einheitlichen Zugriff auf unterschiedliche DBMS \u00fcber eine Schnittstelle erm\u00f6glicht. Somit kann zB zur Entwicklungszeit SQLite verwendet werden und in der Produktivumgebung auf Oracle gesetzt werden. PDO bietet folgende Vorteile: Sicherheit: Escaping von Queryparameter \u00fcber Prepared Statements Usability: Viele n\u00fctzliche Funktionen um einen unproblematischen Zugriff auf das DBMS zu realisieren Wiederverwendbarkeit: Einheitliche API f\u00fcr den Zugriff auf unterschiedliche DBMS F\u00fcr die Arbeit mit PDO werden generell 2 Klassen ben\u00f6tigt. Die Klasse PDO als Einstiegspunkt und die Klasse PDOStatement , welche einzelne SQL-Statements repr\u00e4sentiert.","title":"Arbeiten mit Datenbanken"},{"location":"php/datenbanken/#verbindung-mit-dsn","text":"Um die Verbindung zu einem DBMS aufzubauen wird ein g\u00fcltiger Data Source Name (DSN) ben\u00f6tigt. DSNs sind generell nach einem einfachen Schema aufgebaut. Dannach folgen unterschiedliche Verbindungsparameter als Schl\u00fcssel/Wert Paare mit ; getrennt. Als wichtige Verbindungsparameter sind dabei host , dbname , port und charset zu nennen. Im Folgenden findet sich ein Beispiel eines DSN f\u00fcr eine MySQL-Datenbank mit dem Namen test auf Port 3306 und einem utf-8 Charset: mysql:host=localhost;dbname=test;port=3306;charset=utf-8 Mit der Klasse PDO kann die tats\u00e4chliche Verbindung zu einem DBMS \u00fcber den DSN aufgebaut werden. Je nach verwendetem DBMS sind ein g\u00fcltiger Username bzw. Passwort wichtige Erg\u00e4nzungen zum DSN. Im Folgenden Code-Abschnitt wird die Verbindung zu einer Mysql-Datenbank aufgebaut: <?php $dsn = \"mysql:host=localhost;dbname=test;port=3306;charset=utf-8\" ; $username = \"root\" ; $password = \"geheim\" ; try { $pdo = new PDO ( $dsn , $username , $password ); } catch ( Exception $e ) { echo \"ERROR: \" . $e -> getMessage (); } Die oben erzeugte Variable $pdo wird in den weiteren Quellcode-Abschnitten dieses Textes wiederverwendet.","title":"Verbindung mit DSN"},{"location":"php/datenbanken/#exec-und-query","text":"Die Klasse PDO bietet zwei generische Methoden ( exec und query ) um mit einer Datenbank zu arbeiten. Die Methode exec kann genutzt werden um ein SQL-Statement auszuf\u00fchren. Als Ergebnis liefert die Methode \"nur\" die Anzahl der Zeilen, welche durch das SQL-Statement betroffen worden sind. Im folgenden Beispiel wird ein DELETE-Statement mit exec ausgef\u00fchrt. Als Ergebnis wird die Anzahl der gel\u00f6schten Zeilen an die Variable $count zur\u00fcckgegeben: <?php $count = $pdo -> exec ( \"DELETE FROM products WHERE price > 10\" ); Die Methode query erzeugt eine Instanz der Klasse PDOStatement . Ein PDOStatement stellt unter anderem eine Ergebnismenge dar und kann iteriert werden: <?php $sql = \"SELECT * FROM products ORDER BY price\" ; foreach ( $pdo -> query ( $sql ) as $row ) { echo $row [ 'name' ] . \" \" . $row [ 'price' ] . \" \\n \" ; } Warning Die Methoden exec und query sollten nur f\u00fcr statische SQL-Statements verwendet werden. Variable Parameter werden nicht escaped und sind daher offen f\u00fcr SQL-Injections.","title":"Exec und Query"},{"location":"php/datenbanken/#prepared-statements","text":"SQL-Queries ben\u00f6tigen h\u00e4ufig Parameter aus dem PHP-Programm. Unter anderem aus Sicherheitsgr\u00fcnden sollten dazu Prepared Statements genutzt werden. Im Beispiel sollen alle Attribute eines Produktes anhand der ID des Produktes abgefragt werden. Die ID des Produktes k\u00f6nnte zB \u00fcber den Querystring der URI an das PHP Programm \u00fcbergeben werden. Die Variable $pdo stellt eine g\u00fcltige Datenbankverbindung dar (siehe oben). Folgende Schritte werden im Skript durchgef\u00fchrt: Es wird ein Prepared Statement erzeugt (Methode prepare ). Mit ? werden Platzhalter f\u00fcr variable Bestandteile der SQL-Query definiert. Das erzeugte Prepared Statement kann \u00fcber die Methode execute ausgef\u00fchrt werden. Dabei wird ein Array \u00fcbergeben, dass alle definierten Platzhalter der Reihe nach ersetzt. Alle \u00fcbergebenen Werte werden escaped, sodass es zu keiner SQL-Injection kommen kann. Die Methode fetch kann genutzt werden um das Query-Resultat zeilenweise abzufragen. fetch gibt false zur\u00fcck, falls das Ergebnis leer ist. <?php $statement = $pdo -> prepare ( 'SELECT * FROM products WHERE id = ?' ); $statement -> execute ([ $_GET [ 'id' ]]); $product = $statement -> fetch ();","title":"Prepared Statements"},{"location":"php/datenbanken/#insert-statement","text":"<?php $statement = $pdo -> prepare ( \"INSERT INTO products (name, description, price) VALUES (?, ?, ?)\" ); $statement -> execute ([ \"Tolles Produkt\" , \"Ein sch\u00f6nes Produkt mit vielen Extras...\" , 5.99 ]);","title":"INSERT Statement"},{"location":"php/datenbanken/#update-statement","text":"<?php $statement = $pdo -> prepare ( \"UPDATE products SET name = ? WHERE id = ?\" ); $statement -> execute ([ \"Neuer Produktname\" , 13 ]);","title":"UPDATE Statement"},{"location":"php/datenbanken/#delete-statement","text":"<?php $statement = $pdo -> prepare ( \"DELETE FROM products WHERE id = ?\" ); $statement -> execute ([ 13 ]);","title":"DELETE Statement"},{"location":"php/datenbanken/#create-statement","text":"<?php $create = \"CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, description TEXT NOT NULL, image TEXT NOT NULL, price REAL )\" ; $pdo -> exec ( $create );","title":"CREATE Statement"},{"location":"php/datenbanken/#details-zu-fetch","text":"","title":"Details zu Fetch"},{"location":"php/datenbanken/#zeilenweises-auslesen","text":"Die Methode fetch liefert immer nur eine Ergebniszeile je Aufruf. Die Methode fungiert dabei wie ein Cursor und springt die Ergebnismenge zeilenweise durch. Mit einer Schleife kann somit durch die Ergebnismenge iteriert werden. Falls die Ergenbismenge leer ist oder der Cursor am Ende angekommen ist, liefert die Methode fetch false als R\u00fcckgabewert. <?php $stmt = $pdo -> prepare ( 'SELECT name, price FROM products' ); $stmt -> execute (); while ( $product = $stmt -> fetch ()) { echo $product [ 'name' ] . \": \u20ac \" . $product [ 'price' ] . \" \\n \" ; }","title":"Zeilenweises Auslesen"},{"location":"php/datenbanken/#fetch-ergebniszeile","text":"Die Repr\u00e4sentation einer Ergebniszeile kann \u00fcber den sog. Fetch-Style angepasst werden. PDO bietet 11 verschiedene Fetch-Styles. Die wichtigsten sollen kurz zusammengefasst werden: FETCH_ASSOC : Das Ergebnis wird als assoziatives Array repr\u00e4sentiert. FETCH_NUM : Das Ergebnis wird als indexiertes Array repr\u00e4sentiert. FETCH_BOTH : Dies ist die default Einstellung. Eine Kombination aus FETCH_ASSOC und FETCH_NUM . FETCH_OBJ : Das Ergebnis wird als \"anonymes\" Objekt (der Klasse stdClass ) repr\u00e4sentiert. Die Spalten werden auf Objekteigenschaften gemappt. FETCH_LAZY : \u00c4hnlich zu FETCH_OBJ , die Attribute des Objektes werden jedoch erst zugewiesen, wenn sie abgefragt werden. FETCH_CLASS : Das Ergebnis wird innerhalb eines Objektes der entsprechenden Klasse repr\u00e4sentiert. Die Methode fetchObject kann komfortabel anstelle der Angabe des FETCH_OBJ oder FETCH_CLASS Style verwendet werden.","title":"Fetch Ergebniszeile"},{"location":"php/datenbanken/#beispiel-fetchobject","text":"<?php class Product { protected $id ; protected $name ; protected $price ; // ... getter/setter } $statement = $pdo -> prepare ( \"SELECT id, name, price FROM products\" ); $statement -> execute (); // $product ist eine Instanz der Klasse Product: $product = $statement -> fetchObject ( Product :: class );","title":"Beispiel fetchObject"},{"location":"php/datenbanken/#weitere-ressourcen","text":"Die PHP-Dokumentation bietet zu PDO und allen Klassen und Methoden eine ausf\u00fchrliche Beschreibung. Die Website phpdelusions.net bietet ein umfangreiches Tutorial zu PDO .","title":"Weitere Ressourcen"},{"location":"php/errors-und-exceptions/","text":"Errors und Exceptions PHP ist eine Programmiersprache mit einer langen Geschichte. Die Fehlerbehandlung ist daher zweigeteilt in Errors (im Folgenden Fehler gennannt) und Exceptions . Fehler kommen aus der Zeit vor der Objektorientierten Programmierung und Exceptions wurden mit der Objektorientierten Programmierung eingef\u00fchrt. PHP hat einen eher \"lockeren\" Umgang mit Fehlern im Programmablauf. PHP unterscheidet zwischen unterschiedlichen Schweregraden von Fehlern. Nicht in allen Schweregraden wird der Programmablauf gestoppt, sondern die PHP Laufzeitumgebung versucht das Programm weiter auszuf\u00fchren. Eine Exception hingegen f\u00fchrt immer dazu, dass der Programmablauf gestoppt wird. Ein PHP-Programm kann so angepasst werden, dass Fehler in Exceptions \u00fcberf\u00fchrt werden. Dies ist eine g\u00e4ngige Praxis in der modernen PHP Entwicklung (zB in Laravel oder Symfony). Schweregrade von Fehlern PHP identifiziert die unterschiedlichen Schweregrade von Fehlern \u00fcber Konstanten. Die wichtigsten sind folgende: E_ERROR : Fataler Laufzeitfehler, PHP kann die Programmausf\u00fchrung nicht mehr fortf\u00fchren und der gesamte Programmablauf wird gestoppt. Eine Exception ist immer ein E_ERROR ! E_WARNING : Warnungen sind fehlerhaftes Programmverhalten, aber keine fatalen Laufzeitfehler, welche die Ausf\u00fchrung nicht stoppen. E_NOTICE : Hinweise welche im weiteren vielleicht zu einem fatalen Laufzeitfehler f\u00fchren k\u00f6nnen. Alle verf\u00fcgbaren Konstanten sind inder PHP Dokumentation zu finden. Fehler Beispiele E_ERROR <?php $obj = new NonExistingClass (); Es wird versucht eine Instanz der Klasse NonExistingClass zu erzeugen. Die Klasse existiert nicht. Das Programm erzeugt einen Fatal Error (E_ERROR) und wird abgebrochen: PHP Fatal error: Uncaught Error: Class 'NonExistingClass' not found in C:\\example\\error.php:3 Stack trace: #0 {main} thrown in C:\\example\\error.php on line 3 E_WARNING <?php $file = fopen ( \"non_existing_file.txt\" , \"r\" ); Das Programm wird nicht gestoppt, obwohl eine Datei eingelesen werden sollte, welche nicht existiert. Je nachdem wie die Variable $file weiter genutzt wird, kann das Programm nat\u00fcrlich in einem fatalen Fehler resultieren: PHP Warning: fopen(non_existing_file.txt): failed to open stream: No such file or directory in C:\\example\\error.php on line 2 E_NOTICE <?php $sum = 3 + $a ; echo $sum ; Das Programm wird nicht gestoppt, obwohl eine Variable $a verwendet wird, welche nicht definiert wurde. Je nachdem wie die Variable $sum weiter genutzt wird, kann das Programm nat\u00fcrlich in einem fatalen Fehler resultieren: PHP Notice: Undefined variable: a in C:\\example\\error.php on line 2 3 Error Reporting Innerhalb der php.ini wird \u00fcber die Direktive error_reporting angegeben, welche Fehler ausgegeben werden sollen. Die Fehlerausgabe ist wichtig, w\u00e4hrend der Entwicklungszeit jedoch im Produktivbetrieb sollten keine Fehler preisgegeben werden, da diese Informationen aus Sicherheitsgr\u00fcnden verborgen bleiben sollten. Innerhalb von PHP-Skripten kann der in der php.ini gesetzte Wert f\u00fcr error_reporting auch \u00fcberschrieben werden. Dazu kann die gleichnamige Funktion error_reporting verwendet werden. Im Folgenden wird exemplarisch gezeigt wie das Error Reporting innerhalb eins PHP-Skripts konfiguriert werden kann: <?php // Das gesamte Error Reporting ausschalten error_reporting ( 0 ); // Alle Fehler werden \u00fcber Error Reporting ausgegeben error_reporting ( E_ALL ); // E_WARNING oder E_NOTICE Fehler ausgeben sonst alles verschweigen error_reporting ( E_WARNING | E_NOTICE ); // Alle Fehler au\u00dfer E_ERROR (fatale Fehler) sollen ausgegeben werden error_reporting ( E_ALL & ~ E_ERROR ); Exceptions Mit der Einf\u00fchrung der Objektorientierten Programmierung wurden auch Exceptions und try-catch Bl\u00f6cke in PHP eingef\u00fchrt. Die Herausforderung mit Exceptions liegt darin, dass ein Gro\u00dfteil der built-in PHP Funktion Fehler werfen und keine Exceptions. Neuere Objektorientierte Bestandteile der PHP Standard Library hingegen werfen Exceptions und keine Fehler. Exception Hierarchie Die Elternklasse aller PHP Exceptions ist Throwable . Des weiteren gibt es eine Zweiteilung in Error und Exception Exceptions ( Error ist eine Exception mit Klassenname Error ). Error ist die Elternklasse alle PHP Fehler die intern in Exceptions \u00fcberf\u00fchrt werden. Exception ist die Elternklasse aller Exceptions, f\u00fcr eigene Exceptions sollte man diese Klasse als Elternklasse verwenden. Try-catch Bl\u00f6cke Try-catch Bl\u00f6cke k\u00f6nnen, wie aus anderen Programmiersprachen bekannt, verwendet werden: <?php try { // Beliebiger Code, welcher in einem try-catch Block abgewickelt werden soll } catch ( DivisionByZeroError $e ) { // ZB den Division durch 0 Fehler bearbeiten } catch ( ArgumentCountError $e ) { // ZB den falsche Anzahl an Funktionsargumenten Fehler bearbeiten } finally { // Finally wird immer ausgef\u00fchrt, egal ob es sich um eine Exception handelt oder nicht... } Error Handler F\u00fcr ein PHP-Programm kann ein sog. Error Handler angegeben werden, welcher ausgef\u00fchrt wird nachdem ein entsprechender Fehler aufgetreten ist. Damit kann die Entwicklerin bestimmen was beim Auftreten eines Fehlers im Programm passieren soll. An die Funktion set_error_handler kann eine Funktion \u00fcbergeben werden, welche beim Auftreten eines Fehler ausgef\u00fchrt wird. PHP \u00fcbergibt das Error Handling komplett an diese eigens definierte Funktion. Die moderne Praxis \u00fcberf\u00fchrt einen PHP Error in eine sog. ErrorException . Somit werden alle Fehler in fatale Laufzeitfehler \u00fcberf\u00fchrt ( E_ERROR ), da Exceptions immer fatale Laufzeitfehler sind. <?php set_error_handler ( function ( $severity , $message , $file , $line ) { throw new ErrorException ( $message , 0 , $severity , $file , $line ); }); Exception Handler Analog zum Error Handler kann ein Exception Handler definiert werden. Der Exception Handler wird immer dann ausgef\u00fchrt, wenn eine Exception nicht getcatcht wurde (Nicht \u00fcber einen try-catch Block verarbeitet). Alle Exceptions die durch den \"Rost fallen\" k\u00f6nnen dadurch behandelt werden. Damit kann unter anderem sichergestellt werden, dass keine Fehler f\u00fcr Benutzer sichtbar werden. Mit der Funktion set_exception_handler kann eine Funktion als Exception Handler \u00fcbergeben werden. Die Funktion bekommt die entsprechende Exception \u00fcbergeben: <?php set_exception_handler ( function ( Throwable $e ) { // Reaktion auf Exception ... });","title":"Errors und Exceptions"},{"location":"php/errors-und-exceptions/#errors-und-exceptions","text":"PHP ist eine Programmiersprache mit einer langen Geschichte. Die Fehlerbehandlung ist daher zweigeteilt in Errors (im Folgenden Fehler gennannt) und Exceptions . Fehler kommen aus der Zeit vor der Objektorientierten Programmierung und Exceptions wurden mit der Objektorientierten Programmierung eingef\u00fchrt. PHP hat einen eher \"lockeren\" Umgang mit Fehlern im Programmablauf. PHP unterscheidet zwischen unterschiedlichen Schweregraden von Fehlern. Nicht in allen Schweregraden wird der Programmablauf gestoppt, sondern die PHP Laufzeitumgebung versucht das Programm weiter auszuf\u00fchren. Eine Exception hingegen f\u00fchrt immer dazu, dass der Programmablauf gestoppt wird. Ein PHP-Programm kann so angepasst werden, dass Fehler in Exceptions \u00fcberf\u00fchrt werden. Dies ist eine g\u00e4ngige Praxis in der modernen PHP Entwicklung (zB in Laravel oder Symfony).","title":"Errors und Exceptions"},{"location":"php/errors-und-exceptions/#schweregrade-von-fehlern","text":"PHP identifiziert die unterschiedlichen Schweregrade von Fehlern \u00fcber Konstanten. Die wichtigsten sind folgende: E_ERROR : Fataler Laufzeitfehler, PHP kann die Programmausf\u00fchrung nicht mehr fortf\u00fchren und der gesamte Programmablauf wird gestoppt. Eine Exception ist immer ein E_ERROR ! E_WARNING : Warnungen sind fehlerhaftes Programmverhalten, aber keine fatalen Laufzeitfehler, welche die Ausf\u00fchrung nicht stoppen. E_NOTICE : Hinweise welche im weiteren vielleicht zu einem fatalen Laufzeitfehler f\u00fchren k\u00f6nnen. Alle verf\u00fcgbaren Konstanten sind inder PHP Dokumentation zu finden.","title":"Schweregrade von Fehlern"},{"location":"php/errors-und-exceptions/#fehler-beispiele","text":"","title":"Fehler Beispiele"},{"location":"php/errors-und-exceptions/#e_error","text":"<?php $obj = new NonExistingClass (); Es wird versucht eine Instanz der Klasse NonExistingClass zu erzeugen. Die Klasse existiert nicht. Das Programm erzeugt einen Fatal Error (E_ERROR) und wird abgebrochen: PHP Fatal error: Uncaught Error: Class 'NonExistingClass' not found in C:\\example\\error.php:3 Stack trace: #0 {main} thrown in C:\\example\\error.php on line 3","title":"E_ERROR"},{"location":"php/errors-und-exceptions/#e_warning","text":"<?php $file = fopen ( \"non_existing_file.txt\" , \"r\" ); Das Programm wird nicht gestoppt, obwohl eine Datei eingelesen werden sollte, welche nicht existiert. Je nachdem wie die Variable $file weiter genutzt wird, kann das Programm nat\u00fcrlich in einem fatalen Fehler resultieren: PHP Warning: fopen(non_existing_file.txt): failed to open stream: No such file or directory in C:\\example\\error.php on line 2","title":"E_WARNING"},{"location":"php/errors-und-exceptions/#e_notice","text":"<?php $sum = 3 + $a ; echo $sum ; Das Programm wird nicht gestoppt, obwohl eine Variable $a verwendet wird, welche nicht definiert wurde. Je nachdem wie die Variable $sum weiter genutzt wird, kann das Programm nat\u00fcrlich in einem fatalen Fehler resultieren: PHP Notice: Undefined variable: a in C:\\example\\error.php on line 2 3","title":"E_NOTICE"},{"location":"php/errors-und-exceptions/#error-reporting","text":"Innerhalb der php.ini wird \u00fcber die Direktive error_reporting angegeben, welche Fehler ausgegeben werden sollen. Die Fehlerausgabe ist wichtig, w\u00e4hrend der Entwicklungszeit jedoch im Produktivbetrieb sollten keine Fehler preisgegeben werden, da diese Informationen aus Sicherheitsgr\u00fcnden verborgen bleiben sollten. Innerhalb von PHP-Skripten kann der in der php.ini gesetzte Wert f\u00fcr error_reporting auch \u00fcberschrieben werden. Dazu kann die gleichnamige Funktion error_reporting verwendet werden. Im Folgenden wird exemplarisch gezeigt wie das Error Reporting innerhalb eins PHP-Skripts konfiguriert werden kann: <?php // Das gesamte Error Reporting ausschalten error_reporting ( 0 ); // Alle Fehler werden \u00fcber Error Reporting ausgegeben error_reporting ( E_ALL ); // E_WARNING oder E_NOTICE Fehler ausgeben sonst alles verschweigen error_reporting ( E_WARNING | E_NOTICE ); // Alle Fehler au\u00dfer E_ERROR (fatale Fehler) sollen ausgegeben werden error_reporting ( E_ALL & ~ E_ERROR );","title":"Error Reporting"},{"location":"php/errors-und-exceptions/#exceptions","text":"Mit der Einf\u00fchrung der Objektorientierten Programmierung wurden auch Exceptions und try-catch Bl\u00f6cke in PHP eingef\u00fchrt. Die Herausforderung mit Exceptions liegt darin, dass ein Gro\u00dfteil der built-in PHP Funktion Fehler werfen und keine Exceptions. Neuere Objektorientierte Bestandteile der PHP Standard Library hingegen werfen Exceptions und keine Fehler.","title":"Exceptions"},{"location":"php/errors-und-exceptions/#exception-hierarchie","text":"Die Elternklasse aller PHP Exceptions ist Throwable . Des weiteren gibt es eine Zweiteilung in Error und Exception Exceptions ( Error ist eine Exception mit Klassenname Error ). Error ist die Elternklasse alle PHP Fehler die intern in Exceptions \u00fcberf\u00fchrt werden. Exception ist die Elternklasse aller Exceptions, f\u00fcr eigene Exceptions sollte man diese Klasse als Elternklasse verwenden.","title":"Exception Hierarchie"},{"location":"php/errors-und-exceptions/#try-catch-blocke","text":"Try-catch Bl\u00f6cke k\u00f6nnen, wie aus anderen Programmiersprachen bekannt, verwendet werden: <?php try { // Beliebiger Code, welcher in einem try-catch Block abgewickelt werden soll } catch ( DivisionByZeroError $e ) { // ZB den Division durch 0 Fehler bearbeiten } catch ( ArgumentCountError $e ) { // ZB den falsche Anzahl an Funktionsargumenten Fehler bearbeiten } finally { // Finally wird immer ausgef\u00fchrt, egal ob es sich um eine Exception handelt oder nicht... }","title":"Try-catch Bl\u00f6cke"},{"location":"php/errors-und-exceptions/#error-handler","text":"F\u00fcr ein PHP-Programm kann ein sog. Error Handler angegeben werden, welcher ausgef\u00fchrt wird nachdem ein entsprechender Fehler aufgetreten ist. Damit kann die Entwicklerin bestimmen was beim Auftreten eines Fehlers im Programm passieren soll. An die Funktion set_error_handler kann eine Funktion \u00fcbergeben werden, welche beim Auftreten eines Fehler ausgef\u00fchrt wird. PHP \u00fcbergibt das Error Handling komplett an diese eigens definierte Funktion. Die moderne Praxis \u00fcberf\u00fchrt einen PHP Error in eine sog. ErrorException . Somit werden alle Fehler in fatale Laufzeitfehler \u00fcberf\u00fchrt ( E_ERROR ), da Exceptions immer fatale Laufzeitfehler sind. <?php set_error_handler ( function ( $severity , $message , $file , $line ) { throw new ErrorException ( $message , 0 , $severity , $file , $line ); });","title":"Error Handler"},{"location":"php/errors-und-exceptions/#exception-handler","text":"Analog zum Error Handler kann ein Exception Handler definiert werden. Der Exception Handler wird immer dann ausgef\u00fchrt, wenn eine Exception nicht getcatcht wurde (Nicht \u00fcber einen try-catch Block verarbeitet). Alle Exceptions die durch den \"Rost fallen\" k\u00f6nnen dadurch behandelt werden. Damit kann unter anderem sichergestellt werden, dass keine Fehler f\u00fcr Benutzer sichtbar werden. Mit der Funktion set_exception_handler kann eine Funktion als Exception Handler \u00fcbergeben werden. Die Funktion bekommt die entsprechende Exception \u00fcbergeben: <?php set_exception_handler ( function ( Throwable $e ) { // Reaktion auf Exception ... });","title":"Exception Handler"},{"location":"php/funktionen/","text":"Funktionen PHP hat \u00fcber 1000 build-in Funktionen, es k\u00f6nnen auch eigene Funktionen definiert werden. Eine Funktion ist ein Block aus Befehlen, welcher \u00fcber einen Funktionsaufruf ausgef\u00fchrt werden kann. Definition und Nutzung Im unten angef\u00fchrten Beispiel wird eine Funktion add definiert. Diese Funktion kann 2 Parameter erhalten, wobei der zweite Parameter $b einen Defaultwert besitzt. Die Funktion kann also ohne Angabe des zweiten Parameters genutzt werden. Funktionen k\u00f6nnen \u00fcber das Schl\u00fcsselwort return ein Ergebnis zur\u00fcckgeben. <?php function add ( $a , $b = 0 ) { return $a + $b ; } echo add ( 3 , 5 ); // 8 echo add ( 3 ); // 3 echo add ( 3 , add ( 4 , 5 )); // 12 Typdeklaration Es kann f\u00fcr Funktionsparameter und R\u00fcckgabeparameter eine Typdeklaration durchgef\u00fchrt werden. Die PHP-Laufzeitumgebung versucht die entsprechenden Parameter in den gew\u00fcnschten Typ zu \u00fcberf\u00fchren. <?php function add ( int $a , int $b = 0 ) : int { return $a + $b ; } echo add ( 2.555 , \"5\" ); // 7 \u00dcber die Konstante strict_types kann festgelegt werden, dass PHP eine strenge Typisierung durchsetzt. Falls ein Parameter mit falschem Datentyp an eine Funktion \u00fcbergeben wird, wird ein TypeError geworfen. <?php declare ( strict_types = 1 ); function add ( int $a , int $b = 0 ) : int { return $a + $b ; } echo add ( 2.555 , \"5\" ); // ERROR: TypeError Pass by reference (Referenzparameter) Wichtig Einfache Datentypen und Arrays werden als Kopien an eine Funktion \u00fcbergeben ( Pass by value ). Objekte werden immer als Referenz an eine Funktion \u00fcbergeben. Mit vorangestelltem & kann jeglicher Parameter als Referenz \u00fcbergeben. Da einfache Datentypen als Kopien an eine Funktion \u00fcbergeben werden, \u00e4ndert sich durch den Funktionsaufruf der Wert der \u00e4u\u00dferen Variable $x nicht. <?php function multiply ( $a , $multiplier = 10 ) { $a = $a * $multiplier ; } $x = 10 ; multiply ( $x ); echo $x ; // 10 Durch das vorangestellte & wird der Parameter $a zu einer Referenz. Die Variable $x wird als Referenz \u00fcbergeben und durch den Funktionsaufruf wird der Wert der \u00e4u\u00dferen Variable $x abge\u00e4ndert: <?php function multiply ( & $a , $multiplier = 10 ) { $a = $a * $multiplier ; } $x = 10 ; multiply ( $x ); echo $x ; // 100 Scope Funktionen definieren einen lokalen Scope der alle Variablen beinhaltet, welche innerhalb der Funktion definiert werden. Alle \u00e4u\u00dferen (globalen) Variablen sind nicht Teil des inneren (lokalen) Scopes und deshalb innerhalb der Funktion nicht nutzbar (default). Die globale Variable $a ist innerhalb des lokalen Scopes der Funktion nicht nutzbar. Somit produziert die Addition den Wert 10 , da $a im inneren Scope nicht initialisiert wurde: <?php $a = 10 ; function sum () { echo $a + 10 ; } sum (); // Ausgabe: 10 Alle Variablen, welche innerhalb des inneren Scopes in einer Funktion genutzt werden m\u00fcssen und im \u00e4u\u00dferen Scope definiert wurden, m\u00fcssen \u00fcber das Schl\u00fcsselwort global eingebunden werden. <?php $a = 10 ; function sum () { global $a ; echo $a + 10 ; } sum (); // Ausgabe: 20 Variablen als Funktion ausf\u00fchren Variablen die einen String enthalten, welcher einen g\u00fcltigen Funktionsnamen wiederspiegelt, k\u00f6nnen \u00e4hnlich wie eine Funktion aufgerufen werden. Dies kann vorallem hilfreich sein, wenn dynamisch festgelegt werden soll, welche Funktion ausgef\u00fchrt werden soll. <?php function add ( $a , $b ) { return $a + $b ; } function sub ( $a , $b ) { return $a - $b ; } $func = 'add' ; echo $func ( 20 , 10 ) . \" \\n \" ; // 30 $func = 'sub' ; echo $func ( 20 , 10 ) . \" \\n \" ; // 10 Anonyme Funktion als Parameter Funktionen k\u00f6nnen als Parameter an andere Funktionen \u00fcbergeben werden. Dabei muss es sich jedoch um anonyme Funktionen handeln. Anonyme Funktionen k\u00f6nnen entweder in eine Variable gespeichert werden oder direkt als Funktionsparameter definiert werden. <?php function calc ( $a , $b , $func ) { return $func ( $a , $b ); } $add = function ( $a , $b ) { return $a + $b ; }; // WICHTIG: ; muss hier angegeben werden, Variablendeklaration echo calc ( 20 , 10 , $add ) . \" \\n \" ; // 30 echo calc ( 20 , 10 , function ( $a , $b ) { return $a - $b ; }) . \" \\n \" ; // 10","title":"Funktionen"},{"location":"php/funktionen/#funktionen","text":"PHP hat \u00fcber 1000 build-in Funktionen, es k\u00f6nnen auch eigene Funktionen definiert werden. Eine Funktion ist ein Block aus Befehlen, welcher \u00fcber einen Funktionsaufruf ausgef\u00fchrt werden kann.","title":"Funktionen"},{"location":"php/funktionen/#definition-und-nutzung","text":"Im unten angef\u00fchrten Beispiel wird eine Funktion add definiert. Diese Funktion kann 2 Parameter erhalten, wobei der zweite Parameter $b einen Defaultwert besitzt. Die Funktion kann also ohne Angabe des zweiten Parameters genutzt werden. Funktionen k\u00f6nnen \u00fcber das Schl\u00fcsselwort return ein Ergebnis zur\u00fcckgeben. <?php function add ( $a , $b = 0 ) { return $a + $b ; } echo add ( 3 , 5 ); // 8 echo add ( 3 ); // 3 echo add ( 3 , add ( 4 , 5 )); // 12","title":"Definition und Nutzung"},{"location":"php/funktionen/#typdeklaration","text":"Es kann f\u00fcr Funktionsparameter und R\u00fcckgabeparameter eine Typdeklaration durchgef\u00fchrt werden. Die PHP-Laufzeitumgebung versucht die entsprechenden Parameter in den gew\u00fcnschten Typ zu \u00fcberf\u00fchren. <?php function add ( int $a , int $b = 0 ) : int { return $a + $b ; } echo add ( 2.555 , \"5\" ); // 7 \u00dcber die Konstante strict_types kann festgelegt werden, dass PHP eine strenge Typisierung durchsetzt. Falls ein Parameter mit falschem Datentyp an eine Funktion \u00fcbergeben wird, wird ein TypeError geworfen. <?php declare ( strict_types = 1 ); function add ( int $a , int $b = 0 ) : int { return $a + $b ; } echo add ( 2.555 , \"5\" ); // ERROR: TypeError","title":"Typdeklaration"},{"location":"php/funktionen/#pass-by-reference-referenzparameter","text":"Wichtig Einfache Datentypen und Arrays werden als Kopien an eine Funktion \u00fcbergeben ( Pass by value ). Objekte werden immer als Referenz an eine Funktion \u00fcbergeben. Mit vorangestelltem & kann jeglicher Parameter als Referenz \u00fcbergeben. Da einfache Datentypen als Kopien an eine Funktion \u00fcbergeben werden, \u00e4ndert sich durch den Funktionsaufruf der Wert der \u00e4u\u00dferen Variable $x nicht. <?php function multiply ( $a , $multiplier = 10 ) { $a = $a * $multiplier ; } $x = 10 ; multiply ( $x ); echo $x ; // 10 Durch das vorangestellte & wird der Parameter $a zu einer Referenz. Die Variable $x wird als Referenz \u00fcbergeben und durch den Funktionsaufruf wird der Wert der \u00e4u\u00dferen Variable $x abge\u00e4ndert: <?php function multiply ( & $a , $multiplier = 10 ) { $a = $a * $multiplier ; } $x = 10 ; multiply ( $x ); echo $x ; // 100","title":"Pass by reference (Referenzparameter)"},{"location":"php/funktionen/#scope","text":"Funktionen definieren einen lokalen Scope der alle Variablen beinhaltet, welche innerhalb der Funktion definiert werden. Alle \u00e4u\u00dferen (globalen) Variablen sind nicht Teil des inneren (lokalen) Scopes und deshalb innerhalb der Funktion nicht nutzbar (default). Die globale Variable $a ist innerhalb des lokalen Scopes der Funktion nicht nutzbar. Somit produziert die Addition den Wert 10 , da $a im inneren Scope nicht initialisiert wurde: <?php $a = 10 ; function sum () { echo $a + 10 ; } sum (); // Ausgabe: 10 Alle Variablen, welche innerhalb des inneren Scopes in einer Funktion genutzt werden m\u00fcssen und im \u00e4u\u00dferen Scope definiert wurden, m\u00fcssen \u00fcber das Schl\u00fcsselwort global eingebunden werden. <?php $a = 10 ; function sum () { global $a ; echo $a + 10 ; } sum (); // Ausgabe: 20","title":"Scope"},{"location":"php/funktionen/#variablen-als-funktion-ausfuhren","text":"Variablen die einen String enthalten, welcher einen g\u00fcltigen Funktionsnamen wiederspiegelt, k\u00f6nnen \u00e4hnlich wie eine Funktion aufgerufen werden. Dies kann vorallem hilfreich sein, wenn dynamisch festgelegt werden soll, welche Funktion ausgef\u00fchrt werden soll. <?php function add ( $a , $b ) { return $a + $b ; } function sub ( $a , $b ) { return $a - $b ; } $func = 'add' ; echo $func ( 20 , 10 ) . \" \\n \" ; // 30 $func = 'sub' ; echo $func ( 20 , 10 ) . \" \\n \" ; // 10","title":"Variablen als Funktion ausf\u00fchren"},{"location":"php/funktionen/#anonyme-funktion-als-parameter","text":"Funktionen k\u00f6nnen als Parameter an andere Funktionen \u00fcbergeben werden. Dabei muss es sich jedoch um anonyme Funktionen handeln. Anonyme Funktionen k\u00f6nnen entweder in eine Variable gespeichert werden oder direkt als Funktionsparameter definiert werden. <?php function calc ( $a , $b , $func ) { return $func ( $a , $b ); } $add = function ( $a , $b ) { return $a + $b ; }; // WICHTIG: ; muss hier angegeben werden, Variablendeklaration echo calc ( 20 , 10 , $add ) . \" \\n \" ; // 30 echo calc ( 20 , 10 , function ( $a , $b ) { return $a - $b ; }) . \" \\n \" ; // 10","title":"Anonyme Funktion als Parameter"},{"location":"php/grundlagen/","text":"Grundlagen Erstes Beispiel PHP-Code wird innerhalb einer Textdatei mit Suffix .php geschrieben. PHP-Skripte beginnen mit dem sog. PHP-Tag <?php . Falls die Textdatei noch weitere Inhalte (zB HTML) enth\u00e4lt kann PHP-Code auch Blockweise eingef\u00fcgt werden, daf\u00fcr m\u00fcssen Bl\u00f6cke mit <?php ge\u00f6ffnet und ?> beendet werden. Jede Anweisungszeile in PHP muss mit einem Semikolon ( ; ) abgeschlossen werden. Ausgaben werden \u00fcber den echo Befehl durchgef\u00fchrt. <?php echo \"Hallo PHP!\" ; PHP kann als Skript \u00fcber den PHP-Interpreter auf der Kommandozeile ausgef\u00fchrt werden. Dazu wird der PHP-Interpreter auf der Kommondozeile ausgef\u00fchrt und das auszuf\u00fchrende Skript wird als Argument an den Interpreter \u00fcbergeben: > php example.php Hallo PHP! PHP in HTML einbetten PHP kann innerhalb eines HTML-Dokuments eingebettet werden. Die Quellcode-Datei muss mit dem Suffix .php abgespeichert werden, sodass der PHP-Interpreter die Datei verarbeitet. PHP-Code wird innerhalb von PHP-Tags <?php und ?> eingef\u00fcgt. Der PHP-Code wird am Web-Server verarbeitet und nicht an den Web-Client gesendet. <html> <head> <title>Hallo PHP</title> </head> <body> <?php // Ein Kommentar: Dieser wird nicht ins HTML geschrieben echo \"Hallo PHP!\" ; ?> </body> </html> Kommentare Im PHP-Quellcode k\u00f6nnen nat\u00fcrlich auch Kommentare eingef\u00fcgt werden. Es gibt einzeilige- und mehrzeilige Kommentare: <?php // einzeiliger Kommentar # auch ein einzeiliger Kommentar /* mehrzeiliger Kommentar ... */ Variablen Eine Variable in PHP wird mit dem $ -Zeichen eingeleitet und es folgt ein Variablenbezeichner. F\u00fcr Variablennamen sind folgende Regeln sind zu beachten: Ein Variablenname muss mit einem Buchstaben oder Unterstrich starten Ab der zweiten Stelle kann ein Variablenname auch Zahlen enthalten Variablennamen sind case-sensitive ( $var und $VAR sind verschiedene Variablen) <?php $my_var = 123 ; $message = \"hello world\" ; Datentypen PHP ist eine dynamisch typisierte Sprache. Das bedeutet es m\u00fcssen keine Datentypen f\u00fcr Variablen angegeben werden, diese werden vom PHP-Interpreter abgeleitet. Dennoch legt PHP 10 verschiedene Datentypen fest, welche einer Variable implizit entsprechen. Einfache Datentypen: boolean , integer , float und string Zusammengesetzte Datentypen: array , object , iterable und callable Spezielle Datentypen: resource , NULL Die Funktion var_dump kann verwendet werden um den Wert und den Datentyp einer Variable auszugeben. Dies ist hilfreich f\u00fcr das Debugging: <?php $a = 3.1 ; $b = true ; var_dump ( $a ); // float(3.1) var_dump ( $b ); // bool(true) Hinweis PHP unterst\u00fctzt Typdeklarationen. F\u00fcr Funktionsparameter k\u00f6nnen zum Beispiel Datentypen angegeben werden. Mit sogenannten strict_types kann der PHP-Code so konfiguriert werden, dass ein falscher Datentyp einen Fehler erzeugt. Boolean \u00dcberall dort wo Bedingungen interpretiert werden (zB Kontrollstrukturen oder Schleifen), k\u00f6nnen in PHP beliebige Datentypen vorkommen. PHP interpretiert Variablen mit nicht-boolschem Wert nach definierten Regeln. Generell interpretiert PHP alles als true au\u00dfer: den boolschen Wert false die Zahlen 0 , -0 , 0.0 , -0.0 den Leerstring \"\" und \"0\" ein leeres Array [] null Vorsicht Es gerade Vorsicht geboten bei der Interpretation mancher Ergebnisse von Funktionen. Die Ausdr\u00fccke false == 0 , null = 0 oder \"\" == 0 sind jeweils wahr. Casting PHP unterst\u00fctzt f\u00fcr jeden Datentyp und weitere F\u00e4lle eine is_* Funktion. Es kann zB mit der Funktion is_int gepr\u00fcft werden, ob eine Variable dem Datentyp integer entspricht. <?php $a = \"abc\" ; $b = 123 ; echo is_null ( $a ); // false echo is_string ( $a ); // true echo is_float ( $b ) // false Es kann der Datentyp einer Variable durch Casting explizit ver\u00e4ndert werden: <?php $var1 = 10 ; $var2 = ( bool ) $var1 ; var_dump ( $var2 ) // bool(true) Folgende Casting Operationen sind definiert: (int) , (integer) um Wert in Integer zu casten (bool) , (boolean) um Wert in Boolean zu casten (float) , (double) , (real) um Wert in Float zu casten (string) um Wert in String zu casten (array) um Wert in Array zu casten (object) um Wert in Objekt zu casten Operatoren PHP verf\u00fcgt \u00fcber alle g\u00e4ngigen Operatoren, wie sie aus anderen Programmiersprachen bekannt sind. Einige wichtige Erg\u00e4nzungen: Operator Bezeichnung . String Konkatenation ?? Null-Coalesing Operator ?: Elvis Operator <=> Spaceship Operator === Vergleichsoperator: Wert und Datentyp String Konkatenation <?php $str = \"abc\" ; $res = $str . \"-\" . \"def\" ; echo $res ; // abc-def Vorsicht In anderen Programmiersprachen wirder dre + -Operator f\u00fcr String Konkatenation verwendet. Verwendet man den + -Operator mit einem String versucht PHP die Strings in Zahlen zu casten und dieses Ergebnis zu konkatenieren: <?php echo \"123\" + \"123\" ; // 246 Null-Coalesing Operator Zuweisung eines Default-Wertes f\u00fcr eine Variable. Der erste Wert der existiert und nicht NULL ist. Im Beispiel ist $z nicht definiert, $a hat den Wert NULL und $b den Wert 10 . Die Null-Coalesing Kette wird solange durchgef\u00fchrt bis ein g\u00fcltiger Wert gefunden wird. <?php $a = NULL ; $b = 10 ; $c = $z ?? $a ?? $b ; echo $c ; // 10 Elvis Operator Der Elvis Operator ist eine Vereinfachung des bekannten tern\u00e4ren Operators: linker Ausdruck ?: rechter Ausdruck . Die Logik ist dabei so gestaltet, dass wenn der linke Ausdruck als wahr interpretiert wird, dieser zur\u00fcckgegeben wird ansonsten der rechte Ausdruck (als Alternative). <?php $a = 5 ?: 10 ; $b = 0 ?: 10 ; echo $a ; // 5 echo $b ; // 10 Spaceship Operator Der Spaceship Operator ist ein spezieller Operator um Ausdr\u00fccke zu vergleichen. Dieser gibt die Werte -1 , 0 oder 1 zur\u00fcck, je nachdem ob der erste Ausdruck kleiner, gleich oder gr\u00f6\u00dfer als der zweite Ausdruck ist. Der Spaceship Operator kann auch f\u00fcr Strings verwendet werden: <?php echo 1 <=> 1 ; // 0 echo 1 <=> 0 ; // 1 echo 0 <=> 1 ; // -1 echo \"a\" <=> \"a\" ; // 0 echo \"z\" <=> \"a\" ; // 1 echo \"a\" <=> \"z\" ; // -1 Dieser Operator ist zum Beispiel f\u00fcr eigene Sortierfunktionen n\u00fctzlich. Vergleichsoperator Generell sind 2 Vergleichsoperatoren zu unterscheiden == und === . == untersucht nur ob zwei Werte gleich sind, so w\u00e4re \"5\" == 5 wahr. Der === Vergleichoperator untersucht jedoch auch, ob die 2 Operanden den selben Datentyp haben, somit w\u00e4re \"5\" === 5 falsch und 5 === 5 wahr. Kontrollstrukturen PHP verf\u00fcgt nat\u00fcrlich auch \u00fcber die klassische IF-ELSE Konstrollstruktur. <?php $var = 10 if ( $var == 5 ) { echo \"Der Wert ist 5\" ; } elseif ( $var < 5 ) { echo \"Der Wert ist kleiner als 5\" ; } else { echo \"Der Wert ist gr\u00f6\u00dfer als 5\" ; } PHP verf\u00fcgt auch \u00fcber einen switch -Ausdruck, dieser kann in der PHP-Dokumentation nachgelesen werden. Schleifen For-Schleife Die For-Schleife besteht im Schleifenkopf aus 3 Bestandteilen, welche mit ; getrennt sind: Die Initialisierung wird vor dem ersten Schleifendurchlauf ausgef\u00fchrt (im Beispiel $i = 1 ). Die Bedingung wird vor jedem Schleifendurchlauf gepr\u00fcft. Nur solange die Bedingung wahr ist, wird der Schleifenk\u00f6rper ausgef\u00fchrt (im Beispiel $i < 5 ). Der Iterator wird nach jedem Schleifendurchlauf ausgef\u00fchrt (im Beispiel $i++ ). <?php for ( $i = 1 ; $i < 5 ; $i ++ ) { echo $i . \" Schleifendurchlauf \\n \" ; } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf While-Schleife PHP besitzt nat\u00fcrlich auch die klassische While-Schleife . Dabei wird der Schleifenk\u00f6rper nur solange durchgef\u00fchrt bis die Bedingung im Schleifenkopf nicht mehr wahr ist. <?php $i = 1 ; while ( $i < 5 ) { echo $i ++ . \" Schleifendurchlauf \\n \" ; } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf Do-While Schleife PHP unterst\u00fctzt auch die sogenannte Do-While Schleife . Diese Schleife wird eher selten verwendet und manche Programmiersprachen unterst\u00fctzen dieses Konstrukt erst garnicht (zum Beispiel Python ). Bei diesem Schleifentyp wird die Bedingung erst am Ende des ersten Schleifendurchlaufs evaluiert, sodass die Schleife zumindest immer einmalig ausgef\u00fchrt wird. <?php $i = 1 ; do { echo $i . \" Schleifendurchlauf \\n \" ; } while ( ++ $i < 5 ); Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf Schl\u00fcsselw\u00f6rter break und continue Mit den Schl\u00fcsselw\u00f6rtern break und continue kann der Schleifendurchlauf innerhalb des Schleifenk\u00f6rpers gesteuert werden: Mit dem Aufruf des break Schl\u00fcsselwortes wird eine Schleife umgehend beendet. Mit dem Aufruf des continue Schl\u00fcsselwortes springt die Schleife umgehend zum n\u00e4chsten Schleifendurchlauf. Vor dem n\u00e4chsten Schleifendurchlauf wird jedoch die entsprechende Schleifenbedingung evaluiert. <?php for ( $i = 1 ; $i < 999999 ; $i ++ ) { echo $i . \" Schleifendurchlauf \\n \" ; if ( $i > 4 ) { break ; } } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf","title":"Grundlagen"},{"location":"php/grundlagen/#grundlagen","text":"","title":"Grundlagen"},{"location":"php/grundlagen/#erstes-beispiel","text":"PHP-Code wird innerhalb einer Textdatei mit Suffix .php geschrieben. PHP-Skripte beginnen mit dem sog. PHP-Tag <?php . Falls die Textdatei noch weitere Inhalte (zB HTML) enth\u00e4lt kann PHP-Code auch Blockweise eingef\u00fcgt werden, daf\u00fcr m\u00fcssen Bl\u00f6cke mit <?php ge\u00f6ffnet und ?> beendet werden. Jede Anweisungszeile in PHP muss mit einem Semikolon ( ; ) abgeschlossen werden. Ausgaben werden \u00fcber den echo Befehl durchgef\u00fchrt. <?php echo \"Hallo PHP!\" ; PHP kann als Skript \u00fcber den PHP-Interpreter auf der Kommandozeile ausgef\u00fchrt werden. Dazu wird der PHP-Interpreter auf der Kommondozeile ausgef\u00fchrt und das auszuf\u00fchrende Skript wird als Argument an den Interpreter \u00fcbergeben: > php example.php Hallo PHP!","title":"Erstes Beispiel"},{"location":"php/grundlagen/#php-in-html-einbetten","text":"PHP kann innerhalb eines HTML-Dokuments eingebettet werden. Die Quellcode-Datei muss mit dem Suffix .php abgespeichert werden, sodass der PHP-Interpreter die Datei verarbeitet. PHP-Code wird innerhalb von PHP-Tags <?php und ?> eingef\u00fcgt. Der PHP-Code wird am Web-Server verarbeitet und nicht an den Web-Client gesendet. <html> <head> <title>Hallo PHP</title> </head> <body> <?php // Ein Kommentar: Dieser wird nicht ins HTML geschrieben echo \"Hallo PHP!\" ; ?> </body> </html>","title":"PHP in HTML einbetten"},{"location":"php/grundlagen/#kommentare","text":"Im PHP-Quellcode k\u00f6nnen nat\u00fcrlich auch Kommentare eingef\u00fcgt werden. Es gibt einzeilige- und mehrzeilige Kommentare: <?php // einzeiliger Kommentar # auch ein einzeiliger Kommentar /* mehrzeiliger Kommentar ... */","title":"Kommentare"},{"location":"php/grundlagen/#variablen","text":"Eine Variable in PHP wird mit dem $ -Zeichen eingeleitet und es folgt ein Variablenbezeichner. F\u00fcr Variablennamen sind folgende Regeln sind zu beachten: Ein Variablenname muss mit einem Buchstaben oder Unterstrich starten Ab der zweiten Stelle kann ein Variablenname auch Zahlen enthalten Variablennamen sind case-sensitive ( $var und $VAR sind verschiedene Variablen) <?php $my_var = 123 ; $message = \"hello world\" ;","title":"Variablen"},{"location":"php/grundlagen/#datentypen","text":"PHP ist eine dynamisch typisierte Sprache. Das bedeutet es m\u00fcssen keine Datentypen f\u00fcr Variablen angegeben werden, diese werden vom PHP-Interpreter abgeleitet. Dennoch legt PHP 10 verschiedene Datentypen fest, welche einer Variable implizit entsprechen. Einfache Datentypen: boolean , integer , float und string Zusammengesetzte Datentypen: array , object , iterable und callable Spezielle Datentypen: resource , NULL Die Funktion var_dump kann verwendet werden um den Wert und den Datentyp einer Variable auszugeben. Dies ist hilfreich f\u00fcr das Debugging: <?php $a = 3.1 ; $b = true ; var_dump ( $a ); // float(3.1) var_dump ( $b ); // bool(true) Hinweis PHP unterst\u00fctzt Typdeklarationen. F\u00fcr Funktionsparameter k\u00f6nnen zum Beispiel Datentypen angegeben werden. Mit sogenannten strict_types kann der PHP-Code so konfiguriert werden, dass ein falscher Datentyp einen Fehler erzeugt.","title":"Datentypen"},{"location":"php/grundlagen/#boolean","text":"\u00dcberall dort wo Bedingungen interpretiert werden (zB Kontrollstrukturen oder Schleifen), k\u00f6nnen in PHP beliebige Datentypen vorkommen. PHP interpretiert Variablen mit nicht-boolschem Wert nach definierten Regeln. Generell interpretiert PHP alles als true au\u00dfer: den boolschen Wert false die Zahlen 0 , -0 , 0.0 , -0.0 den Leerstring \"\" und \"0\" ein leeres Array [] null Vorsicht Es gerade Vorsicht geboten bei der Interpretation mancher Ergebnisse von Funktionen. Die Ausdr\u00fccke false == 0 , null = 0 oder \"\" == 0 sind jeweils wahr.","title":"Boolean"},{"location":"php/grundlagen/#casting","text":"PHP unterst\u00fctzt f\u00fcr jeden Datentyp und weitere F\u00e4lle eine is_* Funktion. Es kann zB mit der Funktion is_int gepr\u00fcft werden, ob eine Variable dem Datentyp integer entspricht. <?php $a = \"abc\" ; $b = 123 ; echo is_null ( $a ); // false echo is_string ( $a ); // true echo is_float ( $b ) // false Es kann der Datentyp einer Variable durch Casting explizit ver\u00e4ndert werden: <?php $var1 = 10 ; $var2 = ( bool ) $var1 ; var_dump ( $var2 ) // bool(true) Folgende Casting Operationen sind definiert: (int) , (integer) um Wert in Integer zu casten (bool) , (boolean) um Wert in Boolean zu casten (float) , (double) , (real) um Wert in Float zu casten (string) um Wert in String zu casten (array) um Wert in Array zu casten (object) um Wert in Objekt zu casten","title":"Casting"},{"location":"php/grundlagen/#operatoren","text":"PHP verf\u00fcgt \u00fcber alle g\u00e4ngigen Operatoren, wie sie aus anderen Programmiersprachen bekannt sind. Einige wichtige Erg\u00e4nzungen: Operator Bezeichnung . String Konkatenation ?? Null-Coalesing Operator ?: Elvis Operator <=> Spaceship Operator === Vergleichsoperator: Wert und Datentyp","title":"Operatoren"},{"location":"php/grundlagen/#string-konkatenation","text":"<?php $str = \"abc\" ; $res = $str . \"-\" . \"def\" ; echo $res ; // abc-def Vorsicht In anderen Programmiersprachen wirder dre + -Operator f\u00fcr String Konkatenation verwendet. Verwendet man den + -Operator mit einem String versucht PHP die Strings in Zahlen zu casten und dieses Ergebnis zu konkatenieren: <?php echo \"123\" + \"123\" ; // 246","title":"String Konkatenation"},{"location":"php/grundlagen/#null-coalesing-operator","text":"Zuweisung eines Default-Wertes f\u00fcr eine Variable. Der erste Wert der existiert und nicht NULL ist. Im Beispiel ist $z nicht definiert, $a hat den Wert NULL und $b den Wert 10 . Die Null-Coalesing Kette wird solange durchgef\u00fchrt bis ein g\u00fcltiger Wert gefunden wird. <?php $a = NULL ; $b = 10 ; $c = $z ?? $a ?? $b ; echo $c ; // 10","title":"Null-Coalesing Operator"},{"location":"php/grundlagen/#elvis-operator","text":"Der Elvis Operator ist eine Vereinfachung des bekannten tern\u00e4ren Operators: linker Ausdruck ?: rechter Ausdruck . Die Logik ist dabei so gestaltet, dass wenn der linke Ausdruck als wahr interpretiert wird, dieser zur\u00fcckgegeben wird ansonsten der rechte Ausdruck (als Alternative). <?php $a = 5 ?: 10 ; $b = 0 ?: 10 ; echo $a ; // 5 echo $b ; // 10","title":"Elvis Operator"},{"location":"php/grundlagen/#spaceship-operator","text":"Der Spaceship Operator ist ein spezieller Operator um Ausdr\u00fccke zu vergleichen. Dieser gibt die Werte -1 , 0 oder 1 zur\u00fcck, je nachdem ob der erste Ausdruck kleiner, gleich oder gr\u00f6\u00dfer als der zweite Ausdruck ist. Der Spaceship Operator kann auch f\u00fcr Strings verwendet werden: <?php echo 1 <=> 1 ; // 0 echo 1 <=> 0 ; // 1 echo 0 <=> 1 ; // -1 echo \"a\" <=> \"a\" ; // 0 echo \"z\" <=> \"a\" ; // 1 echo \"a\" <=> \"z\" ; // -1 Dieser Operator ist zum Beispiel f\u00fcr eigene Sortierfunktionen n\u00fctzlich.","title":"Spaceship Operator"},{"location":"php/grundlagen/#vergleichsoperator","text":"Generell sind 2 Vergleichsoperatoren zu unterscheiden == und === . == untersucht nur ob zwei Werte gleich sind, so w\u00e4re \"5\" == 5 wahr. Der === Vergleichoperator untersucht jedoch auch, ob die 2 Operanden den selben Datentyp haben, somit w\u00e4re \"5\" === 5 falsch und 5 === 5 wahr.","title":"Vergleichsoperator"},{"location":"php/grundlagen/#kontrollstrukturen","text":"PHP verf\u00fcgt nat\u00fcrlich auch \u00fcber die klassische IF-ELSE Konstrollstruktur. <?php $var = 10 if ( $var == 5 ) { echo \"Der Wert ist 5\" ; } elseif ( $var < 5 ) { echo \"Der Wert ist kleiner als 5\" ; } else { echo \"Der Wert ist gr\u00f6\u00dfer als 5\" ; } PHP verf\u00fcgt auch \u00fcber einen switch -Ausdruck, dieser kann in der PHP-Dokumentation nachgelesen werden.","title":"Kontrollstrukturen"},{"location":"php/grundlagen/#schleifen","text":"","title":"Schleifen"},{"location":"php/grundlagen/#for-schleife","text":"Die For-Schleife besteht im Schleifenkopf aus 3 Bestandteilen, welche mit ; getrennt sind: Die Initialisierung wird vor dem ersten Schleifendurchlauf ausgef\u00fchrt (im Beispiel $i = 1 ). Die Bedingung wird vor jedem Schleifendurchlauf gepr\u00fcft. Nur solange die Bedingung wahr ist, wird der Schleifenk\u00f6rper ausgef\u00fchrt (im Beispiel $i < 5 ). Der Iterator wird nach jedem Schleifendurchlauf ausgef\u00fchrt (im Beispiel $i++ ). <?php for ( $i = 1 ; $i < 5 ; $i ++ ) { echo $i . \" Schleifendurchlauf \\n \" ; } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf","title":"For-Schleife"},{"location":"php/grundlagen/#while-schleife","text":"PHP besitzt nat\u00fcrlich auch die klassische While-Schleife . Dabei wird der Schleifenk\u00f6rper nur solange durchgef\u00fchrt bis die Bedingung im Schleifenkopf nicht mehr wahr ist. <?php $i = 1 ; while ( $i < 5 ) { echo $i ++ . \" Schleifendurchlauf \\n \" ; } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf","title":"While-Schleife"},{"location":"php/grundlagen/#do-while-schleife","text":"PHP unterst\u00fctzt auch die sogenannte Do-While Schleife . Diese Schleife wird eher selten verwendet und manche Programmiersprachen unterst\u00fctzen dieses Konstrukt erst garnicht (zum Beispiel Python ). Bei diesem Schleifentyp wird die Bedingung erst am Ende des ersten Schleifendurchlaufs evaluiert, sodass die Schleife zumindest immer einmalig ausgef\u00fchrt wird. <?php $i = 1 ; do { echo $i . \" Schleifendurchlauf \\n \" ; } while ( ++ $i < 5 ); Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf","title":"Do-While Schleife"},{"location":"php/grundlagen/#schlusselworter-break-und-continue","text":"Mit den Schl\u00fcsselw\u00f6rtern break und continue kann der Schleifendurchlauf innerhalb des Schleifenk\u00f6rpers gesteuert werden: Mit dem Aufruf des break Schl\u00fcsselwortes wird eine Schleife umgehend beendet. Mit dem Aufruf des continue Schl\u00fcsselwortes springt die Schleife umgehend zum n\u00e4chsten Schleifendurchlauf. Vor dem n\u00e4chsten Schleifendurchlauf wird jedoch die entsprechende Schleifenbedingung evaluiert. <?php for ( $i = 1 ; $i < 999999 ; $i ++ ) { echo $i . \" Schleifendurchlauf \\n \" ; if ( $i > 4 ) { break ; } } Das Programm f\u00fchrt zu folgender Ausgabe: 1. Schleifendurchlauf 2. Schleifendurchlauf 3. Schleifendurchlauf 4. Schleifendurchlauf","title":"Schl\u00fcsselw\u00f6rter break und continue"},{"location":"php/objektorientierte-programmierung/","text":"Objektorientierte Programmierung PHP ist eine objektorientierte Programmiersprache und besitzt alle g\u00e4ngigen Konzepte einer objektorientierten Programmiersprache. Klassen Klassen werden \u00fcber das Schl\u00fcsselwort class definiert. Es gibt spezielle Methoden wie den Konstruktor ( __construct ), welche mit doppeltem Unterstrich beginnen. Alle Member sind generell public au\u00dfer es wird explizit anders angegeben wie zB f\u00fcr den Member $color . Mit dem Schl\u00fcsselwort new k\u00f6nnen Klasseninstanzen erzeugt werden. \u00dcber die Variable $this kann innerhalb der Klasse auf die Instanz zugegriffen werden. Zugriff auf Member der Instanz wird \u00fcber -> durchgef\u00fchrt. So wird zum Beispiel die Methode drive auf der Instanz $veh \u00fcber $veh->drive() ausgef\u00fchrt. <?php class Vehicle { protected $color ; function __construct ( string $color ) { $this -> color = $color ; } function drive () { echo $this -> color . \" vehicle is driving!\" ; } } $veh = new Vehicle ( \"red\" ); $veh -> drive (); // red vehicle is driving! Magic Methods Es sind einige spezielle Methoden (Magic Methods) f\u00fcr Klassen definiert. Die Methodennamen dieser speziellen Methoden beginnen mit __ (zB der Konstruktor __construct ). Eine \u00dcbersicht aller Magic Methods findet sich in der PHP Dokumentation . Eine Auswahl dieser Methoden werden im folgenden dargestellt. __set und __get F\u00fcr Setter und Getter gibt es die generischen Methoden __set und __get . Falls diese Methoden implementiert werden, werden diese f\u00fcr jegliches Setzen bzw. Abfragen von Objekt Attributen aufgerufen. <?php class Product { protected $name ; protected $price ; function __set ( $name , $value ) { if ( $name == \"name\" ) { $this -> name = ( string ) $value ; } elseif ( $name == \"price\" ) { $this -> price = ( float ) $value ; } } function __get ( $name ) { if ( $name == \"name\" ) { return $this -> name ; } elseif ( $name == \"price\" ) { return $this -> price ; } elseif ( $name == \"vat\" ) { return $this -> price * 0.2 ; } } } $product = new Product (); $product -> name = \"Mein Produkt\" ; $product -> price = 3.99 ; echo $product -> name . \"/ Preis inkl. MWSt.: \" . $product -> vat . \" \\n \" ; __invoke Mit der Implementierung der Methode __invoke kann ein Objekt wie eine Funktion genutzt werden. Der Nutzen liegt dabei darin, dass das Objekt einen internen Zustand halten kann, welcher \u00fcber mehrmalige Aufrufe erhalten bleibt. Dies soll im folgenden Beispiel demonstriert w: <?php class FunctionObject { protected $internalState = 10 ; function __invoke () { $this -> internalState ++ ; return $this -> internalState ; } } $obj = new FunctionObject (); $result = $obj (); // 11 $result = $obj (); // 12 $result = $obj (); // 13 __toString Durch \u00fcberschreiben der Methode __toString kann bestimmt werden, wie ein Objekt in einen String \u00fcberf\u00fchrt wird. Dies ist unter anderem zu Debugging Zwecken sehr hilfreich. __call Die Methode __call wird aufgerufen, wenn eine nicht existierende Methode auf einem Objekt aufgerufen wird. <?php class Vehicle { function __call ( $methodName , $arguments ) { if ( $methodName == \"drive\" ) { echo \"Das Fahrzeug f\u00e4hrt \\n \" ; } elseif ( $methodName == \"break\" || $methodName == \"stop\" ) { echo \"Das Fahrzeug bremst \\n \" ; } else { echo \"Diese Aktion f\u00fchrt zu nichts... \\n \" ; } } } $veh = new Vehicle (); $veh -> drive (); // Das Fahrzeug f\u00e4hrt $veh -> break (); // Das Fahrzeug bremst $veh -> irgendEineMethodeMitKomischemName (); // Diese Aktion f\u00fchrt zu nichts... $veh -> andereMethodeOhneNutzen (); // Diese Aktion f\u00fchrt zu nichts... Vererbung \u00dcber das Schl\u00fcsselwort extends wird die Klassenvererbung durchgef\u00fchrt. PHP unterst\u00fctzt keine Mehrfachvererbung. <?php class Car extends Vehicle { function drive () { echo $this -> color . \" CAR is driving!\" ; } } $car = new Car ( \"blue\" ); $car -> drive (); // blue CAR is driving! Statische Member Mit dem Schl\u00fcsselwort static k\u00f6nnen statische Member einer Klasse definiert werden. Zugriff auf statische Member wird \u00fcber den :: Operator durchgef\u00fchrt (Scope Resolution Operator). Innerhalb der Klasse kann mit dem Schl\u00fcsselwort self auf statische Member zugegriffen werden. <?php class Car { protected static $wheel_count = 4 ; public static function checkWheels ( $wheel_count ) { return $wheel_count == self :: $wheel_count ; } } echo Car :: checkWheels ( 5 ) ? \"richtige Reifenanzahl\" : \"falsche Reifenanzahl\" ; // Ausgabe: falsche Reifenanzahl Klassenkonstanten \u00c4hnlich zu statischen Member k\u00f6nnen Konstanten innerhalb einer Klasse definiert werden. Der Zugriff auf Konstanten funktioniert analog zu statischen Member \u00fcber den Scope Resolution Operator ( :: ). <?php class Car { const WHEELS = 4 ; function drive () { echo self :: WHEELS . \" wheels rolling... \\n \" ; } } $car = new Car (); $car -> drive (); // 4 wheels rolling... Traits Mit Traits k\u00f6nnen Klassen einfach erweitert werden. Anders als \u00fcber Vererbung kann eine Klasse von mehreren Traits erweitert werden. Von Traits k\u00f6nnen keine Instanzen gebildet werden sie dienen ausschlie\u00dflich der Erweiterung von Klassen. Hinweis Traits sind ein sehr n\u00fctzliches Programmierkonstrukt um Klassen zu erweitern. Im Gegensatz zur klassischen Vererbung sind Traits sehr leichtgewichtig und k\u00f6nnen wiederkehrende Funktionalit\u00e4t \u00fcber unterschiedliche Klassenhierarchien hinweg an Klassen bereitstellen. Im Folgenden wird das g\u00e4ngige Singleton Design Pattern mit Hilfe eines Traits implementiert. Ein Trait wird \u00fcber das Schl\u00fcsselwort use in die Klasse integriert: <?php trait Singleton { protected static $instance ; public static function instance () { if ( ! self :: $instance ) { self :: $instance = new static (); } return self :: $instance ; } } class ExampleClass { use Singleton ; } $instance = ExampleClass :: instance (); Weiteres zu Klassen PHP unterst\u00fctzt noch weitere Aspekte der Objektorientierten Programmierung, welche bereits aus der Programmierung mit Java bekannt sind. Hier sind zum Beispiel anonyme Klassen , abstrakte Klassen und Methoden , Interfaces oder das final Keyword zu nennen. Die PHP-Dokumentation bietet einen guten \u00dcberblick \u00fcber weitere Objektorientierte Programmiertechniken.","title":"OOP"},{"location":"php/objektorientierte-programmierung/#objektorientierte-programmierung","text":"PHP ist eine objektorientierte Programmiersprache und besitzt alle g\u00e4ngigen Konzepte einer objektorientierten Programmiersprache.","title":"Objektorientierte Programmierung"},{"location":"php/objektorientierte-programmierung/#klassen","text":"Klassen werden \u00fcber das Schl\u00fcsselwort class definiert. Es gibt spezielle Methoden wie den Konstruktor ( __construct ), welche mit doppeltem Unterstrich beginnen. Alle Member sind generell public au\u00dfer es wird explizit anders angegeben wie zB f\u00fcr den Member $color . Mit dem Schl\u00fcsselwort new k\u00f6nnen Klasseninstanzen erzeugt werden. \u00dcber die Variable $this kann innerhalb der Klasse auf die Instanz zugegriffen werden. Zugriff auf Member der Instanz wird \u00fcber -> durchgef\u00fchrt. So wird zum Beispiel die Methode drive auf der Instanz $veh \u00fcber $veh->drive() ausgef\u00fchrt. <?php class Vehicle { protected $color ; function __construct ( string $color ) { $this -> color = $color ; } function drive () { echo $this -> color . \" vehicle is driving!\" ; } } $veh = new Vehicle ( \"red\" ); $veh -> drive (); // red vehicle is driving!","title":"Klassen"},{"location":"php/objektorientierte-programmierung/#magic-methods","text":"Es sind einige spezielle Methoden (Magic Methods) f\u00fcr Klassen definiert. Die Methodennamen dieser speziellen Methoden beginnen mit __ (zB der Konstruktor __construct ). Eine \u00dcbersicht aller Magic Methods findet sich in der PHP Dokumentation . Eine Auswahl dieser Methoden werden im folgenden dargestellt.","title":"Magic Methods"},{"location":"php/objektorientierte-programmierung/#__set-und-__get","text":"F\u00fcr Setter und Getter gibt es die generischen Methoden __set und __get . Falls diese Methoden implementiert werden, werden diese f\u00fcr jegliches Setzen bzw. Abfragen von Objekt Attributen aufgerufen. <?php class Product { protected $name ; protected $price ; function __set ( $name , $value ) { if ( $name == \"name\" ) { $this -> name = ( string ) $value ; } elseif ( $name == \"price\" ) { $this -> price = ( float ) $value ; } } function __get ( $name ) { if ( $name == \"name\" ) { return $this -> name ; } elseif ( $name == \"price\" ) { return $this -> price ; } elseif ( $name == \"vat\" ) { return $this -> price * 0.2 ; } } } $product = new Product (); $product -> name = \"Mein Produkt\" ; $product -> price = 3.99 ; echo $product -> name . \"/ Preis inkl. MWSt.: \" . $product -> vat . \" \\n \" ;","title":"__set und __get"},{"location":"php/objektorientierte-programmierung/#__invoke","text":"Mit der Implementierung der Methode __invoke kann ein Objekt wie eine Funktion genutzt werden. Der Nutzen liegt dabei darin, dass das Objekt einen internen Zustand halten kann, welcher \u00fcber mehrmalige Aufrufe erhalten bleibt. Dies soll im folgenden Beispiel demonstriert w: <?php class FunctionObject { protected $internalState = 10 ; function __invoke () { $this -> internalState ++ ; return $this -> internalState ; } } $obj = new FunctionObject (); $result = $obj (); // 11 $result = $obj (); // 12 $result = $obj (); // 13","title":"__invoke"},{"location":"php/objektorientierte-programmierung/#__tostring","text":"Durch \u00fcberschreiben der Methode __toString kann bestimmt werden, wie ein Objekt in einen String \u00fcberf\u00fchrt wird. Dies ist unter anderem zu Debugging Zwecken sehr hilfreich.","title":"__toString"},{"location":"php/objektorientierte-programmierung/#__call","text":"Die Methode __call wird aufgerufen, wenn eine nicht existierende Methode auf einem Objekt aufgerufen wird. <?php class Vehicle { function __call ( $methodName , $arguments ) { if ( $methodName == \"drive\" ) { echo \"Das Fahrzeug f\u00e4hrt \\n \" ; } elseif ( $methodName == \"break\" || $methodName == \"stop\" ) { echo \"Das Fahrzeug bremst \\n \" ; } else { echo \"Diese Aktion f\u00fchrt zu nichts... \\n \" ; } } } $veh = new Vehicle (); $veh -> drive (); // Das Fahrzeug f\u00e4hrt $veh -> break (); // Das Fahrzeug bremst $veh -> irgendEineMethodeMitKomischemName (); // Diese Aktion f\u00fchrt zu nichts... $veh -> andereMethodeOhneNutzen (); // Diese Aktion f\u00fchrt zu nichts...","title":"__call"},{"location":"php/objektorientierte-programmierung/#vererbung","text":"\u00dcber das Schl\u00fcsselwort extends wird die Klassenvererbung durchgef\u00fchrt. PHP unterst\u00fctzt keine Mehrfachvererbung. <?php class Car extends Vehicle { function drive () { echo $this -> color . \" CAR is driving!\" ; } } $car = new Car ( \"blue\" ); $car -> drive (); // blue CAR is driving!","title":"Vererbung"},{"location":"php/objektorientierte-programmierung/#statische-member","text":"Mit dem Schl\u00fcsselwort static k\u00f6nnen statische Member einer Klasse definiert werden. Zugriff auf statische Member wird \u00fcber den :: Operator durchgef\u00fchrt (Scope Resolution Operator). Innerhalb der Klasse kann mit dem Schl\u00fcsselwort self auf statische Member zugegriffen werden. <?php class Car { protected static $wheel_count = 4 ; public static function checkWheels ( $wheel_count ) { return $wheel_count == self :: $wheel_count ; } } echo Car :: checkWheels ( 5 ) ? \"richtige Reifenanzahl\" : \"falsche Reifenanzahl\" ; // Ausgabe: falsche Reifenanzahl","title":"Statische Member"},{"location":"php/objektorientierte-programmierung/#klassenkonstanten","text":"\u00c4hnlich zu statischen Member k\u00f6nnen Konstanten innerhalb einer Klasse definiert werden. Der Zugriff auf Konstanten funktioniert analog zu statischen Member \u00fcber den Scope Resolution Operator ( :: ). <?php class Car { const WHEELS = 4 ; function drive () { echo self :: WHEELS . \" wheels rolling... \\n \" ; } } $car = new Car (); $car -> drive (); // 4 wheels rolling...","title":"Klassenkonstanten"},{"location":"php/objektorientierte-programmierung/#traits","text":"Mit Traits k\u00f6nnen Klassen einfach erweitert werden. Anders als \u00fcber Vererbung kann eine Klasse von mehreren Traits erweitert werden. Von Traits k\u00f6nnen keine Instanzen gebildet werden sie dienen ausschlie\u00dflich der Erweiterung von Klassen. Hinweis Traits sind ein sehr n\u00fctzliches Programmierkonstrukt um Klassen zu erweitern. Im Gegensatz zur klassischen Vererbung sind Traits sehr leichtgewichtig und k\u00f6nnen wiederkehrende Funktionalit\u00e4t \u00fcber unterschiedliche Klassenhierarchien hinweg an Klassen bereitstellen. Im Folgenden wird das g\u00e4ngige Singleton Design Pattern mit Hilfe eines Traits implementiert. Ein Trait wird \u00fcber das Schl\u00fcsselwort use in die Klasse integriert: <?php trait Singleton { protected static $instance ; public static function instance () { if ( ! self :: $instance ) { self :: $instance = new static (); } return self :: $instance ; } } class ExampleClass { use Singleton ; } $instance = ExampleClass :: instance ();","title":"Traits"},{"location":"php/objektorientierte-programmierung/#weiteres-zu-klassen","text":"PHP unterst\u00fctzt noch weitere Aspekte der Objektorientierten Programmierung, welche bereits aus der Programmierung mit Java bekannt sind. Hier sind zum Beispiel anonyme Klassen , abstrakte Klassen und Methoden , Interfaces oder das final Keyword zu nennen. Die PHP-Dokumentation bietet einen guten \u00dcberblick \u00fcber weitere Objektorientierte Programmiertechniken.","title":"Weiteres zu Klassen"},{"location":"php/quellcode-organisieren/","text":"Quellcode organisieren Web-Applikationen bestehen aus vielen Quellcodedateien. PHP bietet unterschiedliche Mechanismen um die entsprechenden Dateien einzubinden. Anders als in JAVA muss sich die Entwicklerin um das Einbinden der ensprechenden Quellcodedateien k\u00fcmmern. Require/Include PHP bietet die Ausdr\u00fccke include und require um andere PHP-Dateien in einer PHP-Datei einzubinden. Beim Einbinden wird eine Datei nicht nur eingelesen sondern vom PHP-Interpreter auch ausgef\u00fchrt. Der Unterschied von include zu require besteht darin, dass include nur ein Warning erzeugt und require einen Fehler wirft (Programm Stop), falls eine Datei nicht existiert. Des Weiteren gibt es auch die Ausdr\u00fccke include_once und require_once um zu verhindern, dass eine Datei mehrfach eingebunden wird. Info Generell sollte der Ausdruck require_once zum Einbinden von Dateien verwendet werden: Mehrfacheinbinden der selben Datei wird unterbunden Fehler werden sichbar da es zum Programm Abbruch kommt und k\u00f6nnen von der Entwicklerin behoben werden Au\u00dfer man will Fehlerbehandlung mit Exceptions durchf\u00fchren, dann sollte include_once verwendet werden. require_once erzeugt einen E_COMPILE_ERROR , welcher nicht in eine Exception \u00fcberf\u00fchrt werden kann, da dieser zur \"Kompilierzeit\" in der Programmausf\u00fchrung stattfindet. Aufbau einer Website Eine Website besteht generell aus Bestandteilen die sich auf allen Unterseiten wiederfinden. Wiederverwendbare Teile k\u00f6nnen \u00fcber require_once eingebunden werden. Das oben gezeigte Grundger\u00fcst einer Website w\u00fcrde \u00fcber folgendes PHP-Skript nachempfunden: <?php require_once 'header.php' ; ?> <aside> <?php require_once 'sidebar.php' ; ?> </aside> <main> <h1>News Artikel</h1> <p>bla bla ...</p> </main> <?php require_once 'footer.php' ; ?> Class-Autoloader Eine Web-Applikation kann aus vielen Klassen bestehen. Es ist sinnvoll jede Klasse innerhalb einer eigenen Datei zu hinterlegen. Um nicht jede einzelne Klasse einzeln \u00fcber einen require_once Aufruf einbinen zu m\u00fcssen, gibt es sog. Autoloader. Ein Autoloader ist eine Funktion, welche von der PHP-Laufzeitumgebung ausgef\u00fchrt wird, falls eine Klasse nicht gefunden wurde (Noch nicht eingebunden wurde!). Mit der Funktion kann das entsprechende Einbinden dann ausgef\u00fchrt werden. Mittels der spl_autoload_register Funktion kann ein entsprechender Autoloader f\u00fcr die PHP-Laufzeitumgebung definiert werden ( spl steht f\u00fcr Standard PHP Library). Im folgenden Beispiel werden alle Klassen der Applikation im Ordner classes abgelegt. Jede Klasse wird innerhalb einer Datei abgelegt, welche den selben Namen als die Klasse hat, jedoch komplett in Kleinbuchstaben: <?php spl_autoload_register ( function ( $classname ) { $filename = strtolower ( $classname ); require_once \"classes/\" . $filename . \".php\" ; });","title":"Quellcode organisieren"},{"location":"php/quellcode-organisieren/#quellcode-organisieren","text":"Web-Applikationen bestehen aus vielen Quellcodedateien. PHP bietet unterschiedliche Mechanismen um die entsprechenden Dateien einzubinden. Anders als in JAVA muss sich die Entwicklerin um das Einbinden der ensprechenden Quellcodedateien k\u00fcmmern.","title":"Quellcode organisieren"},{"location":"php/quellcode-organisieren/#requireinclude","text":"PHP bietet die Ausdr\u00fccke include und require um andere PHP-Dateien in einer PHP-Datei einzubinden. Beim Einbinden wird eine Datei nicht nur eingelesen sondern vom PHP-Interpreter auch ausgef\u00fchrt. Der Unterschied von include zu require besteht darin, dass include nur ein Warning erzeugt und require einen Fehler wirft (Programm Stop), falls eine Datei nicht existiert. Des Weiteren gibt es auch die Ausdr\u00fccke include_once und require_once um zu verhindern, dass eine Datei mehrfach eingebunden wird. Info Generell sollte der Ausdruck require_once zum Einbinden von Dateien verwendet werden: Mehrfacheinbinden der selben Datei wird unterbunden Fehler werden sichbar da es zum Programm Abbruch kommt und k\u00f6nnen von der Entwicklerin behoben werden Au\u00dfer man will Fehlerbehandlung mit Exceptions durchf\u00fchren, dann sollte include_once verwendet werden. require_once erzeugt einen E_COMPILE_ERROR , welcher nicht in eine Exception \u00fcberf\u00fchrt werden kann, da dieser zur \"Kompilierzeit\" in der Programmausf\u00fchrung stattfindet.","title":"Require/Include"},{"location":"php/quellcode-organisieren/#aufbau-einer-website","text":"Eine Website besteht generell aus Bestandteilen die sich auf allen Unterseiten wiederfinden. Wiederverwendbare Teile k\u00f6nnen \u00fcber require_once eingebunden werden. Das oben gezeigte Grundger\u00fcst einer Website w\u00fcrde \u00fcber folgendes PHP-Skript nachempfunden: <?php require_once 'header.php' ; ?> <aside> <?php require_once 'sidebar.php' ; ?> </aside> <main> <h1>News Artikel</h1> <p>bla bla ...</p> </main> <?php require_once 'footer.php' ; ?>","title":"Aufbau einer Website"},{"location":"php/quellcode-organisieren/#class-autoloader","text":"Eine Web-Applikation kann aus vielen Klassen bestehen. Es ist sinnvoll jede Klasse innerhalb einer eigenen Datei zu hinterlegen. Um nicht jede einzelne Klasse einzeln \u00fcber einen require_once Aufruf einbinen zu m\u00fcssen, gibt es sog. Autoloader. Ein Autoloader ist eine Funktion, welche von der PHP-Laufzeitumgebung ausgef\u00fchrt wird, falls eine Klasse nicht gefunden wurde (Noch nicht eingebunden wurde!). Mit der Funktion kann das entsprechende Einbinden dann ausgef\u00fchrt werden. Mittels der spl_autoload_register Funktion kann ein entsprechender Autoloader f\u00fcr die PHP-Laufzeitumgebung definiert werden ( spl steht f\u00fcr Standard PHP Library). Im folgenden Beispiel werden alle Klassen der Applikation im Ordner classes abgelegt. Jede Klasse wird innerhalb einer Datei abgelegt, welche den selben Namen als die Klasse hat, jedoch komplett in Kleinbuchstaben: <?php spl_autoload_register ( function ( $classname ) { $filename = strtolower ( $classname ); require_once \"classes/\" . $filename . \".php\" ; });","title":"Class-Autoloader"},{"location":"php/sessions-und-cookies/","text":"Sessions und Cookies Wichtig Das Erzeugen von Cookies bzw. einer Session muss vor jeglicher Ausgabe des PHP-Programms passieren (Zum Beispiel vor jedem echo Statement). Die Funktionen setcookies oder session_start sollten demnach so fr\u00fch wie m\u00f6glich im PHP-Programm aufgerufen werden. Cookies Cookies erzeugen PHP bietet die Funktion setcookie , damit k\u00f6nnen Cookies am Client erzeut werden. Die Set-Cookie Header werden dadurch \u00fcber den HTTP-Response gesetzt. Alle wichtigen Cookie-Parameter k\u00f6nnen dadurch gesetzt werden: Parameter: Cookie Name Parameter (optional): Cookie Wert; default als \"\" Parameter (optional): Angabe eines Zeitstempels in Sekunden mit einem Ablaufdatum bis dahin das Cookie g\u00fcltig ist; Keine Angabe l\u00e4sst das Cookie bis zum Schlie\u00dfen des Web-Browsers g\u00fcltig sein ( 0 ) Parameter (optional): Angabe eines URI Pfades innerhalb welchem das Cookie g\u00fcltig ist; Default ist der String \"\" f\u00fcr alle Pfade Parameter (optional): Angabe einer Subdomain, welche in die G\u00fcltigkeit eines Cookie geh\u00f6rt; Default ist der String \"\" f\u00fcr alle Subdomains Parameter (optional): Boolean der angibt, ob das Cookie nur \u00fcber HTTPS \u00fcbertragen wird; default ist false Parameter (optional): Boolean der angibt, ob das Cookie HTTP-only ist, also nicht \u00fcber JavaScript im Client ver\u00e4nderbar; default ist false <?php setcookie ( \"MyCookie\" , // Cookie Name \"some value\" , // Cookie Wert time () + 3600 , // 1h Lebensdauer \"\" , // Pfad G\u00fcltigkeit \"\" = default \"subdomain.example.com\" , // Domain G\u00fcltigkeit \"\" = default true , // Secure, HTTPS true // httpOnly, kein \u00c4ndern am Client ); Cookies auslesen Innerhalb der Superglobal $_COOKIES sind alle Cookies als Schl\u00fcssel/Wert Paare hinterlegt. Alle Cookies welche vom Client gesendet wurden, k\u00f6nnen dadurch ausgelesen werden. Im folgenden Beispiel wird das assoziative Superglobal Array $_COOKIES mit einer foreach Schleife ausgelesen: <?php foreach ( $_COOKIE as $key => $value ) { echo $key . \": \" . $value ; } Sessions PHP Sessions werden entweder automatisch oder manuell gestartet. Falls in der php.ini die Konfiguration session.auto_start mit 1 belegt ist, werden Sessions automatisch f\u00fcr jeden Client erzeugt. Andernfalls muss eine Session explizit \u00fcber die Methode session_start erzeugt werden. Clients einer Session werden \u00fcber Cookies identifiziert. Der Name des Cookies ist default mit PHPSESSID spezifiziert (siehe php.ini ). Per default werden Sessions am Dateisystem des Servers gespeichert. Dies kann nat\u00fcrlich ge\u00e4ndert werden, sodass Sessions zB auch in Datenbanken gespeichert werden k\u00f6nnen. Mit der Funktion session_start wird eine bestehende Session (\u00fcber Cookie \u00fcbergeben) weitergef\u00fchrt oder eine neue gestartet. In der Superglobal $_SESSION k\u00f6nnen Schl\u00fcssel/Wert Paare abgelegt, gelesen und ver\u00e4ndert werden, welche zur entsprechenden Session geh\u00f6ren. Die G\u00fcltigkeit der Session h\u00e4ngt mit der G\u00fcltigkeit des Cookies zusammen. Default ist die G\u00fcltigkeit bis zum Schlie\u00dfen des Web-Browsers definiert. <?php // starten der Session vor jeglicher Ausgabe des PHP-Programms: session_start (); // \u00c4ndern von Session Inhalten: $_SESSION [ 'cart' ] = [ \"product-1\" => 5 , \"product-2\" => 3 ] // Ausgabe der Session Inhalte: foreach ( $_SESSION [ 'cart' ] as $key => $value ) { echo $key . \" \" . $value . \" \\n \" ; }","title":"Sessions und Cookies"},{"location":"php/sessions-und-cookies/#sessions-und-cookies","text":"Wichtig Das Erzeugen von Cookies bzw. einer Session muss vor jeglicher Ausgabe des PHP-Programms passieren (Zum Beispiel vor jedem echo Statement). Die Funktionen setcookies oder session_start sollten demnach so fr\u00fch wie m\u00f6glich im PHP-Programm aufgerufen werden.","title":"Sessions und Cookies"},{"location":"php/sessions-und-cookies/#cookies","text":"","title":"Cookies"},{"location":"php/sessions-und-cookies/#cookies-erzeugen","text":"PHP bietet die Funktion setcookie , damit k\u00f6nnen Cookies am Client erzeut werden. Die Set-Cookie Header werden dadurch \u00fcber den HTTP-Response gesetzt. Alle wichtigen Cookie-Parameter k\u00f6nnen dadurch gesetzt werden: Parameter: Cookie Name Parameter (optional): Cookie Wert; default als \"\" Parameter (optional): Angabe eines Zeitstempels in Sekunden mit einem Ablaufdatum bis dahin das Cookie g\u00fcltig ist; Keine Angabe l\u00e4sst das Cookie bis zum Schlie\u00dfen des Web-Browsers g\u00fcltig sein ( 0 ) Parameter (optional): Angabe eines URI Pfades innerhalb welchem das Cookie g\u00fcltig ist; Default ist der String \"\" f\u00fcr alle Pfade Parameter (optional): Angabe einer Subdomain, welche in die G\u00fcltigkeit eines Cookie geh\u00f6rt; Default ist der String \"\" f\u00fcr alle Subdomains Parameter (optional): Boolean der angibt, ob das Cookie nur \u00fcber HTTPS \u00fcbertragen wird; default ist false Parameter (optional): Boolean der angibt, ob das Cookie HTTP-only ist, also nicht \u00fcber JavaScript im Client ver\u00e4nderbar; default ist false <?php setcookie ( \"MyCookie\" , // Cookie Name \"some value\" , // Cookie Wert time () + 3600 , // 1h Lebensdauer \"\" , // Pfad G\u00fcltigkeit \"\" = default \"subdomain.example.com\" , // Domain G\u00fcltigkeit \"\" = default true , // Secure, HTTPS true // httpOnly, kein \u00c4ndern am Client );","title":"Cookies erzeugen"},{"location":"php/sessions-und-cookies/#cookies-auslesen","text":"Innerhalb der Superglobal $_COOKIES sind alle Cookies als Schl\u00fcssel/Wert Paare hinterlegt. Alle Cookies welche vom Client gesendet wurden, k\u00f6nnen dadurch ausgelesen werden. Im folgenden Beispiel wird das assoziative Superglobal Array $_COOKIES mit einer foreach Schleife ausgelesen: <?php foreach ( $_COOKIE as $key => $value ) { echo $key . \": \" . $value ; }","title":"Cookies auslesen"},{"location":"php/sessions-und-cookies/#sessions","text":"PHP Sessions werden entweder automatisch oder manuell gestartet. Falls in der php.ini die Konfiguration session.auto_start mit 1 belegt ist, werden Sessions automatisch f\u00fcr jeden Client erzeugt. Andernfalls muss eine Session explizit \u00fcber die Methode session_start erzeugt werden. Clients einer Session werden \u00fcber Cookies identifiziert. Der Name des Cookies ist default mit PHPSESSID spezifiziert (siehe php.ini ). Per default werden Sessions am Dateisystem des Servers gespeichert. Dies kann nat\u00fcrlich ge\u00e4ndert werden, sodass Sessions zB auch in Datenbanken gespeichert werden k\u00f6nnen. Mit der Funktion session_start wird eine bestehende Session (\u00fcber Cookie \u00fcbergeben) weitergef\u00fchrt oder eine neue gestartet. In der Superglobal $_SESSION k\u00f6nnen Schl\u00fcssel/Wert Paare abgelegt, gelesen und ver\u00e4ndert werden, welche zur entsprechenden Session geh\u00f6ren. Die G\u00fcltigkeit der Session h\u00e4ngt mit der G\u00fcltigkeit des Cookies zusammen. Default ist die G\u00fcltigkeit bis zum Schlie\u00dfen des Web-Browsers definiert. <?php // starten der Session vor jeglicher Ausgabe des PHP-Programms: session_start (); // \u00c4ndern von Session Inhalten: $_SESSION [ 'cart' ] = [ \"product-1\" => 5 , \"product-2\" => 3 ] // Ausgabe der Session Inhalte: foreach ( $_SESSION [ 'cart' ] as $key => $value ) { echo $key . \" \" . $value . \" \\n \" ; }","title":"Sessions"},{"location":"php/superglobals/","text":"Superglobals PHP kann als web-native Programmiersprache bezeichnet werden. Die Programmiersprache wurde grunds\u00e4tzlich mit dem Ziel der Web-Entwicklung geschaffen und hat dadurch einige built-in Konstrukte die haupts\u00e4chlich in der Web-Entwicklung n\u00fctzlich sind. PHP definiert einige globale Variablen (bezeichnet als Superglobals), welche wichtige Informationen zum HTTP-Request und zur Server Umgebung enthalten. Superglobals sind als assoziative Arrays angelegt. Superglobales sind nur sinnvoll zu verweden, wenn PHP am Web-Server ausgef\u00fchrt wird. F\u00fcr Kommandozeilen Programme sind Superglobales nutzlos. Folgende Superglobals sind definiert: $_SERVER : wichtige Informationen zum aktuellen HTTP-Request und Serverkontext $_GET : Schl\u00fcssel/Wert Paare, welche URL Parameter enthalten $_POST : Schl\u00fcssel/Wert Paare, welche Daten aus dem HTTP-Body enthalten $_FILES : Falls Dateien an den Server gesendet werden, sind die tempor\u00e4ren Pfade und Statusinformationen dar\u00fcber dort enthalten $_COOKIE : Schl\u00fcssel/Wert Paare \u00fcber Cookies, welche im HTTP-Request \u00fcbertragen wurden $_SESSION : Schl\u00fcssel/Wert Paare zur aktuellen Session, welche am Server gespeichert ist (Referenziert \u00fcber Session-Cookie) $_REQUEST : Zusammenfassung von $_GET , $_POST , $_COOKIE $_ENV : Umgebungsvariablen am Server Beispiel: $_GET Die Superglobal $_GET enth\u00e4lt alle Schl\u00fcssel/Wert Paare, welche als URL-Parameter (Querystring) an das PHP-Skript \u00fcbergeben wurden. Die Variable $name im Skript wird \u00fcber den URL-Parameter name gesetzt. Wird kein URL-Parameter name angegeben, so erh\u00e4lt die Variable $name den Wert \"Welt\" (Null-Coalesing Operator). <?php $name = $_GET [ 'name' ] ?? \"Welt\" ; ?> <!DOCTYPE html> <html> <head> <title>Hallo <?php echo $name ; ?> </title> </head> <body> <p> Hallo <?php echo $name ; ?> ! </p> </body> </html> Wird das Skript \u00fcber die URL http://localhost:9000 aufgerufen, sieht die Ausgabe \u00e4hnlich zum Screenshot unten aus: Falls das Skript \u00fcber die URL http://localhost:9000?name=Franzi aufgerufen wird, wird die Variable $name mit dem Wert \"Franzi\" belegt und die Ausgabe resultiert in Hallo Franzi . Dies entspricht dem unten angef\u00fchrten Screenshot: Beispiel: $_POST Die Superglobal $_POST enth\u00e4lt alle Schl\u00fcssel/Wert Paare, welche im HTTP-Body an das PHP-Skript \u00fcbergeben wurden. Die Variable $name im Skript wird \u00fcber ein Formularfeld gesetzt dieses hat das Attribute name mit dem Attributwert firstname gesetzt. Dadurch enth\u00e4lt der HTTP-Body beim Absenden des Formulars den Schl\u00fcssel firstname mit entsprechendem Wert (aus dem Formularfeld). <?php $name = $_POST [ 'firstname' ] ?? \"\" ; ?> <!DOCTYPE html> <html> <head> <title>Hallo <?php echo $name ; ?> </title> </head> <body> <p> <?php echo $name ? \"Hallo $name !\" : \"Wen willst du gr\u00fc\u00dfen?\" ; ?> </p> <form method=\"post\"> <input name=\"firstname\" value=\" <?php echo $name ; ?> \"> <button type=\"submit\">Absenden</button> </form> </body> </html> Im Screenshot wird das Skript \u00fcber den lokalen Web-Server aufgerufen mit der URL http://localhost:8080 . Bei Absenden des Formulars mit dem Wert Studenten wird das Schl\u00fcssel/Wert Paar firstname=Studenten als POST (HTTP-Request mit Methode POST) an den Web-Server gesendet. Die Verarbeitung am Web-Server f\u00fchrt dazu, dass die Variable $name mit dem Wert Studenten belegt wird und an unterschiedlichen Stellen zur entsprechenden Ausgabe f\u00fchrt:","title":"Superglobals"},{"location":"php/superglobals/#superglobals","text":"PHP kann als web-native Programmiersprache bezeichnet werden. Die Programmiersprache wurde grunds\u00e4tzlich mit dem Ziel der Web-Entwicklung geschaffen und hat dadurch einige built-in Konstrukte die haupts\u00e4chlich in der Web-Entwicklung n\u00fctzlich sind. PHP definiert einige globale Variablen (bezeichnet als Superglobals), welche wichtige Informationen zum HTTP-Request und zur Server Umgebung enthalten. Superglobals sind als assoziative Arrays angelegt. Superglobales sind nur sinnvoll zu verweden, wenn PHP am Web-Server ausgef\u00fchrt wird. F\u00fcr Kommandozeilen Programme sind Superglobales nutzlos. Folgende Superglobals sind definiert: $_SERVER : wichtige Informationen zum aktuellen HTTP-Request und Serverkontext $_GET : Schl\u00fcssel/Wert Paare, welche URL Parameter enthalten $_POST : Schl\u00fcssel/Wert Paare, welche Daten aus dem HTTP-Body enthalten $_FILES : Falls Dateien an den Server gesendet werden, sind die tempor\u00e4ren Pfade und Statusinformationen dar\u00fcber dort enthalten $_COOKIE : Schl\u00fcssel/Wert Paare \u00fcber Cookies, welche im HTTP-Request \u00fcbertragen wurden $_SESSION : Schl\u00fcssel/Wert Paare zur aktuellen Session, welche am Server gespeichert ist (Referenziert \u00fcber Session-Cookie) $_REQUEST : Zusammenfassung von $_GET , $_POST , $_COOKIE $_ENV : Umgebungsvariablen am Server","title":"Superglobals"},{"location":"php/superglobals/#beispiel-_get","text":"Die Superglobal $_GET enth\u00e4lt alle Schl\u00fcssel/Wert Paare, welche als URL-Parameter (Querystring) an das PHP-Skript \u00fcbergeben wurden. Die Variable $name im Skript wird \u00fcber den URL-Parameter name gesetzt. Wird kein URL-Parameter name angegeben, so erh\u00e4lt die Variable $name den Wert \"Welt\" (Null-Coalesing Operator). <?php $name = $_GET [ 'name' ] ?? \"Welt\" ; ?> <!DOCTYPE html> <html> <head> <title>Hallo <?php echo $name ; ?> </title> </head> <body> <p> Hallo <?php echo $name ; ?> ! </p> </body> </html> Wird das Skript \u00fcber die URL http://localhost:9000 aufgerufen, sieht die Ausgabe \u00e4hnlich zum Screenshot unten aus: Falls das Skript \u00fcber die URL http://localhost:9000?name=Franzi aufgerufen wird, wird die Variable $name mit dem Wert \"Franzi\" belegt und die Ausgabe resultiert in Hallo Franzi . Dies entspricht dem unten angef\u00fchrten Screenshot:","title":"Beispiel: $_GET"},{"location":"php/superglobals/#beispiel-_post","text":"Die Superglobal $_POST enth\u00e4lt alle Schl\u00fcssel/Wert Paare, welche im HTTP-Body an das PHP-Skript \u00fcbergeben wurden. Die Variable $name im Skript wird \u00fcber ein Formularfeld gesetzt dieses hat das Attribute name mit dem Attributwert firstname gesetzt. Dadurch enth\u00e4lt der HTTP-Body beim Absenden des Formulars den Schl\u00fcssel firstname mit entsprechendem Wert (aus dem Formularfeld). <?php $name = $_POST [ 'firstname' ] ?? \"\" ; ?> <!DOCTYPE html> <html> <head> <title>Hallo <?php echo $name ; ?> </title> </head> <body> <p> <?php echo $name ? \"Hallo $name !\" : \"Wen willst du gr\u00fc\u00dfen?\" ; ?> </p> <form method=\"post\"> <input name=\"firstname\" value=\" <?php echo $name ; ?> \"> <button type=\"submit\">Absenden</button> </form> </body> </html> Im Screenshot wird das Skript \u00fcber den lokalen Web-Server aufgerufen mit der URL http://localhost:8080 . Bei Absenden des Formulars mit dem Wert Studenten wird das Schl\u00fcssel/Wert Paar firstname=Studenten als POST (HTTP-Request mit Methode POST) an den Web-Server gesendet. Die Verarbeitung am Web-Server f\u00fchrt dazu, dass die Variable $name mit dem Wert Studenten belegt wird und an unterschiedlichen Stellen zur entsprechenden Ausgabe f\u00fchrt:","title":"Beispiel: $_POST"},{"location":"regex/alternative/","text":"Alternative Die Alternative wird \u00fcber den senkrechten Strich | angegeben. Die Alternative hat die Funktion eines logischen XOR . Einfaches Beispiel Um eine Datumsangabe entweder mit Punkt oder Bindestrich getrennt zu akzeptieren, k\u00f6nnen beide g\u00fcltigen Varianten mit der Alternative getrennt angegeben werden. \\d{2}\\.\\d{2}\\.\\d{4}|\\d{2}-\\d{2}-\\d{4} Die Regex w\u00fcrde Datumsangaben der Form 12.12.2004 und 31-10-2016 erlauben. Geltungsbereich Der Geltungsbereich der Alternative ist generell global. Durch Nutzung der Gruppierungsfunktion kann der Geltungsbereich jedoch auf die Gruppe eingeschr\u00e4nkt werden. \\d{2}\\(?:-|\\.)\\d{2}\\(?:-|\\.)\\d{4} Reihenfolge In der Verarbeitung der Alternative geht die Regex Engine so vor, dass bei der ersten erfolgreichen \u00dcbereinstimmung einer Alternative die Verarbeitung gestoppt wird. Dieses Verhalten nennt man eager . (e|ea|eag) Die angegebene Regex w\u00fcrde folgende \u00dcbereinstimmungen erzeugen: e ag e r Da e bereits als \u00dcbereinstimmung gilt, werden die anderen Alternativen nicht mehr untersucht (obwohl sie ebenfalls \u00fcbereinstimmen w\u00fcrden).","title":"Alternative"},{"location":"regex/alternative/#alternative","text":"Die Alternative wird \u00fcber den senkrechten Strich | angegeben. Die Alternative hat die Funktion eines logischen XOR .","title":"Alternative"},{"location":"regex/alternative/#einfaches-beispiel","text":"Um eine Datumsangabe entweder mit Punkt oder Bindestrich getrennt zu akzeptieren, k\u00f6nnen beide g\u00fcltigen Varianten mit der Alternative getrennt angegeben werden. \\d{2}\\.\\d{2}\\.\\d{4}|\\d{2}-\\d{2}-\\d{4} Die Regex w\u00fcrde Datumsangaben der Form 12.12.2004 und 31-10-2016 erlauben.","title":"Einfaches Beispiel"},{"location":"regex/alternative/#geltungsbereich","text":"Der Geltungsbereich der Alternative ist generell global. Durch Nutzung der Gruppierungsfunktion kann der Geltungsbereich jedoch auf die Gruppe eingeschr\u00e4nkt werden. \\d{2}\\(?:-|\\.)\\d{2}\\(?:-|\\.)\\d{4}","title":"Geltungsbereich"},{"location":"regex/alternative/#reihenfolge","text":"In der Verarbeitung der Alternative geht die Regex Engine so vor, dass bei der ersten erfolgreichen \u00dcbereinstimmung einer Alternative die Verarbeitung gestoppt wird. Dieses Verhalten nennt man eager . (e|ea|eag) Die angegebene Regex w\u00fcrde folgende \u00dcbereinstimmungen erzeugen: e ag e r Da e bereits als \u00dcbereinstimmung gilt, werden die anderen Alternativen nicht mehr untersucht (obwohl sie ebenfalls \u00fcbereinstimmen w\u00fcrden).","title":"Reihenfolge"},{"location":"regex/anker-und-wortgrenzen/","text":"Anker und Wortgrenzen Mit Anker und Wortgrenzen sind \u00dcbereinstimmungen der L\u00e4nge 0 definiert. Diese k\u00f6nnen verwendet werden um eine Regex innerhalb eines Kontexts zu verankern. Wortgrenzen Eine Wortgrenze ist eine definierte Kurzform \\b , welche eine Zeichenl\u00e4nge 0 aufweist. An folgenden Positionen kommt eine Wortgrenze vor: Vor dem ersten Zeichen eines Wortes Nach dem letzten Zeichen eines Wortes Innerhalb eines Wortes, falls zB ein Bindestrich verwendet wird Mit dem folgenden Beispiel werden alle W\u00f6rter identifiziert, welche ein scharfes \u00df in der Schreibweise enthalten. \\b([a-zA-Z]*\u00df[a-z]*)\\b Dabei werden tats\u00e4chlich die W\u00f6rter identifiziert, da die Regeln der Wortgrenzen durch \\b eintreten: Eine Stra\u00dfe in Stra\u00dfburg . Anker Anker werden verwendet um eine Regular Expression an oder innerhalb definierter Positionen zu verankern. So kann mit ^ der Beginn der zu suchenden Zeichenkette und mit $ das Ende der zu suchenden Zeichenkette angegeben werden. Im unten angef\u00fchrten Beispiel wird das letzte Wort eines Textes gesucht: ([A-Za-z\u00df]*)\\W?$","title":"Anker und Wortgrenzen"},{"location":"regex/anker-und-wortgrenzen/#anker-und-wortgrenzen","text":"Mit Anker und Wortgrenzen sind \u00dcbereinstimmungen der L\u00e4nge 0 definiert. Diese k\u00f6nnen verwendet werden um eine Regex innerhalb eines Kontexts zu verankern.","title":"Anker und Wortgrenzen"},{"location":"regex/anker-und-wortgrenzen/#wortgrenzen","text":"Eine Wortgrenze ist eine definierte Kurzform \\b , welche eine Zeichenl\u00e4nge 0 aufweist. An folgenden Positionen kommt eine Wortgrenze vor: Vor dem ersten Zeichen eines Wortes Nach dem letzten Zeichen eines Wortes Innerhalb eines Wortes, falls zB ein Bindestrich verwendet wird Mit dem folgenden Beispiel werden alle W\u00f6rter identifiziert, welche ein scharfes \u00df in der Schreibweise enthalten. \\b([a-zA-Z]*\u00df[a-z]*)\\b Dabei werden tats\u00e4chlich die W\u00f6rter identifiziert, da die Regeln der Wortgrenzen durch \\b eintreten: Eine Stra\u00dfe in Stra\u00dfburg .","title":"Wortgrenzen"},{"location":"regex/anker-und-wortgrenzen/#anker","text":"Anker werden verwendet um eine Regular Expression an oder innerhalb definierter Positionen zu verankern. So kann mit ^ der Beginn der zu suchenden Zeichenkette und mit $ das Ende der zu suchenden Zeichenkette angegeben werden. Im unten angef\u00fchrten Beispiel wird das letzte Wort eines Textes gesucht: ([A-Za-z\u00df]*)\\W?$","title":"Anker"},{"location":"regex/beispiele/","text":"Beispiele Regul\u00e4re Ausdr\u00fccke k\u00f6nnen mit unterschiedlichen Werkzeugen getestet und erstellt werden. Das Werkzeug Regular Expressions 101 kann dazu nur empfohlen werden. Alle Vorkommen des Namens Maier \u00dcber Zeichenklassen M[ae][iy]er \u00dcber Alternativen und Gruppierung M(?:ai|ei|ay|ey)er Email-Adresse (einfach) [a-zA-Z_.\\-]+@[a-z\\-]*\\.[a-z]{2,} IP-Adresse v4 (einfach) \\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3} Farbangabe als Hex-Wert #(?:[a-fA-F0-9]{3}){1,2} Eine Zahl gr\u00f6\u00dfer 15 (?:1[6-9]|[2-9]\\d|\\d{3,}) (?:1(?:[6-9]|\\d{2,})|[2-9]\\d+)","title":"Beispiele"},{"location":"regex/beispiele/#beispiele","text":"Regul\u00e4re Ausdr\u00fccke k\u00f6nnen mit unterschiedlichen Werkzeugen getestet und erstellt werden. Das Werkzeug Regular Expressions 101 kann dazu nur empfohlen werden.","title":"Beispiele"},{"location":"regex/beispiele/#alle-vorkommen-des-namens-maier","text":"","title":"Alle Vorkommen des Namens Maier"},{"location":"regex/beispiele/#uber-zeichenklassen","text":"M[ae][iy]er","title":"\u00dcber Zeichenklassen"},{"location":"regex/beispiele/#uber-alternativen-und-gruppierung","text":"M(?:ai|ei|ay|ey)er","title":"\u00dcber Alternativen und Gruppierung"},{"location":"regex/beispiele/#email-adresse-einfach","text":"[a-zA-Z_.\\-]+@[a-z\\-]*\\.[a-z]{2,}","title":"Email-Adresse (einfach)"},{"location":"regex/beispiele/#ip-adresse-v4-einfach","text":"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}","title":"IP-Adresse v4 (einfach)"},{"location":"regex/beispiele/#farbangabe-als-hex-wert","text":"#(?:[a-fA-F0-9]{3}){1,2}","title":"Farbangabe als Hex-Wert"},{"location":"regex/beispiele/#eine-zahl-groer-15","text":"(?:1[6-9]|[2-9]\\d|\\d{3,}) (?:1(?:[6-9]|\\d{2,})|[2-9]\\d+)","title":"Eine Zahl gr\u00f6\u00dfer 15"},{"location":"regex/einf%C3%BChrung/","text":"Einf\u00fchrung Regex (genau Regul\u00e4rer Ausdruck oder Regular Expression ) ist eine Sprache um Muster in Zeichenketten zu beschreiben. Regul\u00e4re Ausdr\u00fccke sind weit verbreitet und in allen Programmiersprachen bzw. direkt in vielen Programmen unterst\u00fctzt. Regul\u00e4re Ausdr\u00fccke werden zum Pattern Matching verwendet. Dabei wird das Muster als Regex spezifiziert und in unterschiedlichen Kontexten auf Zeichenketten angewandt. Folgendes sind einige g\u00e4ngige Anwendungsbereiche von Regul\u00e4ren Ausdr\u00fccken: Suche von Textstellen in Dokumenten Validierung von Formulareingaben Textstellen aus Dokumenten oder Webseiten extrahieren Textstellen suchen und ersetzen Konfigurationsparameter Erstes Beispiel und wichtige Begriffe Eine Zeichenkette (im Kontext von Regex wird diese Subjekt genannt) soll nach dem Muster abc durchsucht werden und alle Positionen an denen das Muster vorkommt sollen ermittelt werden: abc dde abcd aabb bb aa bb ab9d abd abkk abkabcde Die Regex Engine , welche die Regex auf das Subjekt anwendet, geht das Subjekt Zeichen f\u00fcr Zeichen von links nach rechts durch. An jeder Position wird gepr\u00fcft, ob das Muster an der Position \u00fcbereinstimmt. Falls es eine \u00dcbereinstimmung an einer Position gibt, wird diese markiert. Das Ergebnis der Regex Engine w\u00fcrde wie folgt aussehen: abc dde abc d aabb bb aa bb ab9d abd abkk abk abc de Hierbei handelt sich um ein sehr einfaches Beispiel. Ein einfacher Vergleich der Zeichenkette mit dem Muster an jeder Position reicht aus, um die \u00dcbereinstimmungen zu finden. Mit Regex k\u00f6nnen jedoch viel komplexere Muster beschrieben werden. Die entsprechenden Bestandteile dieser Musterbeschreibungssprache finden sich auf den weiteren Unterseiten. Regex Metazeichen Zur Beschreibung einer Regex, also zur Beschreibung eines Musters, werden Metazeichen verwendet. Diese Metazeichen sind im Folgenden aufgef\u00fchrt: [ ] { } ( ) . ? * + ^ $ | \\ Diese Zeichen haben eine spezielle Bedeutung zur Musterbeschreibung und k\u00f6nnen nicht direkt zur Such\u00fcbereinstimmung mit der Zeichenkette verwendet werden. Falls ein Metazeichen Teil des Suchstrings sein soll, muss es \u00fcber den Backslash \\ maskiert (escaped) werden.","title":"Einf\u00fchrung"},{"location":"regex/einf%C3%BChrung/#einfuhrung","text":"Regex (genau Regul\u00e4rer Ausdruck oder Regular Expression ) ist eine Sprache um Muster in Zeichenketten zu beschreiben. Regul\u00e4re Ausdr\u00fccke sind weit verbreitet und in allen Programmiersprachen bzw. direkt in vielen Programmen unterst\u00fctzt. Regul\u00e4re Ausdr\u00fccke werden zum Pattern Matching verwendet. Dabei wird das Muster als Regex spezifiziert und in unterschiedlichen Kontexten auf Zeichenketten angewandt. Folgendes sind einige g\u00e4ngige Anwendungsbereiche von Regul\u00e4ren Ausdr\u00fccken: Suche von Textstellen in Dokumenten Validierung von Formulareingaben Textstellen aus Dokumenten oder Webseiten extrahieren Textstellen suchen und ersetzen Konfigurationsparameter","title":"Einf\u00fchrung"},{"location":"regex/einf%C3%BChrung/#erstes-beispiel-und-wichtige-begriffe","text":"Eine Zeichenkette (im Kontext von Regex wird diese Subjekt genannt) soll nach dem Muster abc durchsucht werden und alle Positionen an denen das Muster vorkommt sollen ermittelt werden: abc dde abcd aabb bb aa bb ab9d abd abkk abkabcde Die Regex Engine , welche die Regex auf das Subjekt anwendet, geht das Subjekt Zeichen f\u00fcr Zeichen von links nach rechts durch. An jeder Position wird gepr\u00fcft, ob das Muster an der Position \u00fcbereinstimmt. Falls es eine \u00dcbereinstimmung an einer Position gibt, wird diese markiert. Das Ergebnis der Regex Engine w\u00fcrde wie folgt aussehen: abc dde abc d aabb bb aa bb ab9d abd abkk abk abc de Hierbei handelt sich um ein sehr einfaches Beispiel. Ein einfacher Vergleich der Zeichenkette mit dem Muster an jeder Position reicht aus, um die \u00dcbereinstimmungen zu finden. Mit Regex k\u00f6nnen jedoch viel komplexere Muster beschrieben werden. Die entsprechenden Bestandteile dieser Musterbeschreibungssprache finden sich auf den weiteren Unterseiten.","title":"Erstes Beispiel und wichtige Begriffe"},{"location":"regex/einf%C3%BChrung/#regex-metazeichen","text":"Zur Beschreibung einer Regex, also zur Beschreibung eines Musters, werden Metazeichen verwendet. Diese Metazeichen sind im Folgenden aufgef\u00fchrt: [ ] { } ( ) . ? * + ^ $ | \\ Diese Zeichen haben eine spezielle Bedeutung zur Musterbeschreibung und k\u00f6nnen nicht direkt zur Such\u00fcbereinstimmung mit der Zeichenkette verwendet werden. Falls ein Metazeichen Teil des Suchstrings sein soll, muss es \u00fcber den Backslash \\ maskiert (escaped) werden.","title":"Regex Metazeichen"},{"location":"regex/gruppierungen/","text":"Gruppierungen Mit Gruppierungen k\u00f6nnen Teile einer Regex als Teil\u00fcbereinstimmung ausgezeichnet bzw. auch referenziert werden. Eine Gruppierung wird \u00fcber die normalen Klammern ( und ) spezifiziert. Regex Engines geben die Gruppierungen als separate Teil\u00fcbereinstimmungen zur\u00fcck. Merke Eine Wiederholung, welche einer Gruppierung nachfolgt, bezieht sich auf die gesamte Gruppe. Normale Gruppierung Innerhalb einer Regex kann die Gruppierungsfunktion beliebig genutzt werden. Durch die Gruppierung wird der gruppierte Ausdruck zu einer Einheit. Im folgenden Beispiel sollen Uhrzeitangaben \u00fcber eine Regex spezifiziert werden. Eine Uhrzeitangabe wird generell \u00fcber das Format HH:MM (also Stunden : Minuten) angegeben. Stunden und Minuten werden jeweils \u00fcber 2 Ziffern angegeben. Optional kann auch das Wort Uhr auf die Zeitangabe folgen: (\\d{2}):(\\d{2})( Uhr)? Die Stunden- bzw. die Minutenangabe bilden jeweils eine Gruppe mit 2 Ziffern. Die Zeichenkette Uhr wird ebenfalls als Gruppe ausgezeichnet und \u00fcber den Quantor ? optional gesetzt. Referenzierung Gruppen k\u00f6nnen innerhalb der Regex referenziert werden. Gruppen bekommen implizit einen Index zugewiesen, dieser wird von links nach rechts mit 1 beginnend erzeugt. Eine Gruppe kann \u00fcber \\Index referenziert werden. Im folgenden Beispiel sollen alle Textteile, welche innerhalb von Anf\u00fchrungszeichen stehen, identifiziert werden. Dabei wird eine Gruppe eingef\u00fchrt ([\"']) , welche die Zeichenklasse der Anf\u00fchrungszeichen enth\u00e4lt. Diese Gruppe wird am Ende der Regex wieder \u00fcber \\1 referenziert, dabei wird jedoch die konkrete \u00dcbereinstimmung referenziert und nicht die Regex. ([\"'])[^\"']*\\1 Die oben angegebene Regex w\u00fcrde im Text die unterstrichenen Teile finden. Es ist dabei anzumerken, dass Verschachtelungen ignoriert werden. Bei einem \u00f6ffnenden ' werden \" bis zum ' ignoriert. Lorem Ipsum \"is simply dummy text\" of the 'printing and typesetting' industry. Lorem 'Ipsum \"has been\" the' industry standard dummy text ever since the 1500s. Gruppierung ohne \u00dcbereinstimmung Eine normale Gruppierung erf\u00fcllt zwei Aufgaben. Einerseits die Funktion der Gruppierung von Ausdr\u00fccken und andererseits die Erzeugung einer referenzierbaren Teil\u00fcbereinstimmung. Es kann gew\u00fcnscht werden, dass nur die Funktion der Gruppierung ausgef\u00fchrt werden soll. Dazu wird die Gruppe mit den Zeichen ?: eingeleitet. Im Beispiel der Uhrzeit sollen nur die Stunden- bzw. Minutenangaben referenzierbar sein, nicht jedoch die optionale Zeichenkette: (\\d{2}):(\\d{2})(?: Uhr)? Benannte Gruppierung F\u00fcr Gruppen k\u00f6nnen auch Bezeichner vergeben werden. Zur Datenextraktion kann dies sehr n\u00fctzlich sein. Mit ?<name> kann der Bezeichner name f\u00fcr die Gruppe vergeben werden. Im unten stehenden Beispiel werden die Stunden bzw. Minuten \u00fcber einen definierten Bezeichner identifiziert. (?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?","title":"Gruppierungen"},{"location":"regex/gruppierungen/#gruppierungen","text":"Mit Gruppierungen k\u00f6nnen Teile einer Regex als Teil\u00fcbereinstimmung ausgezeichnet bzw. auch referenziert werden. Eine Gruppierung wird \u00fcber die normalen Klammern ( und ) spezifiziert. Regex Engines geben die Gruppierungen als separate Teil\u00fcbereinstimmungen zur\u00fcck. Merke Eine Wiederholung, welche einer Gruppierung nachfolgt, bezieht sich auf die gesamte Gruppe.","title":"Gruppierungen"},{"location":"regex/gruppierungen/#normale-gruppierung","text":"Innerhalb einer Regex kann die Gruppierungsfunktion beliebig genutzt werden. Durch die Gruppierung wird der gruppierte Ausdruck zu einer Einheit. Im folgenden Beispiel sollen Uhrzeitangaben \u00fcber eine Regex spezifiziert werden. Eine Uhrzeitangabe wird generell \u00fcber das Format HH:MM (also Stunden : Minuten) angegeben. Stunden und Minuten werden jeweils \u00fcber 2 Ziffern angegeben. Optional kann auch das Wort Uhr auf die Zeitangabe folgen: (\\d{2}):(\\d{2})( Uhr)? Die Stunden- bzw. die Minutenangabe bilden jeweils eine Gruppe mit 2 Ziffern. Die Zeichenkette Uhr wird ebenfalls als Gruppe ausgezeichnet und \u00fcber den Quantor ? optional gesetzt.","title":"Normale Gruppierung"},{"location":"regex/gruppierungen/#referenzierung","text":"Gruppen k\u00f6nnen innerhalb der Regex referenziert werden. Gruppen bekommen implizit einen Index zugewiesen, dieser wird von links nach rechts mit 1 beginnend erzeugt. Eine Gruppe kann \u00fcber \\Index referenziert werden. Im folgenden Beispiel sollen alle Textteile, welche innerhalb von Anf\u00fchrungszeichen stehen, identifiziert werden. Dabei wird eine Gruppe eingef\u00fchrt ([\"']) , welche die Zeichenklasse der Anf\u00fchrungszeichen enth\u00e4lt. Diese Gruppe wird am Ende der Regex wieder \u00fcber \\1 referenziert, dabei wird jedoch die konkrete \u00dcbereinstimmung referenziert und nicht die Regex. ([\"'])[^\"']*\\1 Die oben angegebene Regex w\u00fcrde im Text die unterstrichenen Teile finden. Es ist dabei anzumerken, dass Verschachtelungen ignoriert werden. Bei einem \u00f6ffnenden ' werden \" bis zum ' ignoriert. Lorem Ipsum \"is simply dummy text\" of the 'printing and typesetting' industry. Lorem 'Ipsum \"has been\" the' industry standard dummy text ever since the 1500s.","title":"Referenzierung"},{"location":"regex/gruppierungen/#gruppierung-ohne-ubereinstimmung","text":"Eine normale Gruppierung erf\u00fcllt zwei Aufgaben. Einerseits die Funktion der Gruppierung von Ausdr\u00fccken und andererseits die Erzeugung einer referenzierbaren Teil\u00fcbereinstimmung. Es kann gew\u00fcnscht werden, dass nur die Funktion der Gruppierung ausgef\u00fchrt werden soll. Dazu wird die Gruppe mit den Zeichen ?: eingeleitet. Im Beispiel der Uhrzeit sollen nur die Stunden- bzw. Minutenangaben referenzierbar sein, nicht jedoch die optionale Zeichenkette: (\\d{2}):(\\d{2})(?: Uhr)?","title":"Gruppierung ohne \u00dcbereinstimmung"},{"location":"regex/gruppierungen/#benannte-gruppierung","text":"F\u00fcr Gruppen k\u00f6nnen auch Bezeichner vergeben werden. Zur Datenextraktion kann dies sehr n\u00fctzlich sein. Mit ?<name> kann der Bezeichner name f\u00fcr die Gruppe vergeben werden. Im unten stehenden Beispiel werden die Stunden bzw. Minuten \u00fcber einen definierten Bezeichner identifiziert. (?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?","title":"Benannte Gruppierung"},{"location":"regex/modifikationen/","text":"Modifikationen \u00dcber unterschiedliche Flags kann das Verhalten der Regex Engine ver\u00e4ndert werden. Innerhalb von Programmiersprachen oder Regex-Werkzeugen k\u00f6nnen diese Modifikationen generell au\u00dferhalb der Regular Expression angegeben werden. Zus\u00e4tzlich gibt es jedoch auch die M\u00f6glichkeit einer Inline-Angabe. Wichtige Modifikationen Modifikation Bedeutung i Case Insensitive: Gro\u00df- und Kleinschreibung wird nicht unterschieden s Single Line Mode: Die Zeichenklasse . ist so definiert, dass der Zeilenumbruch nicht inkludiert ist ( \\n ), dies wird damit aufgebohen m Multi Line Mode: Die Anker ^ und $ beziehen sich nicht mehr auf den Start und das Ende der gesamten Zeichenkette, sondern auf den Start und das Ende einer Zeile x Free-spacing Mode: Wei\u00dfraum (zB Leerraum, Zeilenumbruch, Tabulator, ...) innerhalb der Regular Expression wird ignoriert, damit kann eine Regular Expression mehrzeilig (erh\u00f6hung der Lesbarkeit) erstellt werden Es gibt sehr viele unterschiedliche Implementierungen von Regex Engines. Regex Engines unterst\u00fctzen unterschiedliche weitere propriet\u00e4re Modifikationen. Inline Modifikation Modifikationen k\u00f6nnen auch innerhalb einer Regular Expression an beliebigen Positionen integriert werden. Dabei wird zum Beispiel die Case Insensitive Modifikation \u00fcber folgenden Ausdruck aktiviert: (?i) . Eine Deaktivierung der Modifikation wird duch einen Bindestrich angegeben. Die Case Insensitive Modifikation wird mit (?-i) deaktiviert. Die folgende Regular Expression w\u00fcrde die Zeichenketten test , Test , TEst und tEst matchen: (?i)te(?-i)st Mit der Inline-Angabe k\u00f6nnen auch mehrere Modifkationen gleichzeitig aktiviert oder deaktiviert werden. Die Angabe (?is-m) w\u00fcrde Case Insensitive und Single Line Mode aktivieren und Multi Line Mode deaktivieren.","title":"Modifikationen"},{"location":"regex/modifikationen/#modifikationen","text":"\u00dcber unterschiedliche Flags kann das Verhalten der Regex Engine ver\u00e4ndert werden. Innerhalb von Programmiersprachen oder Regex-Werkzeugen k\u00f6nnen diese Modifikationen generell au\u00dferhalb der Regular Expression angegeben werden. Zus\u00e4tzlich gibt es jedoch auch die M\u00f6glichkeit einer Inline-Angabe.","title":"Modifikationen"},{"location":"regex/modifikationen/#wichtige-modifikationen","text":"Modifikation Bedeutung i Case Insensitive: Gro\u00df- und Kleinschreibung wird nicht unterschieden s Single Line Mode: Die Zeichenklasse . ist so definiert, dass der Zeilenumbruch nicht inkludiert ist ( \\n ), dies wird damit aufgebohen m Multi Line Mode: Die Anker ^ und $ beziehen sich nicht mehr auf den Start und das Ende der gesamten Zeichenkette, sondern auf den Start und das Ende einer Zeile x Free-spacing Mode: Wei\u00dfraum (zB Leerraum, Zeilenumbruch, Tabulator, ...) innerhalb der Regular Expression wird ignoriert, damit kann eine Regular Expression mehrzeilig (erh\u00f6hung der Lesbarkeit) erstellt werden Es gibt sehr viele unterschiedliche Implementierungen von Regex Engines. Regex Engines unterst\u00fctzen unterschiedliche weitere propriet\u00e4re Modifikationen.","title":"Wichtige Modifikationen"},{"location":"regex/modifikationen/#inline-modifikation","text":"Modifikationen k\u00f6nnen auch innerhalb einer Regular Expression an beliebigen Positionen integriert werden. Dabei wird zum Beispiel die Case Insensitive Modifikation \u00fcber folgenden Ausdruck aktiviert: (?i) . Eine Deaktivierung der Modifikation wird duch einen Bindestrich angegeben. Die Case Insensitive Modifikation wird mit (?-i) deaktiviert. Die folgende Regular Expression w\u00fcrde die Zeichenketten test , Test , TEst und tEst matchen: (?i)te(?-i)st Mit der Inline-Angabe k\u00f6nnen auch mehrere Modifkationen gleichzeitig aktiviert oder deaktiviert werden. Die Angabe (?is-m) w\u00fcrde Case Insensitive und Single Line Mode aktivieren und Multi Line Mode deaktivieren.","title":"Inline Modifikation"},{"location":"regex/nutzung-mit-php/","text":"Nutzung mit PHP PHP bietet die Funktion preg_match , welche zum Ausf\u00fchren von Regex verwendet werden kann. Das p steht dabei f\u00fcr Perl-compatible Regular Expression (PCRE) . Eine Regex wird in PHP immer als String angegeben. Wichtig dabei ist, dass der String den definierten Aufbau /regex/modifier haben muss. Beispiel: Pr\u00fcfung auf \u00dcbereinstimmung preg_match gibt 1 als R\u00fcckgabewert falls eine \u00dcbereinstimmung mit dem Muster gegeben ist und 0 falls keine \u00dcbereinstimmung gegeben ist. <?php $regex = '/\\d{2}\\.\\d{2}\\.\\d{4}/' ; echo preg_match ( $regex , \"12-23-2004\" ); // 0 echo preg_match ( $regex , \"12.12.2004\" ); // 1 Beispiel: Extraktion der \u00dcbereinstimmungen Durch die Angabe des Referenzparameters &$match werden alle \u00dcbereinstimmungen bzw. Teil\u00fcbereinstimmungen aus der Regex in der \u00fcbergebenen Variable gespeichert. <?php $regex = '/(?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?/' ; $subject = 'Ab 07:30 Uhr gibt es Fr\u00fchst\u00fcck.' ; preg_match ( $regex , $subject , $matches ); print_r ( $matches ); Die Ausgabe des PHP-Skriptes sieht folgenderma\u00dfen aus: Array ( [0] => 07:30 Uhr [hours] => 07 [1] => 07 [minutes] => 30 [2] => 30 ) Beispiel: Alle \u00dcbereinstimmungen Die Funktion preg_match stoppt nach dem Auffinden der ersten \u00dcbereinstimmung im Subjekt. Durch die Funktion preg_match_all werden alle \u00dcbereinstimmungen im Subjekt gesucht. <?php $regex = '/(?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?/' ; $subject = 'Von 07:30 bis 10:00 Uhr gibt es Fr\u00fchst\u00fcck und von 12:00 bis 13:30 Uhr wird das Mittagessen serviert.' ; preg_match_all ( $regex , $subject , $matches ); print_r ( $matches ); Das Array $matches hat dabei folgenden Inhalt. Die Strukturierung des Arrays ist dabei anhand der Regex vorgenommen und nicht entlang der einzelnen \u00dcbereinstimmungen: Array ( [0] => Array ( [0] => 07:30 [1] => 10:00 Uhr [2] => 12:00 [3] => 13:30 Uhr ) [hours] => Array ( [0] => 07 [1] => 10 [2] => 12 [3] => 13 ) [1] => Array ( [0] => 07 [1] => 10 [2] => 12 [3] => 13 ) [minutes] => Array ( [0] => 30 [1] => 00 [2] => 00 [3] => 30 ) [2] => Array ( [0] => 30 [1] => 00 [2] => 00 [3] => 30 ) )","title":"Nutzung mit PHP"},{"location":"regex/nutzung-mit-php/#nutzung-mit-php","text":"PHP bietet die Funktion preg_match , welche zum Ausf\u00fchren von Regex verwendet werden kann. Das p steht dabei f\u00fcr Perl-compatible Regular Expression (PCRE) . Eine Regex wird in PHP immer als String angegeben. Wichtig dabei ist, dass der String den definierten Aufbau /regex/modifier haben muss.","title":"Nutzung mit PHP"},{"location":"regex/nutzung-mit-php/#beispiel-prufung-auf-ubereinstimmung","text":"preg_match gibt 1 als R\u00fcckgabewert falls eine \u00dcbereinstimmung mit dem Muster gegeben ist und 0 falls keine \u00dcbereinstimmung gegeben ist. <?php $regex = '/\\d{2}\\.\\d{2}\\.\\d{4}/' ; echo preg_match ( $regex , \"12-23-2004\" ); // 0 echo preg_match ( $regex , \"12.12.2004\" ); // 1","title":"Beispiel: Pr\u00fcfung auf \u00dcbereinstimmung"},{"location":"regex/nutzung-mit-php/#beispiel-extraktion-der-ubereinstimmungen","text":"Durch die Angabe des Referenzparameters &$match werden alle \u00dcbereinstimmungen bzw. Teil\u00fcbereinstimmungen aus der Regex in der \u00fcbergebenen Variable gespeichert. <?php $regex = '/(?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?/' ; $subject = 'Ab 07:30 Uhr gibt es Fr\u00fchst\u00fcck.' ; preg_match ( $regex , $subject , $matches ); print_r ( $matches ); Die Ausgabe des PHP-Skriptes sieht folgenderma\u00dfen aus: Array ( [0] => 07:30 Uhr [hours] => 07 [1] => 07 [minutes] => 30 [2] => 30 )","title":"Beispiel: Extraktion der \u00dcbereinstimmungen"},{"location":"regex/nutzung-mit-php/#beispiel-alle-ubereinstimmungen","text":"Die Funktion preg_match stoppt nach dem Auffinden der ersten \u00dcbereinstimmung im Subjekt. Durch die Funktion preg_match_all werden alle \u00dcbereinstimmungen im Subjekt gesucht. <?php $regex = '/(?<hours>\\d{2}):(?<minutes>\\d{2})(?: Uhr)?/' ; $subject = 'Von 07:30 bis 10:00 Uhr gibt es Fr\u00fchst\u00fcck und von 12:00 bis 13:30 Uhr wird das Mittagessen serviert.' ; preg_match_all ( $regex , $subject , $matches ); print_r ( $matches ); Das Array $matches hat dabei folgenden Inhalt. Die Strukturierung des Arrays ist dabei anhand der Regex vorgenommen und nicht entlang der einzelnen \u00dcbereinstimmungen: Array ( [0] => Array ( [0] => 07:30 [1] => 10:00 Uhr [2] => 12:00 [3] => 13:30 Uhr ) [hours] => Array ( [0] => 07 [1] => 10 [2] => 12 [3] => 13 ) [1] => Array ( [0] => 07 [1] => 10 [2] => 12 [3] => 13 ) [minutes] => Array ( [0] => 30 [1] => 00 [2] => 00 [3] => 30 ) [2] => Array ( [0] => 30 [1] => 00 [2] => 00 [3] => 30 ) )","title":"Beispiel: Alle \u00dcbereinstimmungen"},{"location":"regex/wiederholungen/","text":"Wiederholungen F\u00fcr einzelne Bestandteile einer Regex k\u00f6nnen beliebige Wiederholungen (auch als Quantoren bezeichnet) definiert werden. Eine Wiederholung bezieht sich immer auf den voranstehenden Teil der Regex. Eine Wiederholungsangabe spezifiziert dabei nicht zwingend die L\u00e4nge der Zeichenkette, sondern die Wiederholungsrate des voranstehenden Ausdrucks. Wiederholungsangabe Wiederholungen werden innerhalb von geschweiften Klammern { und } definiert. Wiederholungsangabe Bedeutung {n} Exakt n Wiederholungen {min,max} Mindestens min und maximal max Wiederholungen {min,} Beliebig viele Wiederholungen, aber mindestens min Wiederholungen Das folgende Beispiel w\u00fcrde angeben, dass sich der Inhalt der Zeichenklasse mindestens 2-mal und maximal 5-mal wiederholen darf: [0123456789]{2,5} Kurzformen \u00c4hnlich zu den Kurzformen f\u00fcr Zeichenklassen, sind f\u00fcr Wiederholungen Kurzformen f\u00fcr h\u00e4ufige Konfigurationen definiert. Kurzform Bedeutung Alternative + Beliebig viele Wiederholungen, aber mindestens 1 {1,} * Beliebig viele Wiederholungen (auch 0 ) {0,} ? Keine oder eine Wiederholung (Optionaler Ausdruck) {0,1}","title":"Wiederholungen"},{"location":"regex/wiederholungen/#wiederholungen","text":"F\u00fcr einzelne Bestandteile einer Regex k\u00f6nnen beliebige Wiederholungen (auch als Quantoren bezeichnet) definiert werden. Eine Wiederholung bezieht sich immer auf den voranstehenden Teil der Regex. Eine Wiederholungsangabe spezifiziert dabei nicht zwingend die L\u00e4nge der Zeichenkette, sondern die Wiederholungsrate des voranstehenden Ausdrucks.","title":"Wiederholungen"},{"location":"regex/wiederholungen/#wiederholungsangabe","text":"Wiederholungen werden innerhalb von geschweiften Klammern { und } definiert. Wiederholungsangabe Bedeutung {n} Exakt n Wiederholungen {min,max} Mindestens min und maximal max Wiederholungen {min,} Beliebig viele Wiederholungen, aber mindestens min Wiederholungen Das folgende Beispiel w\u00fcrde angeben, dass sich der Inhalt der Zeichenklasse mindestens 2-mal und maximal 5-mal wiederholen darf: [0123456789]{2,5}","title":"Wiederholungsangabe"},{"location":"regex/wiederholungen/#kurzformen","text":"\u00c4hnlich zu den Kurzformen f\u00fcr Zeichenklassen, sind f\u00fcr Wiederholungen Kurzformen f\u00fcr h\u00e4ufige Konfigurationen definiert. Kurzform Bedeutung Alternative + Beliebig viele Wiederholungen, aber mindestens 1 {1,} * Beliebig viele Wiederholungen (auch 0 ) {0,} ? Keine oder eine Wiederholung (Optionaler Ausdruck) {0,1}","title":"Kurzformen"},{"location":"regex/zeichenklassen/","text":"Zeichenklassen Mit einer Zeichenklasse kann eine Menge von Zeichen spezifiziert werden. Genau ein beliebiges Zeichen dieser Definition kann an der entsprechenden Position vorkommen. Merke Genau ein Zeichen der Zeichenklasse darf an der entsprechenden Position vorkommen. Definition einer Zeichenklasse Innerhalb der eckigen Klammern [ und ] kann eine Zeichenklasse definiert werden. Die einfachste Form der Definition ist dabei das blo\u00dfe Aufz\u00e4hlen von g\u00fcltigen Zeichen der Zeichenklasse. Die folgende Zeichenklasse w\u00fcrde die Zeichen a , b , A , B , 0 , 1 , 2 und 3 umfassen. [aAbB0123] Invertierte Definition Ein vorangestelltes Dach-Symbol ^ (auch Zirkumflex oder Caret-Symbol) kann verwendet werden um eine invertierte Klassendefinition durchzuf\u00fchren. Dabei werden alle Zeichen aufgef\u00fchrt die nicht an der entsprechenden Position vorkommen d\u00fcrfen. Die folgende Zeichenklasse w\u00fcrde aufgrund des vorangestellten Dach-Symbols alle Zeichen au\u00dfer der Ziffern von 0 bis 9 als Teil der Klasse definieren. [^0123456789] Bereichsdefinitionen Mit dem Bindestrich - k\u00f6nnen g\u00fcltige Bereiche innerhalb einer Zeichenklasse definiert werden. Dabei kann spezifiziert werden, dass alle Zeichen von einem beliebigen Startzeichen bis zu einem beliebigen Endzeichen g\u00fcltig sind. Der Bindestrich kann auch mehrmals innerhalb einer Klassendefinition verwendet werden. Die folgende Zeichenklasse w\u00fcrde dabei alle Klein- und Gro\u00dfbuchstaben, also alle Zeichen von a bis z und von A bis Z , definieren: [a-zA-Z] Eine wichtige Anmerkung dabei ist, dass Zeichen anhand des entsprechenden Zeichensatzes geordnet sind. F\u00fcr Regular Expressions kommt hierbei grunds\u00e4tzlich der ASCII-Zeichensatz zum tragen. Der ASCII-Zeichensatz besteht dabei aus 128 druckbaren und nicht-druckbaren Steuerzeichen. Die druckbaren Zeichen umfassen das lateinische Alphabet in Gro\u00df- und Kleinschreibung, die zehn arabischen Ziffern sowie einigen Sonderzeichen. Der Zeichenvorrat entspricht weitgehend dem einer Tastatur f\u00fcr die englische Sprache. Die durckbaren Zeichen beginnen dabei mit dem Leerzeichen und folgen der unten angef\u00fchrten Ordnung: !\"#$%&'()*+,-./0123456789:;<=>? @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_ `abcdefghijklmnopqrstuvwxyz{|}~ Dabei w\u00fcrde die Zeichenklasse [ -~] alle druckbaren Zeichen inkl. Leerraum des ASCII-Zeichensatzes umfassen. Vorsicht Um die Zeichenklasse aller Buchstaben anzugeben sollte [a-zA-Z] verwendet werden. Die Zeichenklasse [A-z] w\u00fcrde auch Zeichen wie [ , \\ oder ] enthalten. Des Weiteren w\u00fcrde die Zeichenklasse [a-Z] eine leere Menge definieren, da a nach Z in der Ordnung des ASCII-Zeichensatzes auftritt. Vordefinierte Zeichenklassen F\u00fcr g\u00e4ngige Zeichenklassen wurden Kurzformen definiert, welche anstelle einer Zeichenklassendefinition verwendet werden k\u00f6nnen. Kurzform Bedeutung Zeichenklasse \\d Ziffern [0-9] \\D Alles au\u00dfer \\d [^0-9] , [^\\d] \\w Alphanumerische Zeichen inkl. dem Unterstrich [a-zA-Z0-9_] \\W Alles au\u00dfer \\w [^a-zA-Z0-9_] \\s Wei\u00dfraum (zB Leeraum, Tabulator, Zeilenumbruch, ...) [ \\f\\n\\r\\t\\v] und alle Unicodevarianten zB \\u00a0 \\S Alles au\u00dfer \\s [^\\s] Beliebiges Zeichen Mit dem Punkt . wird spezifiziert, dass ein beliebiges Zeichen an der entsprechenden Position vorkommen darf. Dabei ist der Punkt \u00e4hnlich zu den vordefinierten Zeichenklassen zu verstehen. Diese Zeichenklasse enth\u00e4lt alle Zeichen mit Ausnahme des Zeilenumbruchs. Somit k\u00f6nnte der Punkt auch \u00fcber die Zeichenklasse [^\\n] definiert werden. Escaping Innerhalb einer Zeichenklassendefinition, also innerhalb der Klammern [ und ] , m\u00fcssen nur die Zeichen ] , - , \\ und ^ escaped werden.","title":"Zeichenklassen"},{"location":"regex/zeichenklassen/#zeichenklassen","text":"Mit einer Zeichenklasse kann eine Menge von Zeichen spezifiziert werden. Genau ein beliebiges Zeichen dieser Definition kann an der entsprechenden Position vorkommen. Merke Genau ein Zeichen der Zeichenklasse darf an der entsprechenden Position vorkommen.","title":"Zeichenklassen"},{"location":"regex/zeichenklassen/#definition-einer-zeichenklasse","text":"Innerhalb der eckigen Klammern [ und ] kann eine Zeichenklasse definiert werden. Die einfachste Form der Definition ist dabei das blo\u00dfe Aufz\u00e4hlen von g\u00fcltigen Zeichen der Zeichenklasse. Die folgende Zeichenklasse w\u00fcrde die Zeichen a , b , A , B , 0 , 1 , 2 und 3 umfassen. [aAbB0123]","title":"Definition einer Zeichenklasse"},{"location":"regex/zeichenklassen/#invertierte-definition","text":"Ein vorangestelltes Dach-Symbol ^ (auch Zirkumflex oder Caret-Symbol) kann verwendet werden um eine invertierte Klassendefinition durchzuf\u00fchren. Dabei werden alle Zeichen aufgef\u00fchrt die nicht an der entsprechenden Position vorkommen d\u00fcrfen. Die folgende Zeichenklasse w\u00fcrde aufgrund des vorangestellten Dach-Symbols alle Zeichen au\u00dfer der Ziffern von 0 bis 9 als Teil der Klasse definieren. [^0123456789]","title":"Invertierte Definition"},{"location":"regex/zeichenklassen/#bereichsdefinitionen","text":"Mit dem Bindestrich - k\u00f6nnen g\u00fcltige Bereiche innerhalb einer Zeichenklasse definiert werden. Dabei kann spezifiziert werden, dass alle Zeichen von einem beliebigen Startzeichen bis zu einem beliebigen Endzeichen g\u00fcltig sind. Der Bindestrich kann auch mehrmals innerhalb einer Klassendefinition verwendet werden. Die folgende Zeichenklasse w\u00fcrde dabei alle Klein- und Gro\u00dfbuchstaben, also alle Zeichen von a bis z und von A bis Z , definieren: [a-zA-Z] Eine wichtige Anmerkung dabei ist, dass Zeichen anhand des entsprechenden Zeichensatzes geordnet sind. F\u00fcr Regular Expressions kommt hierbei grunds\u00e4tzlich der ASCII-Zeichensatz zum tragen. Der ASCII-Zeichensatz besteht dabei aus 128 druckbaren und nicht-druckbaren Steuerzeichen. Die druckbaren Zeichen umfassen das lateinische Alphabet in Gro\u00df- und Kleinschreibung, die zehn arabischen Ziffern sowie einigen Sonderzeichen. Der Zeichenvorrat entspricht weitgehend dem einer Tastatur f\u00fcr die englische Sprache. Die durckbaren Zeichen beginnen dabei mit dem Leerzeichen und folgen der unten angef\u00fchrten Ordnung: !\"#$%&'()*+,-./0123456789:;<=>? @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_ `abcdefghijklmnopqrstuvwxyz{|}~ Dabei w\u00fcrde die Zeichenklasse [ -~] alle druckbaren Zeichen inkl. Leerraum des ASCII-Zeichensatzes umfassen. Vorsicht Um die Zeichenklasse aller Buchstaben anzugeben sollte [a-zA-Z] verwendet werden. Die Zeichenklasse [A-z] w\u00fcrde auch Zeichen wie [ , \\ oder ] enthalten. Des Weiteren w\u00fcrde die Zeichenklasse [a-Z] eine leere Menge definieren, da a nach Z in der Ordnung des ASCII-Zeichensatzes auftritt.","title":"Bereichsdefinitionen"},{"location":"regex/zeichenklassen/#vordefinierte-zeichenklassen","text":"F\u00fcr g\u00e4ngige Zeichenklassen wurden Kurzformen definiert, welche anstelle einer Zeichenklassendefinition verwendet werden k\u00f6nnen. Kurzform Bedeutung Zeichenklasse \\d Ziffern [0-9] \\D Alles au\u00dfer \\d [^0-9] , [^\\d] \\w Alphanumerische Zeichen inkl. dem Unterstrich [a-zA-Z0-9_] \\W Alles au\u00dfer \\w [^a-zA-Z0-9_] \\s Wei\u00dfraum (zB Leeraum, Tabulator, Zeilenumbruch, ...) [ \\f\\n\\r\\t\\v] und alle Unicodevarianten zB \\u00a0 \\S Alles au\u00dfer \\s [^\\s]","title":"Vordefinierte Zeichenklassen"},{"location":"regex/zeichenklassen/#beliebiges-zeichen","text":"Mit dem Punkt . wird spezifiziert, dass ein beliebiges Zeichen an der entsprechenden Position vorkommen darf. Dabei ist der Punkt \u00e4hnlich zu den vordefinierten Zeichenklassen zu verstehen. Diese Zeichenklasse enth\u00e4lt alle Zeichen mit Ausnahme des Zeilenumbruchs. Somit k\u00f6nnte der Punkt auch \u00fcber die Zeichenklasse [^\\n] definiert werden.","title":"Beliebiges Zeichen"},{"location":"regex/zeichenklassen/#escaping","text":"Innerhalb einer Zeichenklassendefinition, also innerhalb der Klammern [ und ] , m\u00fcssen nur die Zeichen ] , - , \\ und ^ escaped werden.","title":"Escaping"},{"location":"tutorials/01/","text":"PHP Installation In diesem Tutorial wird die Installation von PHP f\u00fcr das Windows Betriebssystem beschrieben. Im letzten Abschnitt findet sich eine Anmerkung zu macOS. Download Auf der PHP-Website ( php.net ) findet sich der Men\u00fcpunkt Downloads . Im oberen Bereich der Downloadseite befindet sich der Abschnitt Current Stable PHP . \u00dcber den Link Windows downloads erreicht man die PHP-Binaries f\u00fcr Windows. Je nach Prozessor gibt es eine x86 bzw. x64 Version (Normalerweise sollte dies x64 sein). Des weiteren kann zwischen einer Non Thread Safe bzw. einer Thread Safe Variante gew\u00e4hlt werden. Die Thread Safe Variante w\u00e4re zu w\u00e4hlen, wenn man PHP als Apache Modul nutzt. Falls PHP \u00fcber die Kommandozeile oder als CGI-Modul genutzt wird, sollte die Non Thread Safe Variante gew\u00e4hlt werden. Info Das Zip Packet der x64 Non Thread Safe PHP-Binary Variante soll zum Download gew\u00e4hlt werden. Konfiguration Das Zip-Archiv soll in den Ordner C:\\php entpackt werden. Die Datei C:\\php\\php.exe soll demnach verf\u00fcgbar sein. Damit PHP \u00fcber die Kommandozeile ausgef\u00fchrt werden kann, muss der Ordner C:\\php zur Umgebungsvariable Path hinzugef\u00fcgt werden. Suchen Sie dazu im Windows Startmen\u00fc nach Erweiterten Systemeinstellungen (Shortcut: Windows-Taste + Pause). Mit dem Button Umgebungsvariablen... \u00f6ffnen Sie das Men\u00fc zur Verwaltung der Umgebungsvariablen. Im oberen Abschnitt der Umgebungsvariablen finden sich die Benutzervariablen (unten finden sich die Systemvariablen). In den Benutzervariablen sollte eine Variable Path existieren. Falls diese nicht existiert, sollte diese \u00fcber Neu... erstellt werden. Info F\u00fcgen Sie einen neuen Eintrag zur Umgebungsvariable Path mit dem Wert C:\\php hinzu. Test 1 \u00d6ffnen Sie die Powershell \u00fcber das Windows Startmen\u00fc . Setzen Sie den Befehl php --version in der Kommandozeile ab. Die Ausgabe sollte demnach ein \u00e4hnliches Bild liefern: > php --version PHP 7.4.2 (cli) (built: Jan 21 2020 17:52:24) ( NTS Visual C++ 2017 x64 ) Copyright (c) The PHP Group Zend Engine v3.4.0, Copyright (c) Zend Technologies Info Die Versionsnummern m\u00fcssen mit dem angef\u00fchrten Screenshot nicht genau \u00fcbereinstimmen! Zumindest eine PHP Version gr\u00f6\u00dfer PHP 7 sollte es sein! Test 2 Erstellen Sie innerhalb eines beliebigen von Ihnen gew\u00e4hlten Ordner eine Datei hello.php . F\u00fcgen Sie folgenden Quellcode in die Datei ein: <?php echo \"Hello PHP!\" ; Navigieren Sie \u00fcber die Kommandozeile in diesen Ordner ( cd ). F\u00fchren Sie das Skript mit dem Befehl php hello.php aus. Die Ausgabe auf der Kommandozeile sollte ein \u00e4hnliches Bild liefern: > php hello.php Hello PHP! H\u00e4ufige Probleme Die Kommandozeile (zB Powershell) muss nachdem Umgebungsvariablen ver\u00e4ndert wurden neu geschlossen und neu gestartet werden. Die Datei php.exe muss im Pfad C:\\php\\php.exe liegen. Anmerkung zu macOS PHP kann nat\u00fcrlich auch auf auf MacOS installiert werden! F\u00fcr macOS gibt es den Packetmanager brew mit diesem kann PHP einfach installiert werden: brew install php Wichtig Es kann auf macOS zu unterschiedlichen Problemen kommen, da zum Beispiel bereits eine bestehende alte PHP Version installiert ist oder individuelle Konfigurationen am Betriebssystem vorgenommen worden sind. Bei Problemen mit macOS hilft grunds\u00e4tzlich nur die Fehlersuche \u00fcber Foren und der Austausch mit Kommilitonen, welche auch macOS nutzen. macOS ist ein UNIX-basiertes Betriebssystem und erfordert zur Konfiguration umfassende Betriebssystem- und Kommandozeilenkenntnisse!","title":"PHP Installation"},{"location":"tutorials/01/#php-installation","text":"In diesem Tutorial wird die Installation von PHP f\u00fcr das Windows Betriebssystem beschrieben. Im letzten Abschnitt findet sich eine Anmerkung zu macOS.","title":"PHP Installation"},{"location":"tutorials/01/#download","text":"Auf der PHP-Website ( php.net ) findet sich der Men\u00fcpunkt Downloads . Im oberen Bereich der Downloadseite befindet sich der Abschnitt Current Stable PHP . \u00dcber den Link Windows downloads erreicht man die PHP-Binaries f\u00fcr Windows. Je nach Prozessor gibt es eine x86 bzw. x64 Version (Normalerweise sollte dies x64 sein). Des weiteren kann zwischen einer Non Thread Safe bzw. einer Thread Safe Variante gew\u00e4hlt werden. Die Thread Safe Variante w\u00e4re zu w\u00e4hlen, wenn man PHP als Apache Modul nutzt. Falls PHP \u00fcber die Kommandozeile oder als CGI-Modul genutzt wird, sollte die Non Thread Safe Variante gew\u00e4hlt werden. Info Das Zip Packet der x64 Non Thread Safe PHP-Binary Variante soll zum Download gew\u00e4hlt werden.","title":"Download"},{"location":"tutorials/01/#konfiguration","text":"Das Zip-Archiv soll in den Ordner C:\\php entpackt werden. Die Datei C:\\php\\php.exe soll demnach verf\u00fcgbar sein. Damit PHP \u00fcber die Kommandozeile ausgef\u00fchrt werden kann, muss der Ordner C:\\php zur Umgebungsvariable Path hinzugef\u00fcgt werden. Suchen Sie dazu im Windows Startmen\u00fc nach Erweiterten Systemeinstellungen (Shortcut: Windows-Taste + Pause). Mit dem Button Umgebungsvariablen... \u00f6ffnen Sie das Men\u00fc zur Verwaltung der Umgebungsvariablen. Im oberen Abschnitt der Umgebungsvariablen finden sich die Benutzervariablen (unten finden sich die Systemvariablen). In den Benutzervariablen sollte eine Variable Path existieren. Falls diese nicht existiert, sollte diese \u00fcber Neu... erstellt werden. Info F\u00fcgen Sie einen neuen Eintrag zur Umgebungsvariable Path mit dem Wert C:\\php hinzu.","title":"Konfiguration"},{"location":"tutorials/01/#test-1","text":"\u00d6ffnen Sie die Powershell \u00fcber das Windows Startmen\u00fc . Setzen Sie den Befehl php --version in der Kommandozeile ab. Die Ausgabe sollte demnach ein \u00e4hnliches Bild liefern: > php --version PHP 7.4.2 (cli) (built: Jan 21 2020 17:52:24) ( NTS Visual C++ 2017 x64 ) Copyright (c) The PHP Group Zend Engine v3.4.0, Copyright (c) Zend Technologies Info Die Versionsnummern m\u00fcssen mit dem angef\u00fchrten Screenshot nicht genau \u00fcbereinstimmen! Zumindest eine PHP Version gr\u00f6\u00dfer PHP 7 sollte es sein!","title":"Test 1"},{"location":"tutorials/01/#test-2","text":"Erstellen Sie innerhalb eines beliebigen von Ihnen gew\u00e4hlten Ordner eine Datei hello.php . F\u00fcgen Sie folgenden Quellcode in die Datei ein: <?php echo \"Hello PHP!\" ; Navigieren Sie \u00fcber die Kommandozeile in diesen Ordner ( cd ). F\u00fchren Sie das Skript mit dem Befehl php hello.php aus. Die Ausgabe auf der Kommandozeile sollte ein \u00e4hnliches Bild liefern: > php hello.php Hello PHP!","title":"Test 2"},{"location":"tutorials/01/#haufige-probleme","text":"Die Kommandozeile (zB Powershell) muss nachdem Umgebungsvariablen ver\u00e4ndert wurden neu geschlossen und neu gestartet werden. Die Datei php.exe muss im Pfad C:\\php\\php.exe liegen.","title":"H\u00e4ufige Probleme"},{"location":"tutorials/01/#anmerkung-zu-macos","text":"PHP kann nat\u00fcrlich auch auf auf MacOS installiert werden! F\u00fcr macOS gibt es den Packetmanager brew mit diesem kann PHP einfach installiert werden: brew install php Wichtig Es kann auf macOS zu unterschiedlichen Problemen kommen, da zum Beispiel bereits eine bestehende alte PHP Version installiert ist oder individuelle Konfigurationen am Betriebssystem vorgenommen worden sind. Bei Problemen mit macOS hilft grunds\u00e4tzlich nur die Fehlersuche \u00fcber Foren und der Austausch mit Kommilitonen, welche auch macOS nutzen. macOS ist ein UNIX-basiertes Betriebssystem und erfordert zur Konfiguration umfassende Betriebssystem- und Kommandozeilenkenntnisse!","title":"Anmerkung zu macOS"},{"location":"tutorials/02/","text":"PHP Webserver PHP liefert einen Webserver in der Standardinstallation mit. Dieser Webserver ist rein zu Entwicklungs- und Testzwecken und sollte nicht in Produktivumgebungen genutzt werden. Die grunds\u00e4tzlichen Nutzungsm\u00f6glichkeiten dieses Web-Servers werden im folgenden beschr. Einfache Nutzung Mit der Option -S <Adresse>:<Port> kann der Webserver gestartet werden. Als <Addresse> kann dabei eine IP-Adresse oder einfach localhost angegeben werden. Als <Port> muss ein freier Port am Rechner angegeben werden (zB 8080 ). Der Webserver kann innerhalb eines Ordners in der Kommandzeile gestartet werden. Der Ordner in dem der Webserver gestartet wird, fungiert dadurch als Webroot: > php -S localhost:8080 Nachdem Start des Webserver sind alle Dateien und Ordner, welche sich im Webroot befinden \u00fcber den Webbrowser abrufbar. Alle Dateien mit Suffix .php werden entsprechend vom PHP-Interpreter verarbeitet. Anderer Webroot Mit der Option -t <Webroot> kann ein anderer Webroot gesetzt werden. Im folgenden Beispiel w\u00fcrde der Webroot C:\\mein_webroot gesetzt: > php -S localhost:9000 -t C:\\main_webroot Logging Zum Debugging bzw. Monitoring einer PHP-Applikation kann es n\u00fctzlich sein, Log-Ausgaben auf der Kommandozeile zu \u00fcberwachen. Mit der PHP-Funktion error_log($message, $message_type=0) k\u00f6nnen Log-Ausgaben auf der Kommandozeile gemacht werden. Wichtig dabei ist, dass $message_type den Wert 4 bekommt, sonst gehen die Log-Ausgaben nicht auf die Kommandozeile. <?php error_log ( \"Meine Log-Ausgabe...\" , 4 ); Test Erstellen Sie eine Datei test.php innerhalb eines beliebigen Ordners. F\u00fcllen Sie die Datei mit folgendem Inhalt: <?php echo \"hello\" ; error_log ( \"Log Ausgabe ...\" , 4 ); Starten Sie den Webserver \u00fcber die entsprechenden Optionen auf der Kommandozeile im entsprechenden Ordner: > php -S localhost:8080 \u00d6ffnen Sie im Webbrowser die entsprechende URI (zB http://localhost:8080/test.php ), die Ausgabe auf der Kommandozeile sollte demnach ein \u00e4hnliches Bild liefern (PHP Version kann abweichen!): > php -S localhost:8080 [Wed Feb 12 09:50:28 2020] PHP 7.4.2 Development Server (http://localhost:8080) started [Wed Feb 12 09:50:31 2020] [::1]:52285 Accepted [Wed Feb 12 09:50:31 2020] Log Ausgabe ... [Wed Feb 12 09:50:31 2020] [::1]:52285 [200]: GET /test.php [Wed Feb 12 09:50:31 2020] [::1]:52285 Closing H\u00e4ufige Probleme Es kann durchaus sein, dass der gew\u00fcnschte Port belegt ist. Sollte bei der Ansicht im Webbrowser irgendetwas unklares erscheinen, sollten andere Ports versucht werdne (zB 8081 , 9000 , 9001 , ...).","title":"PHP Webserver"},{"location":"tutorials/02/#php-webserver","text":"PHP liefert einen Webserver in der Standardinstallation mit. Dieser Webserver ist rein zu Entwicklungs- und Testzwecken und sollte nicht in Produktivumgebungen genutzt werden. Die grunds\u00e4tzlichen Nutzungsm\u00f6glichkeiten dieses Web-Servers werden im folgenden beschr.","title":"PHP Webserver"},{"location":"tutorials/02/#einfache-nutzung","text":"Mit der Option -S <Adresse>:<Port> kann der Webserver gestartet werden. Als <Addresse> kann dabei eine IP-Adresse oder einfach localhost angegeben werden. Als <Port> muss ein freier Port am Rechner angegeben werden (zB 8080 ). Der Webserver kann innerhalb eines Ordners in der Kommandzeile gestartet werden. Der Ordner in dem der Webserver gestartet wird, fungiert dadurch als Webroot: > php -S localhost:8080 Nachdem Start des Webserver sind alle Dateien und Ordner, welche sich im Webroot befinden \u00fcber den Webbrowser abrufbar. Alle Dateien mit Suffix .php werden entsprechend vom PHP-Interpreter verarbeitet.","title":"Einfache Nutzung"},{"location":"tutorials/02/#anderer-webroot","text":"Mit der Option -t <Webroot> kann ein anderer Webroot gesetzt werden. Im folgenden Beispiel w\u00fcrde der Webroot C:\\mein_webroot gesetzt: > php -S localhost:9000 -t C:\\main_webroot","title":"Anderer Webroot"},{"location":"tutorials/02/#logging","text":"Zum Debugging bzw. Monitoring einer PHP-Applikation kann es n\u00fctzlich sein, Log-Ausgaben auf der Kommandozeile zu \u00fcberwachen. Mit der PHP-Funktion error_log($message, $message_type=0) k\u00f6nnen Log-Ausgaben auf der Kommandozeile gemacht werden. Wichtig dabei ist, dass $message_type den Wert 4 bekommt, sonst gehen die Log-Ausgaben nicht auf die Kommandozeile. <?php error_log ( \"Meine Log-Ausgabe...\" , 4 );","title":"Logging"},{"location":"tutorials/02/#test","text":"Erstellen Sie eine Datei test.php innerhalb eines beliebigen Ordners. F\u00fcllen Sie die Datei mit folgendem Inhalt: <?php echo \"hello\" ; error_log ( \"Log Ausgabe ...\" , 4 ); Starten Sie den Webserver \u00fcber die entsprechenden Optionen auf der Kommandozeile im entsprechenden Ordner: > php -S localhost:8080 \u00d6ffnen Sie im Webbrowser die entsprechende URI (zB http://localhost:8080/test.php ), die Ausgabe auf der Kommandozeile sollte demnach ein \u00e4hnliches Bild liefern (PHP Version kann abweichen!): > php -S localhost:8080 [Wed Feb 12 09:50:28 2020] PHP 7.4.2 Development Server (http://localhost:8080) started [Wed Feb 12 09:50:31 2020] [::1]:52285 Accepted [Wed Feb 12 09:50:31 2020] Log Ausgabe ... [Wed Feb 12 09:50:31 2020] [::1]:52285 [200]: GET /test.php [Wed Feb 12 09:50:31 2020] [::1]:52285 Closing","title":"Test"},{"location":"tutorials/02/#haufige-probleme","text":"Es kann durchaus sein, dass der gew\u00fcnschte Port belegt ist. Sollte bei der Ansicht im Webbrowser irgendetwas unklares erscheinen, sollten andere Ports versucht werdne (zB 8081 , 9000 , 9001 , ...).","title":"H\u00e4ufige Probleme"},{"location":"tutorials/03/","text":"PHP Konfiguration Die PHP-Laufzeitumgebung wird \u00fcber eine ini-Datei konfiguriert. In diesem Tutorial wird erkl\u00e4rt wie Sie PHP \u00fcber eine ini-Datei konfigurieren und wie eine ini-Datei grunds\u00e4tzlich aufgebaut ist. php.ini PHP nutzt die Konfigurationsdatei mit dem Namen php.ini im Verzeichnis C:\\php als zentrale Konfigurationsdatei. Nach der Installation \u00fcber das Tutorial liegen im Ordner C:\\php 2 ini-Dateien als Vorlagen. php.ini-development als Konfiguration f\u00fcr einen Entwicklungsrechner und php.ini-production f\u00fcr eine produktive Umgebung. F\u00fcr Ihren Entwicklungsrechner soll die Datei php.ini-development in php.ini umbenannt werden. Dadurch wird diese Datei zur aktuellen Konfiguration der PHP-Laufzeitumgebung. Syntax der ini-Datei Die php.ini Datei ist nach dem INI Dateiformat organisiert. Zusammengefasst sind dabei folgende Aspekte relevant: Die ini-Datei ist in Abschnitte gegliedert. Ein Abschnitt wird mit eckigen Klammern ausgewiesen. Zum Beispiel wird der Abschnitt um Konfigurationen zu PostgreSQL durchzuf\u00fchren als [PostgreSQL] angegeben. Eine ini-Datei kann Kommentare enthalten, diese werden \u00fcber das ; -Symbol angegeben. Eine Konfiguration wird als Schl\u00fcssel/Wert Paar angegeben (zB post_max_size = 8M ). Im folgenden findet sich ein beispielhafter Auszug einer ini-Datei: [PHP] ; Maximum size of POST data that PHP will accept. ; Its value may be 0 to disable the limit. It is ignored if POST data reading ; is disabled through enable_post_data_reading. ; http://php.net/post-max-size post_max_size = 8M [CLI Server] ; Whether the CLI web server uses ANSI color coding in its terminal output. cli_server.color = On Wichtige Konfigurationen Erweiterungen aktivieren Es gibt eine Vielzahl an Erweiterungen, welche mit PHP mitgeliefert werden. Diese Erweiterungen sind anf\u00e4nglich deaktiviert. Um eine spezielle Erweiterung zu aktivieren, muss der Kommentar zum entsprechenden Schl\u00fcssel/Wert Paar entfernt werden. Die Erweiterung zur Nutzung von SQLite ist deaktiviert. Suchen Sie dazu das Schl\u00fcssel/Wert Paar extension=pdo_sqlite : ;extension=pdo_sqlite Falls dieses mit einem Kommentar versehen ist wie im obigen Beispiel, entfernen Sie den Kommentar und die Erweiterung ist aktiviert: extension=pdo_sqlite Browscap aktivieren Browscap bietet die Funktion HTTP-Header von User-Agents auszuwerten. Jeder User-Agent ist \u00fcber einen speziellen \"User-Agent String\" identifiziert. Ein \"User-Agent String\" ist nicht standardisiert, mit Bibliotheken wie Browscap k\u00f6nnen wichtige Informationen aus diesen Strings extrahiert werden. Im folgenden findet sich ein Beispiel eines \"User-Agent Strings\". Dieses Beispiel stammt aus einem Firefox Browser auf einem Windows Desktop Rechner: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0 Um in PHP Browscap zu aktivieren, muss (1) die aktuelle Browscap ini-Datei heruntergeladen werden und (2) muss diese \u00fcber die php.ini eingebunden werden. Laden Sie dazu die entsprechende ini-Datei der Browscap Website herunter ( php_browscap.ini ). Legen Sie die Datei in das Verzeichnis C:\\php Referenzieren Sie die ini-Datei \u00fcber eine absolute Pfadangabe in der php.ini . \u00c4ndern Sie dazu die php.ini an der entsprechenden Stelle folgend ab: [browscap] ; http://php.net/browscap browscap = C:/php/php_browscap.ini Konfigurations\u00fcbersicht Um die Konfiguration einer PHP-Laufzeitumgebung einzusehen und zu pr\u00fcfen, bietet PHP die Funktion phpinfo . Erstellen Sie eine Datei index.php innerhalb eines beliebigen Ordners. Der Inhalt der index.php soll folgenden Quellcode enthalten: <?php phpinfo (); Starten Sie einen lokalen Web-Server und \u00f6ffnen Sie die index.php Datei \u00fcber den Web-Browser. Es sollte eine Website erscheinen die dem Screenshot entspricht. Sie finden darauf alle Konfigurationen strukturiert aufgelistet, welche in der php.ini vorgenommen sind. Im unten angef\u00fchrten Screenshot finden Sie eine beispielhafte Ausgabe der phpinfo Funktion (Versionsangaben werden in Ihrem Beispiel abweichen!). H\u00e4ufige Probleme Falls der Web-Server gestartet ist, w\u00e4hrend eine Konfiguration ge\u00e4ndert wird, muss der Web-Server gestoppt und neu gestartet werden. F\u00fcr CLI-Skripte ist kein Neustart erforderlich.","title":"PHP Konfiguration"},{"location":"tutorials/03/#php-konfiguration","text":"Die PHP-Laufzeitumgebung wird \u00fcber eine ini-Datei konfiguriert. In diesem Tutorial wird erkl\u00e4rt wie Sie PHP \u00fcber eine ini-Datei konfigurieren und wie eine ini-Datei grunds\u00e4tzlich aufgebaut ist.","title":"PHP Konfiguration"},{"location":"tutorials/03/#phpini","text":"PHP nutzt die Konfigurationsdatei mit dem Namen php.ini im Verzeichnis C:\\php als zentrale Konfigurationsdatei. Nach der Installation \u00fcber das Tutorial liegen im Ordner C:\\php 2 ini-Dateien als Vorlagen. php.ini-development als Konfiguration f\u00fcr einen Entwicklungsrechner und php.ini-production f\u00fcr eine produktive Umgebung. F\u00fcr Ihren Entwicklungsrechner soll die Datei php.ini-development in php.ini umbenannt werden. Dadurch wird diese Datei zur aktuellen Konfiguration der PHP-Laufzeitumgebung.","title":"php.ini"},{"location":"tutorials/03/#syntax-der-ini-datei","text":"Die php.ini Datei ist nach dem INI Dateiformat organisiert. Zusammengefasst sind dabei folgende Aspekte relevant: Die ini-Datei ist in Abschnitte gegliedert. Ein Abschnitt wird mit eckigen Klammern ausgewiesen. Zum Beispiel wird der Abschnitt um Konfigurationen zu PostgreSQL durchzuf\u00fchren als [PostgreSQL] angegeben. Eine ini-Datei kann Kommentare enthalten, diese werden \u00fcber das ; -Symbol angegeben. Eine Konfiguration wird als Schl\u00fcssel/Wert Paar angegeben (zB post_max_size = 8M ). Im folgenden findet sich ein beispielhafter Auszug einer ini-Datei: [PHP] ; Maximum size of POST data that PHP will accept. ; Its value may be 0 to disable the limit. It is ignored if POST data reading ; is disabled through enable_post_data_reading. ; http://php.net/post-max-size post_max_size = 8M [CLI Server] ; Whether the CLI web server uses ANSI color coding in its terminal output. cli_server.color = On","title":"Syntax der ini-Datei"},{"location":"tutorials/03/#wichtige-konfigurationen","text":"","title":"Wichtige Konfigurationen"},{"location":"tutorials/03/#erweiterungen-aktivieren","text":"Es gibt eine Vielzahl an Erweiterungen, welche mit PHP mitgeliefert werden. Diese Erweiterungen sind anf\u00e4nglich deaktiviert. Um eine spezielle Erweiterung zu aktivieren, muss der Kommentar zum entsprechenden Schl\u00fcssel/Wert Paar entfernt werden. Die Erweiterung zur Nutzung von SQLite ist deaktiviert. Suchen Sie dazu das Schl\u00fcssel/Wert Paar extension=pdo_sqlite : ;extension=pdo_sqlite Falls dieses mit einem Kommentar versehen ist wie im obigen Beispiel, entfernen Sie den Kommentar und die Erweiterung ist aktiviert: extension=pdo_sqlite","title":"Erweiterungen aktivieren"},{"location":"tutorials/03/#browscap-aktivieren","text":"Browscap bietet die Funktion HTTP-Header von User-Agents auszuwerten. Jeder User-Agent ist \u00fcber einen speziellen \"User-Agent String\" identifiziert. Ein \"User-Agent String\" ist nicht standardisiert, mit Bibliotheken wie Browscap k\u00f6nnen wichtige Informationen aus diesen Strings extrahiert werden. Im folgenden findet sich ein Beispiel eines \"User-Agent Strings\". Dieses Beispiel stammt aus einem Firefox Browser auf einem Windows Desktop Rechner: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0 Um in PHP Browscap zu aktivieren, muss (1) die aktuelle Browscap ini-Datei heruntergeladen werden und (2) muss diese \u00fcber die php.ini eingebunden werden. Laden Sie dazu die entsprechende ini-Datei der Browscap Website herunter ( php_browscap.ini ). Legen Sie die Datei in das Verzeichnis C:\\php Referenzieren Sie die ini-Datei \u00fcber eine absolute Pfadangabe in der php.ini . \u00c4ndern Sie dazu die php.ini an der entsprechenden Stelle folgend ab: [browscap] ; http://php.net/browscap browscap = C:/php/php_browscap.ini","title":"Browscap aktivieren"},{"location":"tutorials/03/#konfigurationsubersicht","text":"Um die Konfiguration einer PHP-Laufzeitumgebung einzusehen und zu pr\u00fcfen, bietet PHP die Funktion phpinfo . Erstellen Sie eine Datei index.php innerhalb eines beliebigen Ordners. Der Inhalt der index.php soll folgenden Quellcode enthalten: <?php phpinfo (); Starten Sie einen lokalen Web-Server und \u00f6ffnen Sie die index.php Datei \u00fcber den Web-Browser. Es sollte eine Website erscheinen die dem Screenshot entspricht. Sie finden darauf alle Konfigurationen strukturiert aufgelistet, welche in der php.ini vorgenommen sind. Im unten angef\u00fchrten Screenshot finden Sie eine beispielhafte Ausgabe der phpinfo Funktion (Versionsangaben werden in Ihrem Beispiel abweichen!).","title":"Konfigurations\u00fcbersicht"},{"location":"tutorials/03/#haufige-probleme","text":"Falls der Web-Server gestartet ist, w\u00e4hrend eine Konfiguration ge\u00e4ndert wird, muss der Web-Server gestoppt und neu gestartet werden. F\u00fcr CLI-Skripte ist kein Neustart erforderlich.","title":"H\u00e4ufige Probleme"},{"location":"tutorials/04/","text":"Arbeiten mit SQLite In diesem Tutorial wird erkl\u00e4rt wie Sie mit PHP eine SQLite Datenbank nutzen k\u00f6nnen. php.ini anpassen Damit SQLite innerhalb eines PHP-Programms genutzt werden kann, muss die SQLite-Extension innerhalb der php.ini aktiviert werden. Suchen Sie dazu innerhalb der php.ini nach der pdo_sqlite bzw. sqlite3 Extension und aktivieren diese. ;extension=pdo_sqlite ;extension=sqlite3 Entfernen Sie dazu einfach den Kommentar ; : extension=pdo_sqlite extension=sqlite3 DSN SQLite speichert die Datenbank innerhalb einer Datei. Es ist kein Username/Passwort notwendig um eine SQLite Datenbank zu erzeugen bzw. zu \u00f6ffnen. Der DSN spezifiziert dabei nur den Treiber und den Dateinamen zur Datenbank: sqlite:my_local_db.sqlite Der oben angegebene DSN w\u00fcrde die SQLite Datenbank im selben Ordner in dem das PHP-Skript ausgef\u00fchrt wird und innerhalb der Datei my_local_db.sqlite erstellen. Datenbank Browser Um bestehende SQLite Datenbank-Dateien zu inspizieren kann der DB Browser for SQLite verwendet werden. Der Datenbank Browser ist eine Desktop-App, welche entsprechende SQLite-Dateien \u00f6ffnen kann. Im Datenbank Browser sind alle Tabellen und Tabellen Inhalte einsehbar und ver\u00e4nderbar. Es k\u00f6nnen unter anderem SQL-Befehle \u00fcber die Datenbank ausgef\u00fchrt werden. Test Erstellen Sie eine Datei test.php innerhalb eines beliebigen Ordners. F\u00fcllen Sie die Datei mit folgendem Inhalt: <?php $pdo = new PDO ( \"sqlite:my_test_db.sqlite\" ); $pdo -> exec ( \" CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, price REAL ) \" ); F\u00fchren Sie das Skript aus: > php test.php Im Ordner des Skripts sollte eine Datei mit dem Namen my_test_db.sqlite entstanden sein. Diese Datei repr\u00e4sentiert die SQLite Datenbank. \u00d6ffnen Sie die Datei mit dem DB Browser for SQLite und vergewissern Sie sich, ob die Tabelle products mit den 3 Spalten id , name und price entsprechend erzeugt wurde.","title":"Arbeiten mit SQLite"},{"location":"tutorials/04/#arbeiten-mit-sqlite","text":"In diesem Tutorial wird erkl\u00e4rt wie Sie mit PHP eine SQLite Datenbank nutzen k\u00f6nnen.","title":"Arbeiten mit SQLite"},{"location":"tutorials/04/#phpini-anpassen","text":"Damit SQLite innerhalb eines PHP-Programms genutzt werden kann, muss die SQLite-Extension innerhalb der php.ini aktiviert werden. Suchen Sie dazu innerhalb der php.ini nach der pdo_sqlite bzw. sqlite3 Extension und aktivieren diese. ;extension=pdo_sqlite ;extension=sqlite3 Entfernen Sie dazu einfach den Kommentar ; : extension=pdo_sqlite extension=sqlite3","title":"php.ini anpassen"},{"location":"tutorials/04/#dsn","text":"SQLite speichert die Datenbank innerhalb einer Datei. Es ist kein Username/Passwort notwendig um eine SQLite Datenbank zu erzeugen bzw. zu \u00f6ffnen. Der DSN spezifiziert dabei nur den Treiber und den Dateinamen zur Datenbank: sqlite:my_local_db.sqlite Der oben angegebene DSN w\u00fcrde die SQLite Datenbank im selben Ordner in dem das PHP-Skript ausgef\u00fchrt wird und innerhalb der Datei my_local_db.sqlite erstellen.","title":"DSN"},{"location":"tutorials/04/#datenbank-browser","text":"Um bestehende SQLite Datenbank-Dateien zu inspizieren kann der DB Browser for SQLite verwendet werden. Der Datenbank Browser ist eine Desktop-App, welche entsprechende SQLite-Dateien \u00f6ffnen kann. Im Datenbank Browser sind alle Tabellen und Tabellen Inhalte einsehbar und ver\u00e4nderbar. Es k\u00f6nnen unter anderem SQL-Befehle \u00fcber die Datenbank ausgef\u00fchrt werden.","title":"Datenbank Browser"},{"location":"tutorials/04/#test","text":"Erstellen Sie eine Datei test.php innerhalb eines beliebigen Ordners. F\u00fcllen Sie die Datei mit folgendem Inhalt: <?php $pdo = new PDO ( \"sqlite:my_test_db.sqlite\" ); $pdo -> exec ( \" CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, price REAL ) \" ); F\u00fchren Sie das Skript aus: > php test.php Im Ordner des Skripts sollte eine Datei mit dem Namen my_test_db.sqlite entstanden sein. Diese Datei repr\u00e4sentiert die SQLite Datenbank. \u00d6ffnen Sie die Datei mit dem DB Browser for SQLite und vergewissern Sie sich, ob die Tabelle products mit den 3 Spalten id , name und price entsprechend erzeugt wurde.","title":"Test"},{"location":"tutorials/05/","text":"\u00dcbungsblatt 1 - \u00dcbung 0 Start \u00dcbung 0 ist eine \"einfache\" Vorbereitungs\u00fcbung zu den weiteren \u00dcbungen im \u00dcbungsblatt. Inhaltlich geht es um die Formularverarbeitung. Ausgangspunkt der \u00dcbung ist eine php-Datei mit folgendem Inhalt: <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Wird der PHP-Webserver im Root-Ordner des Projektes gestartet php -S localhost:9000 und die URL http://localhost:9000/ue0 im Web-Browser aufgerufen sollte die Ausgabe \u00e4hnlich aussehen: Dabei ist auff\u00e4llig, dass die Erfolgsnachricht bereits eingeblendet ist, obwohl das Formular nicht abgesendet wurde. Erfolgsmeldung konditional einblenden Die Erfolgsnachricht soll ausgeblendet werden und nur sichbar sein, wenn eine Variable $success als wahr interpretiert wird. Dazu wird im ersten Schritt die Variable $success erstellt und mit dem Wert false initialisiert. Dieser Wert soll sp\u00e4ter abge\u00e4ndert werden, wenn tats\u00e4chlich eine erfolgreiches Formular abgesendet wurde. Weiters wird eine if-Block um die Erfolgsmeldung gelegt. Wichtig dabei ist, dass der PHP-Block in zwei Teile aufgeteilt wird. Im ersten Teil befindet sich die Bedingung if (...) { mit \u00f6ffnendem { . Innerhalb des if-Block , also innerhalb der geschweiften Klammern ( { ... } ) befindet sich das HTML-Markup. Nachdem Markup wird der if-Block wieder geschlossen } . <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Mit diesem Schritt wird die Erfolgsmeldung erstmal ausgeblendet und wird nur eingeblendet, wenn die Variable $success wahr wird. Formular Verarbeitung Wird das Formular abgesendet, sowohl mit Inhalten oder auch leer \u00e4ndert sich nichts in der Antwort. Zumindest wenn beide Formularfelder (Name und Anliegen) angegeben wurden, soll die Erfolgsmeldung ausgegeben werden. Im ersten Schritt pr\u00fcfen wir, ob es sich um einen POST-Request handelt. Die verwendete Request-Methode findet man in der Superglobal S_SERVER \u00fcber den Schl\u00fcssel REQUEST_METHOD . In weiterer Folge soll gepr\u00fcft werden, ob die Formularfelder entsprechende Werte enthalten. Dazu kann die empty Funktion genutzt werden. Mit !empty($_POST['name']) bzw. !empty($_POST['message']) wird \u00fcberpr\u00fcft, ob die entsprechenden Formularfelder mit Inhalt belegt sind. <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Die \u00c4nderungen f\u00fchren dazu, dass ein ausgef\u00fclltes Formular die Erfolgsmeldung einblenden l\u00e4sst. Formular Validierung Ein Absenden eines leeren oder unvollst\u00e4ndigen Formulars zeigt noch keine Formularfehler an. Es w\u00e4re das Ziel die .error Klassen auf den HTML-Elementen label , input bzw. textarea bei entsprechenden nicht ausgef\u00fcllten Formularfeldern zu setzten. Es sollen deshalb 2 Variablen $error_name und $error_message erstellt werden. Diese Variablen bestimmen, ob die Klasse .error an den entsprechenden HTML-Elementen gesetzt wird. Dazu f\u00fcgen einen PHP-Block innerhalb des HTML-Attributes class ein: class=\"<?php echo $error_name ? 'error' : ''; ?>\" . Im PHP-Block wird ein tern\u00e4ter Operator genutzt um den Wert 'error' \u00fcber echo in Dokument zu schreiben, falls die Variable $error_name wahr ist. Falls nicht beide POST-Parmeter $_POST['name'] und $_POST['message'] gesetzt sind, werden die beiden Variablen $error_name bzw. $error_message entsprechend als true oder false gesetzt. <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; $error_name = false ; $error_message = false ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } else { $error_name = empty ( $_POST [ 'name' ]); $error_message = empty ( $_POST [ 'message' ]); } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \">Name:</label> <input name=\"name\" value=\"\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \"> <label for=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \">Ihr Anliegen:</label> <textarea name=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \"></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Formular Usability Der letzte Feinschliff f\u00fcr das Formular liegt darin, dass beim Absenden eines fehlerhaften Formulars mit nur einem Fehler, der zweite (jedoch korrekte) Formularwert nicht \u00fcbernommen bleibt. Siehe dazu den unten angef\u00fcgten Screenshot. Das Anliegen wurde korrekt eingegeben, wird jedoch nicht \u00fcbernommen und m\u00fcsste erneut eingegeben werden: <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; $error_name = false ; $error_message = false ; $name = \"\" ; $message = \"\" ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } else { $error_name = empty ( $_POST [ 'name' ]); $error_message = empty ( $_POST [ 'message' ]); $name = $_POST [ 'name' ]; $message = $_POST [ 'message' ]; } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \">Name:</label> <input name=\"name\" value=\" <?php echo $name ; ?> \" class=\" <?php echo $error_name ? 'error' : '' ; ?> \"> <label for=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \">Ihr Anliegen:</label> <textarea name=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \"> <?php echo $message ; ?> </textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Die oben angef\u00fchrten \u00c4nderungen f\u00fchren nun dazu, dass auch die Formular Usability entsprechend unterst\u00fctzt wird. Dies wird im unten angef\u00fchrten Screenshot deutlich:","title":"\u00dcbungsblatt 1 - \u00dcbung 0"},{"location":"tutorials/05/#ubungsblatt-1-ubung-0","text":"","title":"\u00dcbungsblatt 1 - \u00dcbung 0"},{"location":"tutorials/05/#start","text":"\u00dcbung 0 ist eine \"einfache\" Vorbereitungs\u00fcbung zu den weiteren \u00dcbungen im \u00dcbungsblatt. Inhaltlich geht es um die Formularverarbeitung. Ausgangspunkt der \u00dcbung ist eine php-Datei mit folgendem Inhalt: <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Wird der PHP-Webserver im Root-Ordner des Projektes gestartet php -S localhost:9000 und die URL http://localhost:9000/ue0 im Web-Browser aufgerufen sollte die Ausgabe \u00e4hnlich aussehen: Dabei ist auff\u00e4llig, dass die Erfolgsnachricht bereits eingeblendet ist, obwohl das Formular nicht abgesendet wurde.","title":"Start"},{"location":"tutorials/05/#erfolgsmeldung-konditional-einblenden","text":"Die Erfolgsnachricht soll ausgeblendet werden und nur sichbar sein, wenn eine Variable $success als wahr interpretiert wird. Dazu wird im ersten Schritt die Variable $success erstellt und mit dem Wert false initialisiert. Dieser Wert soll sp\u00e4ter abge\u00e4ndert werden, wenn tats\u00e4chlich eine erfolgreiches Formular abgesendet wurde. Weiters wird eine if-Block um die Erfolgsmeldung gelegt. Wichtig dabei ist, dass der PHP-Block in zwei Teile aufgeteilt wird. Im ersten Teil befindet sich die Bedingung if (...) { mit \u00f6ffnendem { . Innerhalb des if-Block , also innerhalb der geschweiften Klammern ( { ... } ) befindet sich das HTML-Markup. Nachdem Markup wird der if-Block wieder geschlossen } . <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Mit diesem Schritt wird die Erfolgsmeldung erstmal ausgeblendet und wird nur eingeblendet, wenn die Variable $success wahr wird.","title":"Erfolgsmeldung konditional einblenden"},{"location":"tutorials/05/#formular-verarbeitung","text":"Wird das Formular abgesendet, sowohl mit Inhalten oder auch leer \u00e4ndert sich nichts in der Antwort. Zumindest wenn beide Formularfelder (Name und Anliegen) angegeben wurden, soll die Erfolgsmeldung ausgegeben werden. Im ersten Schritt pr\u00fcfen wir, ob es sich um einen POST-Request handelt. Die verwendete Request-Methode findet man in der Superglobal S_SERVER \u00fcber den Schl\u00fcssel REQUEST_METHOD . In weiterer Folge soll gepr\u00fcft werden, ob die Formularfelder entsprechende Werte enthalten. Dazu kann die empty Funktion genutzt werden. Mit !empty($_POST['name']) bzw. !empty($_POST['message']) wird \u00fcberpr\u00fcft, ob die entsprechenden Formularfelder mit Inhalt belegt sind. <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\">Name:</label> <input name=\"name\" value=\"\"> <label for=\"message\">Ihr Anliegen:</label> <textarea name=\"message\" ></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Die \u00c4nderungen f\u00fchren dazu, dass ein ausgef\u00fclltes Formular die Erfolgsmeldung einblenden l\u00e4sst.","title":"Formular Verarbeitung"},{"location":"tutorials/05/#formular-validierung","text":"Ein Absenden eines leeren oder unvollst\u00e4ndigen Formulars zeigt noch keine Formularfehler an. Es w\u00e4re das Ziel die .error Klassen auf den HTML-Elementen label , input bzw. textarea bei entsprechenden nicht ausgef\u00fcllten Formularfeldern zu setzten. Es sollen deshalb 2 Variablen $error_name und $error_message erstellt werden. Diese Variablen bestimmen, ob die Klasse .error an den entsprechenden HTML-Elementen gesetzt wird. Dazu f\u00fcgen einen PHP-Block innerhalb des HTML-Attributes class ein: class=\"<?php echo $error_name ? 'error' : ''; ?>\" . Im PHP-Block wird ein tern\u00e4ter Operator genutzt um den Wert 'error' \u00fcber echo in Dokument zu schreiben, falls die Variable $error_name wahr ist. Falls nicht beide POST-Parmeter $_POST['name'] und $_POST['message'] gesetzt sind, werden die beiden Variablen $error_name bzw. $error_message entsprechend als true oder false gesetzt. <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; $error_name = false ; $error_message = false ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } else { $error_name = empty ( $_POST [ 'name' ]); $error_message = empty ( $_POST [ 'message' ]); } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \">Name:</label> <input name=\"name\" value=\"\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \"> <label for=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \">Ihr Anliegen:</label> <textarea name=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \"></textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html>","title":"Formular Validierung"},{"location":"tutorials/05/#formular-usability","text":"Der letzte Feinschliff f\u00fcr das Formular liegt darin, dass beim Absenden eines fehlerhaften Formulars mit nur einem Fehler, der zweite (jedoch korrekte) Formularwert nicht \u00fcbernommen bleibt. Siehe dazu den unten angef\u00fcgten Screenshot. Das Anliegen wurde korrekt eingegeben, wird jedoch nicht \u00fcbernommen und m\u00fcsste erneut eingegeben werden: <!DOCTYPE html> <html> <head> <title>\u00dcbungsblatt 1 - \u00dcbung 0</title> <style> .success {background: green;padding: 10px 5px; color: #fff;} label.error {color: red;} input.error, textarea.error {border: 1px solid red;} label, input, textarea {display: block;} </style> </head> <body> <h1>Kontaktformular</h1> <?php $success = false ; $error_name = false ; $error_message = false ; $name = \"\" ; $message = \"\" ; if ( $_SERVER [ 'REQUEST_METHOD' ] == 'POST' ) { if ( ! empty ( $_POST [ 'name' ]) && ! empty ( $_POST [ 'message' ])) { $success = true ; } else { $error_name = empty ( $_POST [ 'name' ]); $error_message = empty ( $_POST [ 'message' ]); $name = $_POST [ 'name' ]; $message = $_POST [ 'message' ]; } } ?> <?php if ( $success ) { ?> <div class=\"success\">Vielen Dank f\u00fcr die Kontaktaufnahme!</div> <?php } ?> <form method=\"post\" action=\"/ue0/index.php\"> <label for=\"name\" class=\" <?php echo $error_name ? 'error' : '' ; ?> \">Name:</label> <input name=\"name\" value=\" <?php echo $name ; ?> \" class=\" <?php echo $error_name ? 'error' : '' ; ?> \"> <label for=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \">Ihr Anliegen:</label> <textarea name=\"message\" class=\" <?php echo $error_message ? 'error' : '' ; ?> \"> <?php echo $message ; ?> </textarea> <input type=\"submit\" value=\"Absenden\"> </form> </body> </html> Die oben angef\u00fchrten \u00c4nderungen f\u00fchren nun dazu, dass auch die Formular Usability entsprechend unterst\u00fctzt wird. Dies wird im unten angef\u00fchrten Screenshot deutlich:","title":"Formular Usability"},{"location":"webserver/einf%C3%BChrung/","text":"Web-Server Ein Web-Server ist eine Software zur Verarbeitung von HTTP-Requests. Zu den typischen Aufgaben eines Web-Server geh\u00f6ren: Auslieferung von statischen Dateien Einsatz als Proxy-Server (Forward-Proxy oder Reverse-Proxy) Load Balancing URL Rewriting Virtual Hosting Bereitstellung von TLS HTTP-Request Verarbeitung (zB Ausf\u00fchrung von PHP-Skripten) uvm. Es gibt sehr viele unterschiedliche Web-Server Software Pakete. Nach Statistiken von W3Tech dominieren der Apache HTTP Server und Nginx das WWW. Web-Server Architektur Programme werden innerhalb von Prozessen oder Threads vom Betriebssystem ausgef\u00fchrt. Programme bestehen aus Instruktionen, welche vom Betriebssystem \u00fcber den Prozess/Thread auf entsprechenden CPU Kernen ausgef\u00fchrt werden. Komplexe Programme k\u00f6nnen aus mehreren Prozessen oder Threads bestehen. Der prim\u00e4re Grund daf\u00fcr ist die M\u00f6glichkeit Arbeit auf mehre CPU Kerne parallel zu verteilen. Blocking Architektur Web-Server sollen dazu ausgelegt sein tausende von eingehenden HTTP-Requests zu verarbeiten. Eine g\u00e4ngige Architektur in Web-Servern (zum Beispiel Apache HTTP-Server) ist es f\u00fcr jede Verbindung einen Thread oder Prozess zur Bearbeitung bereitzustellen. Am Beispiel des Apache HTTP-Server gibt es zwei g\u00e4ngige Konfigurationen: Apache MPM prefork : Es gibt einen Kontrollprozess, welcher Kindprozesse (als Worker bezeichnet) startet und in einem Pool vorh\u00e4lt. Dabei werden eingehende Verbindungen jeweils von einem Worker-Prozess aus dem Pool bearbeitet. Allgemein spricht man bei der Apache MPM prefork Architektur von einer process-per-connection Architektur. Apache MPM worker : \u00c4hnlich zum MPM prefork gibt es einen Kontrollprozess, welcher Kindprozesse als Worker erzeugt. Ein Worker erzeugt jedoch jeweils einen Thread Pool . Die Verbindungen werden dann von den einzelnen Threads , welche von einem Worker verwaltet werden, abgearbeitet. Allgemein spricht man bei der Apache MPM worker Architektur von einer thread-per-connection Architektur. Diese Architekturen sind grunds\u00e4tzlich logisch aufgebaut, da jeder Netzwerkverbindung ein Thread oder Prozess gegen\u00fcbersteht. Die thread-per-connection Architektur ist dabei grunds\u00e4tzlich effizienter als die process-per-connection Architektur, da Threads sehr viel leichtgewichtiger sind als Prozesse. Dennoch konsumieren Prozesse und Threads einen betr\u00e4chtlichen Teil an Betriebssytem Ressourcen. Immer wenn Prozesse vom Scheduler zur Bearbeitung an den CPU Kern zugeteilt werden, verursacht dies einen erheblichen Aufwand (sog. Context Switch ). Der Skalierbarkeit dieser Architektur sind also gewisse Grenzen gesetzt. Zus\u00e4tzlich zu dem Ressourcen-Aufwand des Thread- und Prozess-Handling (zB Context Switching ) verharren die Prozesse oder Threads oft in einem blockierenden Zustand. Eine Verbindung, welche eben von einem Prozess oder Thread bearbeitet wird, besteht meist aus vielen HTTP-Requests und HTTP-Responses ( HTTP 1.1 Connection Keep-Alive ). Die blockierende Zeit (Wartezeit) zwischen den HTTP-Requests, welche von Clients erzeugt werden, ist erheblich. Non-Blocking Architektur Den Performance Problemen der process-per-connection oder thread-per-connection basierten Architekturen steht die non-blocking ereignisgesteuerte Architektur vom Nginx Web-Server entgegen. \u00c4hnlich zur den Apache Architekturen gibt es einen Kontrollprozess (als Master genannt bei Nginx). Dieser Master erzeugt Worker Prozesse. Dabei gilt die vorgeschlagene Konfiguration, dass die Anzahl der Worker der Anzahl an CPU Kernen entsprechen soll (f\u00fcr produktive Konfigurationen). Nginx verwirft den Ansatz von einem Prozess oder Thread je Verbindung. Ein Worker orientiert sich an den HTTP-Requests unabh\u00e4ngig von den Verbindungen. Dies f\u00fchrt dazu, dass kein Blockieren entsteht und Worker kontinuierlich \"arbeiten\" und HTTP-Requests verarbeiten (von unterschiedlichen Verbindungen). Ebenfalls ist die Anzahl der Worker auf die Anzahl der verf\u00fcgbaren CPU Kerne zu verteilen. Dies f\u00fchrt dazu, dass kein Overhead f\u00fcr den Prozess- oder Thread-Wechsel seitens des Schedulers entsteht. Worker sind kontinuierlich mit der Verarbeitung von HTTP-Requests besch\u00e4ftigt und w\u00fcrden nur in den passiven Zustand wechseln, falls keine Arbeit mehr vorhanden ist.","title":"Einf\u00fchrung"},{"location":"webserver/einf%C3%BChrung/#web-server","text":"Ein Web-Server ist eine Software zur Verarbeitung von HTTP-Requests. Zu den typischen Aufgaben eines Web-Server geh\u00f6ren: Auslieferung von statischen Dateien Einsatz als Proxy-Server (Forward-Proxy oder Reverse-Proxy) Load Balancing URL Rewriting Virtual Hosting Bereitstellung von TLS HTTP-Request Verarbeitung (zB Ausf\u00fchrung von PHP-Skripten) uvm. Es gibt sehr viele unterschiedliche Web-Server Software Pakete. Nach Statistiken von W3Tech dominieren der Apache HTTP Server und Nginx das WWW.","title":"Web-Server"},{"location":"webserver/einf%C3%BChrung/#web-server-architektur","text":"Programme werden innerhalb von Prozessen oder Threads vom Betriebssystem ausgef\u00fchrt. Programme bestehen aus Instruktionen, welche vom Betriebssystem \u00fcber den Prozess/Thread auf entsprechenden CPU Kernen ausgef\u00fchrt werden. Komplexe Programme k\u00f6nnen aus mehreren Prozessen oder Threads bestehen. Der prim\u00e4re Grund daf\u00fcr ist die M\u00f6glichkeit Arbeit auf mehre CPU Kerne parallel zu verteilen.","title":"Web-Server Architektur"},{"location":"webserver/einf%C3%BChrung/#blocking-architektur","text":"Web-Server sollen dazu ausgelegt sein tausende von eingehenden HTTP-Requests zu verarbeiten. Eine g\u00e4ngige Architektur in Web-Servern (zum Beispiel Apache HTTP-Server) ist es f\u00fcr jede Verbindung einen Thread oder Prozess zur Bearbeitung bereitzustellen. Am Beispiel des Apache HTTP-Server gibt es zwei g\u00e4ngige Konfigurationen: Apache MPM prefork : Es gibt einen Kontrollprozess, welcher Kindprozesse (als Worker bezeichnet) startet und in einem Pool vorh\u00e4lt. Dabei werden eingehende Verbindungen jeweils von einem Worker-Prozess aus dem Pool bearbeitet. Allgemein spricht man bei der Apache MPM prefork Architektur von einer process-per-connection Architektur. Apache MPM worker : \u00c4hnlich zum MPM prefork gibt es einen Kontrollprozess, welcher Kindprozesse als Worker erzeugt. Ein Worker erzeugt jedoch jeweils einen Thread Pool . Die Verbindungen werden dann von den einzelnen Threads , welche von einem Worker verwaltet werden, abgearbeitet. Allgemein spricht man bei der Apache MPM worker Architektur von einer thread-per-connection Architektur. Diese Architekturen sind grunds\u00e4tzlich logisch aufgebaut, da jeder Netzwerkverbindung ein Thread oder Prozess gegen\u00fcbersteht. Die thread-per-connection Architektur ist dabei grunds\u00e4tzlich effizienter als die process-per-connection Architektur, da Threads sehr viel leichtgewichtiger sind als Prozesse. Dennoch konsumieren Prozesse und Threads einen betr\u00e4chtlichen Teil an Betriebssytem Ressourcen. Immer wenn Prozesse vom Scheduler zur Bearbeitung an den CPU Kern zugeteilt werden, verursacht dies einen erheblichen Aufwand (sog. Context Switch ). Der Skalierbarkeit dieser Architektur sind also gewisse Grenzen gesetzt. Zus\u00e4tzlich zu dem Ressourcen-Aufwand des Thread- und Prozess-Handling (zB Context Switching ) verharren die Prozesse oder Threads oft in einem blockierenden Zustand. Eine Verbindung, welche eben von einem Prozess oder Thread bearbeitet wird, besteht meist aus vielen HTTP-Requests und HTTP-Responses ( HTTP 1.1 Connection Keep-Alive ). Die blockierende Zeit (Wartezeit) zwischen den HTTP-Requests, welche von Clients erzeugt werden, ist erheblich.","title":"Blocking Architektur"},{"location":"webserver/einf%C3%BChrung/#non-blocking-architektur","text":"Den Performance Problemen der process-per-connection oder thread-per-connection basierten Architekturen steht die non-blocking ereignisgesteuerte Architektur vom Nginx Web-Server entgegen. \u00c4hnlich zur den Apache Architekturen gibt es einen Kontrollprozess (als Master genannt bei Nginx). Dieser Master erzeugt Worker Prozesse. Dabei gilt die vorgeschlagene Konfiguration, dass die Anzahl der Worker der Anzahl an CPU Kernen entsprechen soll (f\u00fcr produktive Konfigurationen). Nginx verwirft den Ansatz von einem Prozess oder Thread je Verbindung. Ein Worker orientiert sich an den HTTP-Requests unabh\u00e4ngig von den Verbindungen. Dies f\u00fchrt dazu, dass kein Blockieren entsteht und Worker kontinuierlich \"arbeiten\" und HTTP-Requests verarbeiten (von unterschiedlichen Verbindungen). Ebenfalls ist die Anzahl der Worker auf die Anzahl der verf\u00fcgbaren CPU Kerne zu verteilen. Dies f\u00fchrt dazu, dass kein Overhead f\u00fcr den Prozess- oder Thread-Wechsel seitens des Schedulers entsteht. Worker sind kontinuierlich mit der Verarbeitung von HTTP-Requests besch\u00e4ftigt und w\u00fcrden nur in den passiven Zustand wechseln, falls keine Arbeit mehr vorhanden ist.","title":"Non-Blocking Architektur"},{"location":"webserver/funktionen/","text":"Wichtige Funktionen Virtual Hosting Virtual Hosting ist eine Methode um mehrere Web-Anwendungen oder Websites \u00fcber einen Web-Server abzubilden. Dabei sind 2 Vorgehensweisen zu unterscheiden: Name-based Virtual Hosting: Mehrere DNS-Eintr\u00e4ge zeigen auf die selbe IP-Adresse auf der ein Web-Server ausgef\u00fchrt wird. In HTTP-Requests wird der Host-Header mitgesendet. \u00dcber diesen Header kann am Web-Server der zugeh\u00f6rige Virtual Host ausgew\u00e4hlt werden. Die ist die h\u00e4ufigste Form von Virtual Hosting, welche auch als Shared Hosting von Providern angeboten wird. IP-based Virtual Hosting: Ein Web-Server kann so konfiguriert sein, dass er \u00fcber mehrere IP-Adressen angesprochen werden kann. Dies kann zum Beispiel \u00fcber mehrer physiche Netzwerk-Interfaces oder mehreren virtuellen Netzwerk Interfaces auf dem Rechner durchgef\u00fchrt werden. Je nach IP-Adresse wird ein anderer Virtual Host aktiviert. Dies ist eher ein seltener Fall im Gegensatz zum Name-based Virtual Hosting. Proxy Als Proxy wird generell ein Intermedi\u00e4r zwischen Client und Server bezeichnet. Proxies sind ein wichtiger Bestandteil des WWW. Es werden f\u00fcr das WWW generell 2 Arten von Proxies unterschieden: Forward Proxy: HTTP-Requests werden \u00fcber einen Forward Proxy geleitet. Dadurch k\u00f6nnen eine Vielzahl von Funktionen realisiert werden: Caching, Blockieren von Seiten, Firewall, Identit\u00e4t ver\u00e4ndern (Puls4 in Deutschland streamen), etc. Der Web-Client muss den Proxy explizit konfigurieren. Reverse Proxy (aka Gateway): HTTP-Requests gehen ein \u00f6ffentliches Ziel, welcher ein Proxy ist. Der Proxy verteilt die HTTP-Requests nach konfigurierten Regeln an weitere Web-Server zur Verarbeitung. Einsatzzwecke f\u00fcr Reverse Proxies sind zum Beispiel Load Balancing oder die Bereitstellung von Ressourcen nach Au\u00dfen, welche hinter einer Firewall liegen. Am Web-Client m\u00fcssen daf\u00fcr keine Konfigurationen durchgef\u00fchrt werden. Common Gateway Interface (CGI) CGI ist ein Protokoll, welches von Web-Servern genutzt wird, um mit der Ausf\u00fchrungsumgebung (zB PHP) zu kommunizieren. Der Ablauf ist generell wie folgt spezifiziert: Der Web-Server bekommt den HTTP-Request \u00fcbergeben. \u00dcber das CGI-Interface wird der HTTP-Request an die PHP-Laufzeitumgebung \u00fcbergeben. Variablen, welche vom Web-Server an das Programm (\u00fcber CGI) \u00fcbergeben werden, sind \u00fcber das CGI-Interface definiert. Ein Gro\u00dfteil der Eintr\u00e4ge in der PHP $_SERVER Superglobal kommen aus dem CGI-Interface (zB 'QUERY_STRING', 'REMOTE_ADDR', 'SERVER_PROTOCOL'). Alle Ausgaben, welche \u00fcber die Standardausgabe gemacht werden (zB echo in PHP), werden direkt in den HTTP-Response Body \u00fcbergeben. Das Protokoll wurde 1997 in Version 1.1 im RFC 3875 standardisiert. Das Standard-CGI startet f\u00fcr jeden eingehenden HTTP-Request einen eigenen Prozess, welcher zur Abarbeitung verwendet wird, nach der Bearbeitung wird der Prozess wieder beendet. Dies erzeugt einen deutlichen Overhead, deshalb wurden viele Abwandlungen und Erweiterungen des Protokolls durchgef\u00fchrt: FastCGI: FastCGI wird als Dienst ausgef\u00fchrt und arbeitet eingehende Anfragen vom Web-Server ab. Es ensteht dabei kein Overhead f\u00fcr die Prozess Wiederverwendung. SCGI: SCGI ist das Simple CGI-Interface das \u00e4hnlich zu FastCGI funktioniert, aber einige Vereinfachungen durchf\u00fchrt, sodass eine Implementierung einfacher durchzuf\u00fchren ist. Eigene Implementierungen: Rack (Ruby Web-Server Interface), WSGI (Python Web-Server Gateway Interface) oder JSGI (JavaScript Web-Server Gateway Interface) sind spezifische Implementierungen von CGI f\u00fcr unterschiedliche Programmiersprachen. Info Nginx kann Web-Anwendungen, welche mit PHP programmiert wurden, \u00fcber das FastCGI Interface ausf\u00fchren. F\u00fcr den Apache Webserver wurde ein eigenes Modul f\u00fcr die Ausf\u00fchrung von PHP entwickelt ( mod_php ).","title":"Wichtige Funktionen"},{"location":"webserver/funktionen/#wichtige-funktionen","text":"","title":"Wichtige Funktionen"},{"location":"webserver/funktionen/#virtual-hosting","text":"Virtual Hosting ist eine Methode um mehrere Web-Anwendungen oder Websites \u00fcber einen Web-Server abzubilden. Dabei sind 2 Vorgehensweisen zu unterscheiden: Name-based Virtual Hosting: Mehrere DNS-Eintr\u00e4ge zeigen auf die selbe IP-Adresse auf der ein Web-Server ausgef\u00fchrt wird. In HTTP-Requests wird der Host-Header mitgesendet. \u00dcber diesen Header kann am Web-Server der zugeh\u00f6rige Virtual Host ausgew\u00e4hlt werden. Die ist die h\u00e4ufigste Form von Virtual Hosting, welche auch als Shared Hosting von Providern angeboten wird. IP-based Virtual Hosting: Ein Web-Server kann so konfiguriert sein, dass er \u00fcber mehrere IP-Adressen angesprochen werden kann. Dies kann zum Beispiel \u00fcber mehrer physiche Netzwerk-Interfaces oder mehreren virtuellen Netzwerk Interfaces auf dem Rechner durchgef\u00fchrt werden. Je nach IP-Adresse wird ein anderer Virtual Host aktiviert. Dies ist eher ein seltener Fall im Gegensatz zum Name-based Virtual Hosting.","title":"Virtual Hosting"},{"location":"webserver/funktionen/#proxy","text":"Als Proxy wird generell ein Intermedi\u00e4r zwischen Client und Server bezeichnet. Proxies sind ein wichtiger Bestandteil des WWW. Es werden f\u00fcr das WWW generell 2 Arten von Proxies unterschieden: Forward Proxy: HTTP-Requests werden \u00fcber einen Forward Proxy geleitet. Dadurch k\u00f6nnen eine Vielzahl von Funktionen realisiert werden: Caching, Blockieren von Seiten, Firewall, Identit\u00e4t ver\u00e4ndern (Puls4 in Deutschland streamen), etc. Der Web-Client muss den Proxy explizit konfigurieren. Reverse Proxy (aka Gateway): HTTP-Requests gehen ein \u00f6ffentliches Ziel, welcher ein Proxy ist. Der Proxy verteilt die HTTP-Requests nach konfigurierten Regeln an weitere Web-Server zur Verarbeitung. Einsatzzwecke f\u00fcr Reverse Proxies sind zum Beispiel Load Balancing oder die Bereitstellung von Ressourcen nach Au\u00dfen, welche hinter einer Firewall liegen. Am Web-Client m\u00fcssen daf\u00fcr keine Konfigurationen durchgef\u00fchrt werden.","title":"Proxy"},{"location":"webserver/funktionen/#common-gateway-interface-cgi","text":"CGI ist ein Protokoll, welches von Web-Servern genutzt wird, um mit der Ausf\u00fchrungsumgebung (zB PHP) zu kommunizieren. Der Ablauf ist generell wie folgt spezifiziert: Der Web-Server bekommt den HTTP-Request \u00fcbergeben. \u00dcber das CGI-Interface wird der HTTP-Request an die PHP-Laufzeitumgebung \u00fcbergeben. Variablen, welche vom Web-Server an das Programm (\u00fcber CGI) \u00fcbergeben werden, sind \u00fcber das CGI-Interface definiert. Ein Gro\u00dfteil der Eintr\u00e4ge in der PHP $_SERVER Superglobal kommen aus dem CGI-Interface (zB 'QUERY_STRING', 'REMOTE_ADDR', 'SERVER_PROTOCOL'). Alle Ausgaben, welche \u00fcber die Standardausgabe gemacht werden (zB echo in PHP), werden direkt in den HTTP-Response Body \u00fcbergeben. Das Protokoll wurde 1997 in Version 1.1 im RFC 3875 standardisiert. Das Standard-CGI startet f\u00fcr jeden eingehenden HTTP-Request einen eigenen Prozess, welcher zur Abarbeitung verwendet wird, nach der Bearbeitung wird der Prozess wieder beendet. Dies erzeugt einen deutlichen Overhead, deshalb wurden viele Abwandlungen und Erweiterungen des Protokolls durchgef\u00fchrt: FastCGI: FastCGI wird als Dienst ausgef\u00fchrt und arbeitet eingehende Anfragen vom Web-Server ab. Es ensteht dabei kein Overhead f\u00fcr die Prozess Wiederverwendung. SCGI: SCGI ist das Simple CGI-Interface das \u00e4hnlich zu FastCGI funktioniert, aber einige Vereinfachungen durchf\u00fchrt, sodass eine Implementierung einfacher durchzuf\u00fchren ist. Eigene Implementierungen: Rack (Ruby Web-Server Interface), WSGI (Python Web-Server Gateway Interface) oder JSGI (JavaScript Web-Server Gateway Interface) sind spezifische Implementierungen von CGI f\u00fcr unterschiedliche Programmiersprachen. Info Nginx kann Web-Anwendungen, welche mit PHP programmiert wurden, \u00fcber das FastCGI Interface ausf\u00fchren. F\u00fcr den Apache Webserver wurde ein eigenes Modul f\u00fcr die Ausf\u00fchrung von PHP entwickelt ( mod_php ).","title":"Common Gateway Interface (CGI)"},{"location":"webserver/nginx-konfiguration/","text":"Nginx Konfiguration Allgemeines Die einzelnen Konfigurationsdateien sind \u00fcber sog. Direktiven organisiert. Es gibt dabei einfache Direktiven und Block-Direktiven . Eine einfache Direktive besteht dabei aus einem Bezeichner und zugeh\u00f6rigen Konfigurationsparametern. Die Konfigurationsparameter sind \u00fcber Leerr\u00e4ume getrennt. Die einfache Direktive wird \u00fcber einen Strichpunkt abgeschlossen: name param_1 param_2 ... param_n; Eine Block-Direktive hat generell einen \u00e4hnlichen Aufbau zur einfachen Direktive . Innerhalb von geschweiften Klammern k\u00f6nnen jedoch noch weitere einfache Direktiven enthalten sein: name param_1 param_2 { inner_name param_i1 param_i2; # ... } Des Weiteren k\u00f6nnen innerhalb von Block-Direktiven verschachtelt weitere Block-Direktiven eingef\u00fcgt werden. Dadurch kann eine Hierarchie geformt werden: http { server { xyz p1 p2 \u2026; } } Bei einer Block-Direktive spricht man auch von einem Kontext der definiert wird. Dabei werden einfache Direktiven bei der Verschachtelung von Block-Direktiven nach innen vererbt. Der \u00c4u\u00dferste Kontext au\u00dferhalb einer Block-Direktive wird main oder globaler Kontext genannt. Kommentare in Konfigurationsdateien k\u00f6nnen \u00fcber die Raute ( # ) durchgef\u00fchrt werden. Die Hauptkonfiguration von Nginx findet sind in der Datei nginx.conf . Diese findet sich innerhalb der Windows Installation im Ordner conf . Aufbau Konfigurationsdatei Die Datei nginx.conf stellt die Hauptkonfigurationsdatei von Nginx dar. # Main/Global Kontext worker_processes 1; access_log logs/access.log; error_log logs/error.log; pid logs/nginx.pid; http { server { listen 80; server_name example.com; root C:\\example_root; location / { } location ~ \\.(png|jpeg|jpg) { } } server { listen 80; server_name mysite.at root C:\\other_root; } } Die wichtigsten Konfigurationsbl\u00f6cke f\u00fcr Nginx finden sich innerhalb von http , server und location . http Die http Direktive dient dabei als Abgrenzung auf oberster Ebene zu anderen Funktionen von Nginx. Alles was sich innerhalb der http Direktive befindet betrifft ausschlie\u00dflich die Web-Server Konfiguration. Nginx kann zum Beispiel auch als Mailserver oder Streamingserver verwendet werden (Konfiguration innerhalb mail oder stream Direktiven). server Die server Bl\u00f6cke definieren einen Virtual Host , welcher \u00fcber eine IP-Adresse, eine Domain oder einem Port bestimmt wird. Port und/oder IP-Adresse wird \u00fcber die listen Direktive bestimmt. Die Direktive server_name bestimmt die Domain, welche mit dem Virtual Host verkn\u00fcpft sein soll. Die Domain kann dabei auch als Regular Expression angegeben werden. location location Bl\u00f6cke befinden sich innerhalb von server Bl\u00f6cken und bestimmen wie einzelne HTTP-Requests verarbeitet werden. Es kann zum Beispiel bestimmt werden, ob: URIs als statische Dateien zur\u00fcck gegeben werden sollen URIs PHP Skripte ansteuern sollen URIs weitergeleitet werden sollen (Reverse Proxy Funktion) URIs authentifiziert werden sollen uvm. Eine location Direktive hat folgenden Aufbau: location optional_modifier location_match { } Der location_match wird als String oder als Regular Expression interpretiert, abh\u00e4ngig vom optional_modifier . Einige Beispiele sollen die Varianten aufzeigen: Exact Match Im Falle von = als optional_modifier wird ein exakter Match des location_match ben\u00f6tigt, dass die URI \u00fcber die location verarbeitet wird. Im unten angegeben Beispiel w\u00fcrde die URI /special/path exakt im HTTP-Request angefragt werden m\u00fcssen, dass die location zur Anwendung kommt. location = /special/path { } Prefix Falls kein optional_modifier angegeben wurden, wird der location_match als Prefix interpretiert. Im unten angef\u00fchrten Beispiel w\u00fcrden alle URIs, welche /example/ als Prefix haben von diesem location Block verarbeitet. location /example/ { } Regex Matching Der optional_modifier ~ oder ~* bedeuten, dass der location_match als case-sensitive oder case-insensitive Regular Expression interpretiert werden soll. In unten angegebenen Beispiel w\u00fcrden alle URIs, welche mit einem Bild-Suffix enden (auch case-insensitive) von der location verarbeiten. location ~* \\.(png|gif|ico|jpg|jpeg)$ { } Konfigurationsbeispiele Worker Prozesse Im globalen Kontext finden sich Konfigurationen, welche den gesamten Server betreffen zum Beispiel die Anzahl der Worker Prozesse. Mit der Direktive worker_processes kann dies bestimmt werden. Aufgrund der Architektur von Nginx sollte innerhalb einer Produktivumgebung die Anzahl der Worker der Anzahl der CPU Kerne entsprechen (Daf\u00fcr kann der Parameter auto verwendet werden). worker_processes 2; Wenn die Anzahl der Worker Prozesse zum Beispiel auf 2 gesetzt wird, sieht die Prozessauflistung im Windows Task-Manager in etwa so aus: Dort sind 3 Nginx Prozesse ersichtlich. Dabei ist ein Prozess der Masterprozess , welcher die Konfiguration und die Verwaltung der Worker durchf\u00fchrt. 2 Prozesse sind die Worker , welche f\u00fcr die Verarbeitung der HTTP-Requests gestartet wurden. Virtual Hosting Am localhost kann durch Eintr\u00e4ge in die Hosts-Datei die DNS-Aufl\u00f6sung f\u00fcr beliebige Domains statisch durchgef\u00fchrt werden. Die Hosts-Datei ist in folgenden Ordnern zu finden: Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Unix: /etc/hosts Innerhalb der Hosts-Datei k\u00f6nnen folgende Eintr\u00e4ge durchgef\u00fchrt werden: # Kommentare mit # # IP-Adresse / Hostname \u00fcber Leerraum getrennt 127.0.0.1 webshop.local 127.0.0.1 websnap.local Dies w\u00fcrde dazu f\u00fchren, dass die Domains webshop.local und websnap.local beide mit der IP-Adresse 127.0.0.1 aufgel\u00f6st werden. Innerhalb der nginx.conf Datei k\u00f6nnen nun 2 Virtual Hosts eingerichtet werden. Virtual Hosts werden innerhalb der http Direktive mit der server Direktive eingerichtet. Innerhalb der server Direktive werden die Direktiven listen , server_name und root verwendet. Die 3 Direktiven haben folgende Bedeutung: listen : Mit listen wird spezifiziert auf welchem Port der virtual Host auf eingehende HTTP-Requests reagieren soll. server_name : Durch server_name werden die Regeln f\u00fcr den Host-Header angegeben f\u00fcr den der Virtual Host definiert wurde (siehe Name-based Virtual Hosting ). root : Mit root wird der Web-Root angegeben. Von diesem Verzeichnis aus werden Dateien vom Web-Server \u00fcber den URI-Pfad identifiziert. http { # andere Konfigurationen \u2026 server { listen 80; server_name webshop.local; root C:\\examples\\webshop; } server { listen 80; server_name websnap.local; root C:\\examples\\websnap; } } Falls die beiden Ordner erstellt werden, k\u00f6nnen jeweils 2 index.hml Dateien angelegt werden. In den Dateien sollen jeweils h1-\u00dcberschriften angelegt werden: Zum Beispiel w\u00fcrde die Datei C:\\examples\\webshop\\index.html in etwa so aussehen: < h1 > Webshop </ h1 > Falls Nginx gestartet und die Konfiguration neu geladen wurde, k\u00f6nnen die Websites im Web-Browser aufgerufen werden. Nginx und PHP (FastCGI) Falls PHP wie hier beschrieben installiert wurde, kann PHP als CGI Modul gestartet werden. Dabei wird PHP als laufender Prozess gestartet. Der Web-Server kann diesen Prozess zur Ausf\u00fchrung von PHP, innerhalb der Verarbeitung eines HTTP-Requests, nutzen. Mit dem Command php-cgi kann PHP als CGI Modul gestartet werden. Mit dem Flag -b kann die IP-Adresse bzw. der Port angegeben werden auf den der Socket reagiert: Info F\u00fcr eine produktive Umgebung ist dieses Vorgehen nicht gedacht. Dazu soll der FastCGI Process Manager (FPM) genutzt werden. Der Virtual Host f\u00fcr die Domain webshop.local muss etwas angepasst werden. Dazu werden unter anderem Variablen verwendet, welche von Nginx bereitgestellt werden (Variablen beginnen mit $ ). Die Variable $uri gibt den Pfad, welcher im HTTP-Request angefragt wurde wieder. Die Direktive try_files innerhalb der location versucht ob es die Datei $uri im Web-Root gibt. Falls diese Datei vorhanden ist, wird sie als statische Datei zur\u00fcckgegeben. Anderenfalls wird die Uri /index.php?$query_string ausgew\u00e4hlt. Dadurch wird die n\u00e4chste passende location gesucht. Durch die Angabe von ~ wird eine Regex spezifiziert (Uri mit einer .php Datei). In dieser location wird der HTTP-Request an das CGI-Interface weitergegeben. Dort wird das PHP-Skript ausgef\u00fchrt und der HTTP-Response erzeugt. http { # andere Konfigurationen ... server { listen 80; server_name webshop.local; root C:\\Pfad\\zum\\Uebungsblatt-2\\public; location / { try_files $uri /index.php?$query_string; } location ~ \\.php$ { fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; fastcgi_pass 127.0.0.1:9123; } } Das Projekt aus \u00dcbungsblatt 2 kann bei entsprechender Konfiguration \u00fcber Nginx ausgef\u00fchrt werden. Nach Aufruf der Domain webshop.local sollte der entsprechende Webshop erscheinen:","title":"Nginx Konfiguration"},{"location":"webserver/nginx-konfiguration/#nginx-konfiguration","text":"","title":"Nginx Konfiguration"},{"location":"webserver/nginx-konfiguration/#allgemeines","text":"Die einzelnen Konfigurationsdateien sind \u00fcber sog. Direktiven organisiert. Es gibt dabei einfache Direktiven und Block-Direktiven . Eine einfache Direktive besteht dabei aus einem Bezeichner und zugeh\u00f6rigen Konfigurationsparametern. Die Konfigurationsparameter sind \u00fcber Leerr\u00e4ume getrennt. Die einfache Direktive wird \u00fcber einen Strichpunkt abgeschlossen: name param_1 param_2 ... param_n; Eine Block-Direktive hat generell einen \u00e4hnlichen Aufbau zur einfachen Direktive . Innerhalb von geschweiften Klammern k\u00f6nnen jedoch noch weitere einfache Direktiven enthalten sein: name param_1 param_2 { inner_name param_i1 param_i2; # ... } Des Weiteren k\u00f6nnen innerhalb von Block-Direktiven verschachtelt weitere Block-Direktiven eingef\u00fcgt werden. Dadurch kann eine Hierarchie geformt werden: http { server { xyz p1 p2 \u2026; } } Bei einer Block-Direktive spricht man auch von einem Kontext der definiert wird. Dabei werden einfache Direktiven bei der Verschachtelung von Block-Direktiven nach innen vererbt. Der \u00c4u\u00dferste Kontext au\u00dferhalb einer Block-Direktive wird main oder globaler Kontext genannt. Kommentare in Konfigurationsdateien k\u00f6nnen \u00fcber die Raute ( # ) durchgef\u00fchrt werden. Die Hauptkonfiguration von Nginx findet sind in der Datei nginx.conf . Diese findet sich innerhalb der Windows Installation im Ordner conf .","title":"Allgemeines"},{"location":"webserver/nginx-konfiguration/#aufbau-konfigurationsdatei","text":"Die Datei nginx.conf stellt die Hauptkonfigurationsdatei von Nginx dar. # Main/Global Kontext worker_processes 1; access_log logs/access.log; error_log logs/error.log; pid logs/nginx.pid; http { server { listen 80; server_name example.com; root C:\\example_root; location / { } location ~ \\.(png|jpeg|jpg) { } } server { listen 80; server_name mysite.at root C:\\other_root; } } Die wichtigsten Konfigurationsbl\u00f6cke f\u00fcr Nginx finden sich innerhalb von http , server und location .","title":"Aufbau Konfigurationsdatei"},{"location":"webserver/nginx-konfiguration/#http","text":"Die http Direktive dient dabei als Abgrenzung auf oberster Ebene zu anderen Funktionen von Nginx. Alles was sich innerhalb der http Direktive befindet betrifft ausschlie\u00dflich die Web-Server Konfiguration. Nginx kann zum Beispiel auch als Mailserver oder Streamingserver verwendet werden (Konfiguration innerhalb mail oder stream Direktiven).","title":"http"},{"location":"webserver/nginx-konfiguration/#server","text":"Die server Bl\u00f6cke definieren einen Virtual Host , welcher \u00fcber eine IP-Adresse, eine Domain oder einem Port bestimmt wird. Port und/oder IP-Adresse wird \u00fcber die listen Direktive bestimmt. Die Direktive server_name bestimmt die Domain, welche mit dem Virtual Host verkn\u00fcpft sein soll. Die Domain kann dabei auch als Regular Expression angegeben werden.","title":"server"},{"location":"webserver/nginx-konfiguration/#location","text":"location Bl\u00f6cke befinden sich innerhalb von server Bl\u00f6cken und bestimmen wie einzelne HTTP-Requests verarbeitet werden. Es kann zum Beispiel bestimmt werden, ob: URIs als statische Dateien zur\u00fcck gegeben werden sollen URIs PHP Skripte ansteuern sollen URIs weitergeleitet werden sollen (Reverse Proxy Funktion) URIs authentifiziert werden sollen uvm. Eine location Direktive hat folgenden Aufbau: location optional_modifier location_match { } Der location_match wird als String oder als Regular Expression interpretiert, abh\u00e4ngig vom optional_modifier . Einige Beispiele sollen die Varianten aufzeigen:","title":"location"},{"location":"webserver/nginx-konfiguration/#exact-match","text":"Im Falle von = als optional_modifier wird ein exakter Match des location_match ben\u00f6tigt, dass die URI \u00fcber die location verarbeitet wird. Im unten angegeben Beispiel w\u00fcrde die URI /special/path exakt im HTTP-Request angefragt werden m\u00fcssen, dass die location zur Anwendung kommt. location = /special/path { }","title":"Exact Match"},{"location":"webserver/nginx-konfiguration/#prefix","text":"Falls kein optional_modifier angegeben wurden, wird der location_match als Prefix interpretiert. Im unten angef\u00fchrten Beispiel w\u00fcrden alle URIs, welche /example/ als Prefix haben von diesem location Block verarbeitet. location /example/ { }","title":"Prefix"},{"location":"webserver/nginx-konfiguration/#regex-matching","text":"Der optional_modifier ~ oder ~* bedeuten, dass der location_match als case-sensitive oder case-insensitive Regular Expression interpretiert werden soll. In unten angegebenen Beispiel w\u00fcrden alle URIs, welche mit einem Bild-Suffix enden (auch case-insensitive) von der location verarbeiten. location ~* \\.(png|gif|ico|jpg|jpeg)$ { }","title":"Regex Matching"},{"location":"webserver/nginx-konfiguration/#konfigurationsbeispiele","text":"","title":"Konfigurationsbeispiele"},{"location":"webserver/nginx-konfiguration/#worker-prozesse","text":"Im globalen Kontext finden sich Konfigurationen, welche den gesamten Server betreffen zum Beispiel die Anzahl der Worker Prozesse. Mit der Direktive worker_processes kann dies bestimmt werden. Aufgrund der Architektur von Nginx sollte innerhalb einer Produktivumgebung die Anzahl der Worker der Anzahl der CPU Kerne entsprechen (Daf\u00fcr kann der Parameter auto verwendet werden). worker_processes 2; Wenn die Anzahl der Worker Prozesse zum Beispiel auf 2 gesetzt wird, sieht die Prozessauflistung im Windows Task-Manager in etwa so aus: Dort sind 3 Nginx Prozesse ersichtlich. Dabei ist ein Prozess der Masterprozess , welcher die Konfiguration und die Verwaltung der Worker durchf\u00fchrt. 2 Prozesse sind die Worker , welche f\u00fcr die Verarbeitung der HTTP-Requests gestartet wurden.","title":"Worker Prozesse"},{"location":"webserver/nginx-konfiguration/#virtual-hosting","text":"Am localhost kann durch Eintr\u00e4ge in die Hosts-Datei die DNS-Aufl\u00f6sung f\u00fcr beliebige Domains statisch durchgef\u00fchrt werden. Die Hosts-Datei ist in folgenden Ordnern zu finden: Windows: C:\\Windows\\System32\\drivers\\etc\\hosts Unix: /etc/hosts Innerhalb der Hosts-Datei k\u00f6nnen folgende Eintr\u00e4ge durchgef\u00fchrt werden: # Kommentare mit # # IP-Adresse / Hostname \u00fcber Leerraum getrennt 127.0.0.1 webshop.local 127.0.0.1 websnap.local Dies w\u00fcrde dazu f\u00fchren, dass die Domains webshop.local und websnap.local beide mit der IP-Adresse 127.0.0.1 aufgel\u00f6st werden. Innerhalb der nginx.conf Datei k\u00f6nnen nun 2 Virtual Hosts eingerichtet werden. Virtual Hosts werden innerhalb der http Direktive mit der server Direktive eingerichtet. Innerhalb der server Direktive werden die Direktiven listen , server_name und root verwendet. Die 3 Direktiven haben folgende Bedeutung: listen : Mit listen wird spezifiziert auf welchem Port der virtual Host auf eingehende HTTP-Requests reagieren soll. server_name : Durch server_name werden die Regeln f\u00fcr den Host-Header angegeben f\u00fcr den der Virtual Host definiert wurde (siehe Name-based Virtual Hosting ). root : Mit root wird der Web-Root angegeben. Von diesem Verzeichnis aus werden Dateien vom Web-Server \u00fcber den URI-Pfad identifiziert. http { # andere Konfigurationen \u2026 server { listen 80; server_name webshop.local; root C:\\examples\\webshop; } server { listen 80; server_name websnap.local; root C:\\examples\\websnap; } } Falls die beiden Ordner erstellt werden, k\u00f6nnen jeweils 2 index.hml Dateien angelegt werden. In den Dateien sollen jeweils h1-\u00dcberschriften angelegt werden: Zum Beispiel w\u00fcrde die Datei C:\\examples\\webshop\\index.html in etwa so aussehen: < h1 > Webshop </ h1 > Falls Nginx gestartet und die Konfiguration neu geladen wurde, k\u00f6nnen die Websites im Web-Browser aufgerufen werden.","title":"Virtual Hosting"},{"location":"webserver/nginx-konfiguration/#nginx-und-php-fastcgi","text":"Falls PHP wie hier beschrieben installiert wurde, kann PHP als CGI Modul gestartet werden. Dabei wird PHP als laufender Prozess gestartet. Der Web-Server kann diesen Prozess zur Ausf\u00fchrung von PHP, innerhalb der Verarbeitung eines HTTP-Requests, nutzen. Mit dem Command php-cgi kann PHP als CGI Modul gestartet werden. Mit dem Flag -b kann die IP-Adresse bzw. der Port angegeben werden auf den der Socket reagiert: Info F\u00fcr eine produktive Umgebung ist dieses Vorgehen nicht gedacht. Dazu soll der FastCGI Process Manager (FPM) genutzt werden. Der Virtual Host f\u00fcr die Domain webshop.local muss etwas angepasst werden. Dazu werden unter anderem Variablen verwendet, welche von Nginx bereitgestellt werden (Variablen beginnen mit $ ). Die Variable $uri gibt den Pfad, welcher im HTTP-Request angefragt wurde wieder. Die Direktive try_files innerhalb der location versucht ob es die Datei $uri im Web-Root gibt. Falls diese Datei vorhanden ist, wird sie als statische Datei zur\u00fcckgegeben. Anderenfalls wird die Uri /index.php?$query_string ausgew\u00e4hlt. Dadurch wird die n\u00e4chste passende location gesucht. Durch die Angabe von ~ wird eine Regex spezifiziert (Uri mit einer .php Datei). In dieser location wird der HTTP-Request an das CGI-Interface weitergegeben. Dort wird das PHP-Skript ausgef\u00fchrt und der HTTP-Response erzeugt. http { # andere Konfigurationen ... server { listen 80; server_name webshop.local; root C:\\Pfad\\zum\\Uebungsblatt-2\\public; location / { try_files $uri /index.php?$query_string; } location ~ \\.php$ { fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; fastcgi_pass 127.0.0.1:9123; } } Das Projekt aus \u00dcbungsblatt 2 kann bei entsprechender Konfiguration \u00fcber Nginx ausgef\u00fchrt werden. Nach Aufruf der Domain webshop.local sollte der entsprechende Webshop erscheinen:","title":"Nginx und PHP (FastCGI)"},{"location":"webserver/nginx-nutzung/","text":"Nutzung Nginx Installation (Windows) Unter Downloads findet man auch eine Windows Version von Nginx. Es soll die Stable Version des Nginx f\u00fcr Windows heruntergeladen werden. Der Download besteht aus einem Zip-Archiv. Das Zip-Archiv kann in den Ordner C:\\nginx entpackt werden. Nutzung Wichtig Windows blockiert Port 80 gerne mit eigenartigen Diensten. Ein g\u00e4ngiges Problem ist ein omin\u00f6ser http Dienst unter Windows. Dieser kann innerhalb einer als Administrator ausgef\u00fchrten Powershell mit net stop http beendet werden. Andere Probleme/L\u00f6sungen k\u00f6nnen zum Beispiel hier gefunden werden. Alle Befehle zur Verwaltung von Nginx m\u00fcssen im Ordner C:\\nginx ausgef\u00fchrt werden. Vorausgesetzt das der Web-Server wie oben entpackt wurde. Starten Durch die Angabe von start wird der entsprechende Befehl als Hintergrundprozess gestartet. Auch nachdem Schlie\u00dfen der Powershell bleibt dieser am Laufen. Signale senden Falls Nginx als Hintergrundprozess gestartet wurde, k\u00f6nnen Signale an den Prozess gesendet werden. Folgende Signale werden unterst\u00fctzt: stop : Beendet Nginx sofort quit : Arbeitet noch alle offenen HTTP-Requests ab und beendet Nginx dannach reload : Neuladen der Konfiguration reopen : Log-Files neu \u00f6ffnen Signale werden \u00fcber das nginx Command an den Prozess gesendet:","title":"Nginx Nutzung"},{"location":"webserver/nginx-nutzung/#nutzung-nginx","text":"","title":"Nutzung Nginx"},{"location":"webserver/nginx-nutzung/#installation-windows","text":"Unter Downloads findet man auch eine Windows Version von Nginx. Es soll die Stable Version des Nginx f\u00fcr Windows heruntergeladen werden. Der Download besteht aus einem Zip-Archiv. Das Zip-Archiv kann in den Ordner C:\\nginx entpackt werden.","title":"Installation (Windows)"},{"location":"webserver/nginx-nutzung/#nutzung","text":"Wichtig Windows blockiert Port 80 gerne mit eigenartigen Diensten. Ein g\u00e4ngiges Problem ist ein omin\u00f6ser http Dienst unter Windows. Dieser kann innerhalb einer als Administrator ausgef\u00fchrten Powershell mit net stop http beendet werden. Andere Probleme/L\u00f6sungen k\u00f6nnen zum Beispiel hier gefunden werden. Alle Befehle zur Verwaltung von Nginx m\u00fcssen im Ordner C:\\nginx ausgef\u00fchrt werden. Vorausgesetzt das der Web-Server wie oben entpackt wurde.","title":"Nutzung"},{"location":"webserver/nginx-nutzung/#starten","text":"Durch die Angabe von start wird der entsprechende Befehl als Hintergrundprozess gestartet. Auch nachdem Schlie\u00dfen der Powershell bleibt dieser am Laufen.","title":"Starten"},{"location":"webserver/nginx-nutzung/#signale-senden","text":"Falls Nginx als Hintergrundprozess gestartet wurde, k\u00f6nnen Signale an den Prozess gesendet werden. Folgende Signale werden unterst\u00fctzt: stop : Beendet Nginx sofort quit : Arbeitet noch alle offenen HTTP-Requests ab und beendet Nginx dannach reload : Neuladen der Konfiguration reopen : Log-Files neu \u00f6ffnen Signale werden \u00fcber das nginx Command an den Prozess gesendet:","title":"Signale senden"},{"location":"webserver/websockets/","text":"WebSockets WebSockets sind Client-initiierte persistente full-duplex Kommunikationskan\u00e4le zwischen Web-Browser und Web-Server. Der Web-Browser initiiert den WebSocket \u00fcber einen sog. WebSocket Handshake Request. Falls der Web-Server das WebSocket Protokoll unterst\u00fctzt, antwortet dieser mit einem 101 Status und die bestehende TCP-Verbindung wird f\u00fcr den WebSocket verwendet. Der Web-Browser w\u00fcrde beispielsweise folgenden HTTP-Request als WebSocket Handshake Request an den Web-Server senden: GET ws://localhost:9080/ HTTP/1.1 Host: localhost:9080 Connection: Upgrade Upgrade: websocket Dies entspricht einem klassischen GET-Request. Wichtig ist, dass die URI mit dem Protokoll ws beginnt. Zus\u00e4tzlich werden die HTTP-Header Connection: Upgrade und Upgrade: websocket angegeben. Dies soll den Web-Server veranlassen, dass eben eine WebSocket Verbindung aufgebaut wird. Der Web-Server w\u00fcrde, falls er das Protokoll unterst\u00fctzt, folgenden HTTP-Response senden: HTTP/1.1 101 Switching Protocols Upgrade: websocket Connection: Upgrade Der Status 101 w\u00fcrde hier bedeuten, dass das HTTP-Protkoll gewechselt wird und entsprechend das WebSocket-Protokoll verwendet wird. Web-Browser API In allen modernen Web-Browsern wird die WebSocket API unterst\u00fctzt. Die WebSocket API bietet die M\u00f6glichkeit asynchrone Nachrichten vom Web-Server \u00fcber die Angabe einer JavaScript Funktion abzuarbeiten. Es gibt unterschiedliche WebSocket Events, welche im Web-Browser eintreten k\u00f6nnen und f\u00fcr welche entsprechende Handler definiert werden m\u00fcssen: onmessage: Event f\u00fcr den Eingang einer Nachricht vom Web-Server onconnection: Event f\u00fcr den erfolgreichen Verbindungsaufbau mit dem Web-Server onerror: Event f\u00fcr das Auftreten eines Fehlers zum Web-Server onclose: Event f\u00fcr das Schlie\u00dfen einer Verbindung Die Methode send der WebSocket-Connection kann im Web-Browser genutzt werden um Nachrichten an den Web-Server zu senden. Folgend wird ein einfaches Beispiel gegeben wie WebSockets im Web-Browser genutzt werden k\u00f6nnen: let connection = new WebSocket ( 'ws://localhost:8080' ); // wss://... f\u00fcr verschl\u00fcsselte Kommunikation connection . onmessage = function ( e ) { // \u00fcber einen Eventhandler (JavaScript Funktion), werden // Nachrichteneing\u00e4nge im Client abgearbeitet (asynchron) console . log ( \"message from server: \" + e . data ); }; // Nachrichten k\u00f6nnen an den Server gesendet werden connection . send ( \"Hello I'm here!\" ); WebSockets in PHP PHP hat keine native WebSocket API. Es gibt jedoch unterschiedliche Bibliotheken, welche einfache Interfaces bereitstellen um WebSockets zu implementieren. Die Bibliothek Ratchet ist ein Beispiel f\u00fcr eine PHP-Bibliothek zur Implementierung von WebSockets . Im Prinzip muss ein Interface implementiert werden, das \u00e4hnliche Methode wie die JavaScript API aufweist: <?php namespace App ; use Ratchet\\MessageComponentInterface ; use Ratchet\\ConnectionInterface ; class Chat implements MessageComponentInterface { public function onOpen ( ConnectionInterface $conn ) { } public function onMessage ( ConnectionInterface $from , $message ) { } public function onClose ( ConnectionInterface $conn ) { } public function onError ( ConnectionInterface $conn , \\Exception $e ) { } } Einfaches Beispiel Durch die Web-Server Architektur von Nginx werden WebSockets unterst\u00fctzt. Innerhalb eines bereitgestellten Git-Repository wurde ein Chat mittels WebSockets implementiert. Das Projekt besteht aus einer index.html , welche unter anderem den notwendigen JavaScript Code f\u00fcr die WebSocket Anbindung am Client enth\u00e4lt. Ebenfalls findet sich eine Implementierung MessageComponentInterface in PHP f\u00fcr die serverseitige Implementierung des Chats. Dieses Programm wird als PHP Dienst am Web-Server gestartet. F\u00fcr das Projekt werden 2 Dom\u00e4nen ben\u00f6tigt. Einerseits die Domain chat.local , welche die index.html Datei \u00fcber das HTTP-Protokoll ausliefert. Andererseits die Domain socket.chat.local , welche f\u00fcr WebSocket Datenverkehr verwantwortlich ist. In der Hosts-Datei m\u00fcssen dazu folgende Dom\u00e4nen erg\u00e4nzt werden: # Kommentare mit # # IP-Adresse / Hostname \u00fcber Leerraum getrennt 127.0.0.1 chat.local 127.0.0.1 socket.chat.local Nginx wird f\u00fcr die WebSocket Anbindung als Reverse Proxy konfiguriert und leitet die WebSocket Kommunikation an das entsprechende PHP-Programm weiter: http { server { listen 80 ; server_name chat.local ; root C:\\examples\\web-socket-demo\\public ; } server { listen 80 ; server_name socket.chat.local ; location / { proxy_pass http://localhost:9080 ; proxy_http_version 1 .1 ; proxy_set_header Upgrade $http_upgrade ; proxy_set_header Connection \"upgrade\" ; } } } Zum Start und zur Ausf\u00fchrung des Projektes m\u00fcssen die Schritte in der README befolgt werden. Eine Chat-Konversation zwischen Alice und Bob w\u00fcrde folgenderma\u00dfen aussehen. Die \u00e4ltesten Nachrichten stehen jeweils unten und Alice war bereits im Chatfenster als Bob sich einloggte:","title":"WebSockets"},{"location":"webserver/websockets/#websockets","text":"WebSockets sind Client-initiierte persistente full-duplex Kommunikationskan\u00e4le zwischen Web-Browser und Web-Server. Der Web-Browser initiiert den WebSocket \u00fcber einen sog. WebSocket Handshake Request. Falls der Web-Server das WebSocket Protokoll unterst\u00fctzt, antwortet dieser mit einem 101 Status und die bestehende TCP-Verbindung wird f\u00fcr den WebSocket verwendet. Der Web-Browser w\u00fcrde beispielsweise folgenden HTTP-Request als WebSocket Handshake Request an den Web-Server senden: GET ws://localhost:9080/ HTTP/1.1 Host: localhost:9080 Connection: Upgrade Upgrade: websocket Dies entspricht einem klassischen GET-Request. Wichtig ist, dass die URI mit dem Protokoll ws beginnt. Zus\u00e4tzlich werden die HTTP-Header Connection: Upgrade und Upgrade: websocket angegeben. Dies soll den Web-Server veranlassen, dass eben eine WebSocket Verbindung aufgebaut wird. Der Web-Server w\u00fcrde, falls er das Protokoll unterst\u00fctzt, folgenden HTTP-Response senden: HTTP/1.1 101 Switching Protocols Upgrade: websocket Connection: Upgrade Der Status 101 w\u00fcrde hier bedeuten, dass das HTTP-Protkoll gewechselt wird und entsprechend das WebSocket-Protokoll verwendet wird.","title":"WebSockets"},{"location":"webserver/websockets/#web-browser-api","text":"In allen modernen Web-Browsern wird die WebSocket API unterst\u00fctzt. Die WebSocket API bietet die M\u00f6glichkeit asynchrone Nachrichten vom Web-Server \u00fcber die Angabe einer JavaScript Funktion abzuarbeiten. Es gibt unterschiedliche WebSocket Events, welche im Web-Browser eintreten k\u00f6nnen und f\u00fcr welche entsprechende Handler definiert werden m\u00fcssen: onmessage: Event f\u00fcr den Eingang einer Nachricht vom Web-Server onconnection: Event f\u00fcr den erfolgreichen Verbindungsaufbau mit dem Web-Server onerror: Event f\u00fcr das Auftreten eines Fehlers zum Web-Server onclose: Event f\u00fcr das Schlie\u00dfen einer Verbindung Die Methode send der WebSocket-Connection kann im Web-Browser genutzt werden um Nachrichten an den Web-Server zu senden. Folgend wird ein einfaches Beispiel gegeben wie WebSockets im Web-Browser genutzt werden k\u00f6nnen: let connection = new WebSocket ( 'ws://localhost:8080' ); // wss://... f\u00fcr verschl\u00fcsselte Kommunikation connection . onmessage = function ( e ) { // \u00fcber einen Eventhandler (JavaScript Funktion), werden // Nachrichteneing\u00e4nge im Client abgearbeitet (asynchron) console . log ( \"message from server: \" + e . data ); }; // Nachrichten k\u00f6nnen an den Server gesendet werden connection . send ( \"Hello I'm here!\" );","title":"Web-Browser API"},{"location":"webserver/websockets/#websockets-in-php","text":"PHP hat keine native WebSocket API. Es gibt jedoch unterschiedliche Bibliotheken, welche einfache Interfaces bereitstellen um WebSockets zu implementieren. Die Bibliothek Ratchet ist ein Beispiel f\u00fcr eine PHP-Bibliothek zur Implementierung von WebSockets . Im Prinzip muss ein Interface implementiert werden, das \u00e4hnliche Methode wie die JavaScript API aufweist: <?php namespace App ; use Ratchet\\MessageComponentInterface ; use Ratchet\\ConnectionInterface ; class Chat implements MessageComponentInterface { public function onOpen ( ConnectionInterface $conn ) { } public function onMessage ( ConnectionInterface $from , $message ) { } public function onClose ( ConnectionInterface $conn ) { } public function onError ( ConnectionInterface $conn , \\Exception $e ) { } }","title":"WebSockets in PHP"},{"location":"webserver/websockets/#einfaches-beispiel","text":"Durch die Web-Server Architektur von Nginx werden WebSockets unterst\u00fctzt. Innerhalb eines bereitgestellten Git-Repository wurde ein Chat mittels WebSockets implementiert. Das Projekt besteht aus einer index.html , welche unter anderem den notwendigen JavaScript Code f\u00fcr die WebSocket Anbindung am Client enth\u00e4lt. Ebenfalls findet sich eine Implementierung MessageComponentInterface in PHP f\u00fcr die serverseitige Implementierung des Chats. Dieses Programm wird als PHP Dienst am Web-Server gestartet. F\u00fcr das Projekt werden 2 Dom\u00e4nen ben\u00f6tigt. Einerseits die Domain chat.local , welche die index.html Datei \u00fcber das HTTP-Protokoll ausliefert. Andererseits die Domain socket.chat.local , welche f\u00fcr WebSocket Datenverkehr verwantwortlich ist. In der Hosts-Datei m\u00fcssen dazu folgende Dom\u00e4nen erg\u00e4nzt werden: # Kommentare mit # # IP-Adresse / Hostname \u00fcber Leerraum getrennt 127.0.0.1 chat.local 127.0.0.1 socket.chat.local Nginx wird f\u00fcr die WebSocket Anbindung als Reverse Proxy konfiguriert und leitet die WebSocket Kommunikation an das entsprechende PHP-Programm weiter: http { server { listen 80 ; server_name chat.local ; root C:\\examples\\web-socket-demo\\public ; } server { listen 80 ; server_name socket.chat.local ; location / { proxy_pass http://localhost:9080 ; proxy_http_version 1 .1 ; proxy_set_header Upgrade $http_upgrade ; proxy_set_header Connection \"upgrade\" ; } } } Zum Start und zur Ausf\u00fchrung des Projektes m\u00fcssen die Schritte in der README befolgt werden. Eine Chat-Konversation zwischen Alice und Bob w\u00fcrde folgenderma\u00dfen aussehen. Die \u00e4ltesten Nachrichten stehen jeweils unten und Alice war bereits im Chatfenster als Bob sich einloggte:","title":"Einfaches Beispiel"}]}